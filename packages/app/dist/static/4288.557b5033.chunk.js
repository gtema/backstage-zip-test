(()=>{var zu=(Te,S)=>()=>(S||Te((S={exports:{}}).exports,S),S.exports);var Hu=zu((exports,module)=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4288],{67898:function(Te,S,l){"use strict";l.d(S,{t:function(){return J}});var o=l(34520),m="http://json-schema.org/draft-07/schema",R="TemplateV1beta3",O="A Template describes a scaffolding task for use with the Scaffolder. It describes the required parameters as well as a series of steps that will be taken to execute the scaffolding task.",D=[{apiVersion:"scaffolder.backstage.io/v1beta3",kind:"Template",metadata:{name:"react-ssr-template",title:"React SSR Template",description:"Next.js application skeleton for creating isomorphic web applications.",tags:["recommended","react"]},spec:{owner:"artist-relations-team",parameters:{required:["name","description","repoUrl"],"backstage:permissions":{tags:["one","two"]},properties:{name:{title:"Name",type:"string",description:"Unique name of the component"},description:{title:"Description",type:"string",description:"Description of the component"},repoUrl:{title:"Pick a repository",type:"string","ui:field":"RepoUrlPicker"}}},steps:[{id:"fetch",name:"Fetch",action:"fetch:plain",parameters:{url:"./template"},"backstage:permissions":{tags:["one","two"]}},{id:"publish",name:"Publish to GitHub",action:"publish:github",parameters:{repoUrl:"${{ parameters.repoUrl }}"},if:"${{ parameters.repoUrl }}"}],output:{catalogInfoUrl:"${{ steps.publish.output.catalogInfoUrl }}"}}}],_=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["scaffolder.backstage.io/v1beta3"]},kind:{enum:["Template"]},spec:{type:"object",required:["type","steps"],properties:{type:{type:"string",description:"The type of component created by the template. The software catalog accepts any type value, but an organization should take great care to establish a proper taxonomy for these. Tools including Backstage itself may read this field and behave differently depending on its value. For example, a website type component may present tooling in the Backstage interface that is specific to just websites.",examples:["service","website","library"],minLength:1},owner:{type:"string",description:"The user (or group) owner of the template",minLength:1},parameters:{oneOf:[{type:"object",description:"The JSONSchema describing the inputs for the template.",properties:{"backstage:permissions":{type:"object",description:"Object used for authorizing the parameter",properties:{tags:{type:"array",items:{type:"string"}}}}}},{type:"array",description:"A list of separate forms to collect parameters.",items:{type:"object",description:"The JSONSchema describing the inputs for the template.",properties:{"backstage:permissions":{type:"object",description:"Object used for authorizing the parameter",properties:{tags:{type:"array",items:{type:"string"}}}}}}}]},steps:{type:"array",description:"A list of steps to execute.",items:{type:"object",description:"A description of the step to execute.",required:["action"],properties:{id:{type:"string",description:"The ID of the step, which can be used to refer to its outputs."},name:{type:"string",description:"The name of the step, which will be displayed in the UI during the scaffolding process."},action:{type:"string",description:"The name of the action to execute."},input:{type:"object",description:"A templated object describing the inputs to the action."},if:{type:["string","boolean"],description:'A templated condition that skips the step when evaluated to false. If the condition is true or not defined, the step is executed. The condition is true, if the input is not `false`, `undefined`, `null`, `""`, `0`, or `[]`.'},"backstage:permissions":{type:"object",description:"Object used for authorizing the step",properties:{tags:{type:"array",items:{type:"string"}}}}}}},output:{type:"object",description:"A templated object describing the outputs of the scaffolding task.",properties:{links:{type:"array",description:"A list of external hyperlinks, typically pointing to resources created or updated by the template",items:{type:"object",required:[],properties:{url:{type:"string",description:"A url in a standard uri format.",examples:["https://github.com/my-org/my-new-repo"],minLength:1},entityRef:{type:"string",description:"An entity reference to an entity in the catalog.",examples:["Component:default/my-app"],minLength:1},title:{type:"string",description:"A user friendly display name for the link.",examples:["View new repo"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1}}}},text:{type:"array",description:"A list of Markdown text blobs, like output data from the template.",items:{type:"object",required:[],properties:{title:{type:"string",description:"A user friendly display name for the text.",examples:["Output Content"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1},content:{type:"string",description:"The text blob to display in the UI, rendered as Markdown.",examples:["**hey** _I'm_ Markdown"]}}}}},additionalProperties:{type:"string"}}}}}}],j={$schema:m,$id:R,description:O,examples:D,allOf:_};const $=(0,o.wI)(j),I={async check(z){return $(z)===z}},J=z=>z.apiVersion==="scaffolder.backstage.io/v1beta3"&&z.kind==="Template"},78698:function(Te,S,l){"use strict";l.d(S,{Iy:function(){return _u},l0:function(){return Fl},zP:function(){return Zu},vF:function(){return jl},v9:function(){return ju},Lp:function(){return Ru},_G:function(){return Bu},Gc:function(){return Ll},ow:function(){return xu},h4:function(){return Bl},mg:function(){return vl}});var o=l(30705),m=l(79692),R=l(67358),O=l(31625),D=l(31377),_=l(34546),j=l(77277),$=l(60364),I=l(94339),J=l(24579),z=l(60905),ee=l(95544),te=l(85256),oe=l(7089),ye=l(14503),F=l(90436),Y=l(27556),ve=l(4614),se=l(97136),me=l(5806),xe=l(21324),re=l(86619),M=l(2784),Ee={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJSONPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UniqueItemsError:"Expected unique items in {{pointer}}: duplicate value `{{value}}` found at {{itemPointer}} and {{duplicatePointer}}",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"};function Ne(i,c={}){return i.replace(/\{\{\w+\}\}/g,d=>c[d.replace(/[{}]/g,"")])}function Ce(i,c,d=i){const w=Ee[i]||d;return Ne(w,c)}function ze(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ge(i,c){return{type:"error",name:i,code:ze(i),message:Ce(i,c),data:c}}function ht(i){return Ge.bind(null,i)}const st=Object.prototype.toString;function Ye(i){const c=st.call(i).match(/\s([^\]]+)\]/).pop().toLowerCase();return c==="file"?"object":c}function Et(i){return(i==null?void 0:i.type)==="error"}function rr(i){return i instanceof Promise}function mt(i){return Et(i)||rr(i)}function Mt(i){return isJSONError(i)}function gt(i,c=[]){for(let d=0;d<i.length;d+=1){const w=i[d];Array.isArray(w)?gt(w,c):c.push(w)}return c}var Ze={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,floatingPointPrecision:1e4,propertyBlacklist:["_id"]};const{DECLARATOR_ONEOF:bt}=Ze;function et(i,c,d=i.rootSchema,w="#"){if(c!=null&&d[bt]){const H=[],ae=d[bt],ce=c[d[bt]];if(ce===void 0)return i.errors.missingOneOfPropertyError({property:ae,pointer:w});for(let ue=0;ue<d.oneOf.length;ue+=1){const Be=i.resolveRef(d.oneOf[ue]),Ke=i.step(ae,Be,c,w);if(Et(Ke))return Ke;let qe=gt(i.validate(ce,Ke,w));if(qe=qe.filter(mt),qe.length>0)H.push(...qe);else return Be}return i.errors.oneOfPropertyError({property:ae,value:ce,pointer:w,errors:H})}const E=[],k=[];for(let H=0;H<d.oneOf.length;H+=1){const ae=i.resolveRef(d.oneOf[H]);let ce=gt(i.validate(c,ae,w));ce=ce.filter(mt),ce.length>0?k.push(...ce):E.push(ae)}return E.length===1?E[0]:E.length>1?i.errors.multipleOneOfError({value:c,pointer:w,matches:E}):i.errors.oneOfError({value:JSON.stringify(c),pointer:w,oneOf:d.oneOf,errors:k})}var he=i=>JSON.parse(JSON.stringify(i)),Ie=l(39714),ft=l.n(Ie);const _t=(i,c)=>c;var Vt=(i,c)=>ft()(i,c,{arrayMerge:_t});const Cr=(i,c)=>{const d=i.concat(c);return d.filter((w,E)=>d.indexOf(w)===E)},Ue=(i,c)=>ft()(i,c,{arrayMerge:Cr});function K(i,c,d){var w;const E={...(w=i.resolveRef(c))!==null&&w!==void 0?w:{}};if(E.if&&(E.then||E.else)){const k=i.isValid(d,E.if);if(k&&E.then)return K(i,E.then,d);if(!k&&E.else)return K(i,E.else,d);delete E.if,delete E.then,delete E.else}return E}function Z(i,c,d=i.rootSchema,w="#"){let E=he(d);for(let k=0;k<d.allOf.length;k+=1){const H=K(i,d.allOf[k],c);E=Ue(E,H),c=i.getTemplate(c,E)}return delete E.allOf,E}const{DECLARATOR_ONEOF:Q}=Ze;function ne(i,c,d,w){if(d==null||c.properties==null)return-1;let E=0;const k=Object.keys(c.properties);for(let H=0;H<k.length;H+=1){const ae=k[H];d[ae]!=null&&i.isValid(d[ae],c.properties[ae],w)&&(E+=1)}return E}function _e(i,c,d=i.rootSchema,w="#"){if(c!=null&&d[Q]){const k=[],H=d[Q],ae=c[d[Q]];if(ae===void 0)return i.errors.missingOneOfPropertyError({property:H,pointer:w});for(let ce=0;ce<d.oneOf.length;ce+=1){const ue=i.resolveRef(d.oneOf[ce]),Be=i.step(H,ue,c,w);if(Et(Be))return Be;let Ke=gt(i.validate(ae,Be,w));if(Ke=Ke.filter(mt),Ke.length>0)k.push(...Ke);else return ue}return i.errors.oneOfPropertyError({property:H,value:ae,pointer:w,errors:k})}const E=[];for(let k=0;k<d.oneOf.length;k+=1){const H=i.resolveRef(d.oneOf[k]);i.isValid(c,H,w)&&E.push(H)}if(E.length===1)return E[0];if(Ye(c)==="object"){let k,H=0;for(let ae=0;ae<d.oneOf.length;ae+=1){const ce=i.resolveRef(d.oneOf[ae]),ue=ne(i,ce,c);H<ue&&(H=ue,k=d.oneOf[ae])}return k===void 0?i.errors.oneOfError({value:JSON.stringify(c),pointer:w,oneOf:d.oneOf}):k}return E.length>1?i.errors.multipleOneOfError({matches:E,data:c,pointer:w}):i.errors.oneOfError({value:JSON.stringify(c),pointer:w,oneOf:d.oneOf})}var Xe=l(67142),lt=l.n(Xe);const kt={};function Qt(i,c,d,w=i.rootSchema){const E=lt().split(c);return w=i.resolveRef(w),Yt(i,w,E,c,d)}function Yt(i,c,d,w,E=kt){if(d.length===0)return i.resolveRef(c);const k=d.shift();return c=i.step(k,c,E,w),Et(c)?c:(E=E[k],Yt(i,c,d,`${w}/${k}`,E))}function Ht(i,c){if(i==null||i.$ref==null)return i;const d=c.getRef(i),w=Object.assign({},d,i);return delete w.$ref,Object.defineProperty(w,"__ref",{enumerable:!1,value:i.__ref}),Object.defineProperty(w,"getRoot",{enumerable:!1,value:i.getRoot}),w}function Xt(i,c,d){d.id=d.id||c,i.remotes[c]=i.compileSchema(d)}var rt=l(44091);const xt="[^?/{}*,()#]+",jt=`
root ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)
recursion ::= (SEP query | pattern)*

query ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?
property ::= ${xt}
regex ::= "{" [^}]+ "}"
SEP ::= "/"
all ::= "**"
any ::= "*"

typecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")
lookahead ::= "?" expression ((andExpr | orExpr) expression)*
andExpr ::= S? "&&" S?
orExpr ::= S? "||" S?

expression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*
exprProperty ::= [a-zA-Z0-9-_ $]+
escaped ::= [^"]+
is ::= ":"
isnot ::= ":!"
ESC ::= '"'

pattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?
quantifier ::= "+" | "*" | [0-9]+
orPattern ::= S? "," S?

S ::= [ ]*
`,fr=/(children|text|type|start|end|rest|errors|fullText|\d+)/,Or=/(children|text|type|\d+)/,xr=i=>JSON.stringify(i,(c,d)=>c===""||fr.test(c)?d:void 0,2),ar=i=>JSON.stringify(i,(c,d)=>c===""||c==="rest"&&d!==""||Or.test(c)?d:void 0,2),Rt=new rt.Z.Parser(jt),jr=i=>Rt.getAST(i),yr=i=>JSON.parse(ar(i)),dr=0,pr=1,cr=2,Wr=3,Tr=(i,c)=>`${i}/${c}`,Le=Object.prototype.toString,Gt=/Object|Array/,ir=i=>Gt.test(Le.call(i)),lr=i=>Le.call(i).match(/\s([^\]]+)\]/).pop().toLowerCase();function Sr(i){return new RegExp(i.text.replace(/(^{|}$)/g,""))}function _r(i,c){Array.isArray(i)?i.forEach(c):Object.prototype.toString.call(i)==="[object Object]"&&Object.keys(i).forEach(function(d){c(i[d],d,i)})}function Er(i){return Array.isArray(i)?i.map(function(c,d){return`${d}`}):Object.prototype.toString.call(i)==="[object Object]"?Object.keys(i):[]}const Zr={mem:[],get(i,c){const d=i[dr][c];if(!Zr.mem.includes(d))return ir(d)&&Zr.mem.push(d),[d,c,i[dr],Tr(i[Wr],c)]},reset(){Zr.mem.length=0}},Ir={any(i,c){const d=c[dr];return Er(d).map(w=>[d[w],w,d,Tr(c[Wr],w)])},all(i,c){const d=[c];return _r(c[dr],(w,E)=>{const k=Zr.get(c,E);k&&d.push(...Ir.all(i,k))}),d},regex(i,c){const d=Sr(i),w=c[dr];return Er(w).filter(E=>d.test(E)).map(E=>[w[E],E,w,Tr(c[Wr],E)])}},Rr={escaped:(i,c)=>Rr.property(i,c),property:(i,c)=>{const d=i.text;if(c[dr]&&c[dr][d]!==void 0)return[c[dr][d],d,c[dr],Tr(c[Wr],d)]},typecheck:(i,c)=>{const d=i.text.replace(/^\?:/,"");if(d==="value")return ir(c[dr])?void 0:c;if(lr(c[dr])===d)return c},lookahead:(i,c)=>{let d=!0,w=!1;return i.children.forEach(E=>{if(E.type==="expression"){const k=Rr.expression(E,c)!==void 0;d=w===!0?d||k:d&&k}else w=E.type==="orExpr"}),d?c:void 0},expression:(i,c)=>{const d=i.children[0].text,w=i.children[1],E=i.children[2],k=c[dr];if(ir(k)!==!1)return Xr(k[d],w,E)?c:void 0}};function Xr(i,c,d){if(c===void 0)return i!==void 0;let w;const E=`${i}`;return d.type==="regex"?w=Sr(d).test(E):w=E===d.text,c.type==="isnot"&&(w=w===!1&&i!==void 0),w}function fn(i,c,d,w){const E=[];for(let k=0,H=c.length;k<H;k+=1)E.push(...i(d,c[k],d,w));return E}function Nr(i,c,d,w){const E=[];for(let k=0,H=c.length;k<H;k+=1){const ae=i(d,c[k],w);ae&&E.push(ae)}return E}function ln(i,c,d){let w=i;return c.children.forEach(E=>{if(Ir[E.type])w=fn(Ir[E.type],w,E,d);else if(Rr[E.type])w=Nr(Rr[E.type],w,E,d);else throw new Error(`Unknown filter ${E.type}`)}),w}function mn(i,c,d){const w=[];let E=i;return c.children.forEach(k=>{if(k.type==="orPattern"){w.push(...E),E=i;return}E=cn(E,k,d)}),w.push(...E),w}function vn(i){if(i==null)return 1;if(i==="*"||i==="+")return 1/0;const c=parseInt(i);return isNaN(c)?1:c}function gn(i,c,d){const w=[],E=c.children.find(ce=>ce.type==="quantifier"),k=vn(E&&E.text);let H=i;E&&E.text==="*"&&w.push(...H);let ae=0;for(;H.length>0&&ae<k;)H=mn(H,c,d),w.push(...H),ae+=1;return w}function un(i,c,d){let w=i;return c.children.forEach(E=>w=cn(w,E,d)),w}function cn(i,c,d){let w;return c.type==="query"?w=ln(i,c,d):c.type==="pattern"?w=gn(i,c,d):w=un(i,c,d),Zr.reset(),Zr.mem.push(i),w}function Yr(i,c){return Zr.reset(),Zr.mem.push(i),cn([[i,null,null,"#"]],c)}const yn={value:i=>i.map(c=>c[dr]),pointer:i=>i.map(c=>c[Wr]),all:i=>i,map:i=>{const c={};return i.forEach(d=>c[d[Wr]]=d[dr]),c}};var sn;(function(i){i.POINTER="pointer",i.VALUE="value",i.ALL="all",i.MAP="map"})(sn||(sn={})),Qr.POINTER=sn.POINTER,Qr.VALUE=sn.VALUE,Qr.ALL=sn.ALL,Qr.MAP=sn.MAP;function Qr(i,c,d=sn.VALUE){if(c==null)return[];c=c.replace(/(\/$)/g,""),c===""&&(c="#");const w=jr(c);if(w==null)throw new Error(`empty ast for '${c}'`);if(w.rest!=="")throw new Error(`Failed parsing queryString from: '${w.rest}'`);const E=Yr(i,w);return typeof d=="function"?E.map(k=>d(...k)):yn[d]?yn[d](E):E}const En=["root","recursion"];function bn(i,c=[]){return En.includes(i.type)?(i.children.forEach(d=>bn(d,c)),c):(c.push(i.text),c)}function oi(i){if(i==null||i==="")return[];const c=jr(i);return bn(c)}const Ki=i=>JSON.parse(JSON.stringify(i)),Pe=Object.prototype.toString,y=i=>Pe.call(i).match(/\s([^\]]+)\]/).pop().toLowerCase(),T=new RegExp(`^("[^"]+"|${xt})$`),V=["string","number","boolean","null"],q=/^\[\d*\]$/,we=/^\[(\d+)\]$/,ge=/^".+"$/,Ve=/(^\[\d*\]$|^\d+$)/;function je(i){return parseInt(i.replace(/^(\[|\]$)/,""))}function At(i){return ge.test(i)?i.replace(/(^"|"$)/g,""):i}function Ft(i,c,d){i.length<=c?i[c]=d:i.splice(c,0,d)}function Wt(i,c){const d=[];return i.forEach(w=>d.push(...Qr(w[0],c,sn.ALL))),d}function Pr(i,c,d,w){const E=i[0];if(/^\[\]$/.test(c)){E.push(d);const k=E.length-1;return[E[k],k,E,`${i[3]}/${k}}`]}if(w==null&&y(E[c])==="object"&&y(d)==="object")return[E[c],c,E,`${i[3]}/${c}}`];if(w===Mn.INSERT_ITEMS||w==null&&we.test(c)){const k=je(c);return Ft(E,k,d),[E[k],k,E,`${i[3]}/${k}}`]}if(w===Mn.REPLACE_ITEMS||w==null){const k=je(c);return E[k]=d,[E[k],k,E,`${i[3]}/${k}}`]}throw new Error(`Unknown array index '${c}' with force-option '${w}'`)}function mr(i,c,d,w){return c=At(c),i.filter(E=>Array.isArray(E[0])&&Ve.test(c)?!0:V.includes(y(E[0][c]))===!1).map(E=>{const k=d?[]:{},H=E[0];return Array.isArray(H)?Pr(E,c,k,w):(H[c]=H[c]||k,[H[c],c,H,`${E[3]}/${c}`])})}var On;(function(i){i.REPLACE_ITEMS="replace",i.INSERT_ITEMS="insert"})(On||(On={})),Mn.REPLACE_ITEMS=On.REPLACE_ITEMS,Mn.INSERT_ITEMS=On.INSERT_ITEMS;function Mn(i,c,d,w){if(c==null)return Ki(i);if(c=c.replace(/(\/$)/g,""),c==="")return Ki(d);const E=Ki(i);let k=[[E,null,null,"#"]];const H=oi(c),ae=H.pop(),ce=q.test(ae)&&we.test(ae)===!1;if(T.test(ae)===!1||ce)throw new Error(`Unsupported query '${c}' ending with non-property`);return H.forEach((ue,Be)=>{if(ue==="__proto__"||ue==="prototyped"||ue==="constructor")return;if(T.test(ue)===!1){k=Wt(k,ue);return}const Ke=Be>=H.length-1?ae:H[Be+1],qe=Ve.test(Ke);k=mr(k,ue,qe,w)}),k.forEach(ue=>{let Be=d;y(d)==="function"&&(Be=d(ue[3],ae,ue[0],`${ue[3]}/${ae}`));const Ke=ue[0];if(Array.isArray(Ke))Pr(ue,ae,Be,w);else{const qe=At(ae);if(qe==="__proto__"||qe==="prototyped"||qe==="constructor")return;Ke[qe]=Be}}),E}function zn(i,c,d=!1){const w=[],E=Qr(i,c,sn.ALL);return E.forEach(function(k){w.push(k[0]),(0,Xe.remove)(i,k[Wr],!0)}),E.forEach(function(k){Array.isArray(k[cr])&&(0,Xe.removeUndefinedItems)(k[cr])}),d?w:i}var Mi={get:Qr,set:Mn,split:oi,remove:zn,ReturnType:sn},Cn={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}};const Zo=i=>Object.prototype.toString.call(i)==="[object Object]",So=Object.keys(Cn).filter(i=>Cn[i].type===!1),ko=Object.prototype.hasOwnProperty;function $n(i){if(Zo(i)===!1)return;if(i.enum)return"enum";if(Cn[i.type]||Array.isArray(i.type))return i.type;const c=So.filter(d=>i[d]);if(c.length===1)return c[0];if(c.length===0){for(let d=0,w=Cn.object.keywords.length;d<w;d+=1){const E=Cn.object.keywords[d];if(ko.call(i,E))return"object"}for(let d=0,w=Cn.array.keywords.length;d<w;d+=1){const E=Cn.array.keywords[d];if(ko.call(i,E))return"array"}return}throw new Error(`Mutiple typeIds [${c.join(", ")}] matched in ${JSON.stringify(i)}`)}const Ii=i=>Object.prototype.toString.call(i)==="[object Object]";function Mo(i){const c=[],d=$n(i);if(d==null)return c;let w;if(Array.isArray(d)){w={};for(let E=0,k=d.length;E<k;E+=1)Object.assign(w,Cn[d[E]])}else w=Cn[d];return w.definitions==null||w.definitions.forEach(E=>{Qr(i,E,(k,H,ae,ce)=>{Ii(k)&&$n(k)&&c.push({pointer:lt().join(lt().split(ce),!1),def:k})})}),c}const Jt=i=>Object.prototype.toString.call(i)==="[object Object]";function be(i,c){if(this.callback(i,c)===!0)return;Mo(i).forEach(w=>this.nextTypeDefs(w.def,lt().join(c,w.pointer,!1)))}function N(i,c,d,w="definitions"){const E=c[w];Object.keys(E).forEach(k=>{if(E[k]===!1||Jt(E[k])){i.nextTypeDefs(E[k],lt().join(d,w,k,!1));return}})}function X(i,c,d="#"){const w={callback:c,nextTypeDefs:be};w.nextTypeDefs(i,d),i.definitions!=null&&(w.callback=(E,k)=>{c(E,k),E.definitions!=null&&N(w,E,k)},N(w,i,d)),i.$defs!=null&&(w.callback=(E,k)=>{c(E,k),E.definitions!=null&&N(w,E,k)},N(w,i,d,"$defs"))}const Me=/(#|\/)+$/,Fe=/#$/,nt=/^[^:]+:\/\/[^/]+\//,ct=/\/[^/]*$/,Bt=/#.*$/;function Nt(i,c){return i==null&&c==null?"#":c==null?i.replace(Fe,""):i==null?c.replace(Fe,""):c[0]==="#"?`${i.replace(Bt,"")}${c.replace(Me,"")}`:nt.test(c)?c.replace(Fe,""):`${i.replace(ct,"")}/${c.replace(Fe,"")}`}const Lr=/(#|\/)+$/g,Kr=["",null,"#"];function In(i){if(Kr.includes(i))return[];if(i=i.replace(Lr,""),i.indexOf("#")===-1)return[i.replace(Lr,"")];if(i.indexOf("#")===0)return[i.replace(Lr,"")];const c=i.split("#");return c[0]=c[0].replace(Lr,""),c[1]=`#${c[1].replace(Lr,"")}`,c}const wi=/(#|\/)+$/g,Ci=i=>Ye(i)==="object";function si(i,c,d){if(Ci(d)&&(d=d.__ref||d.$ref),d==null)return c;let w;const E=d.replace(wi,"");if(i.remotes[E])return w=i.remotes[E],w&&w.$ref?si(i,c,w.$ref):w;if(i.ids[d])return w=(0,Xe.get)(c,i.ids[d]),w&&w.$ref?si(i,c,w.$ref):w;const k=In(d);if(k.length===0)return c;if(k.length===1){if(d=k[0],i.remotes[d])return w=i.remotes[d],si(i,c,w.$ref);if(i.ids[d])return w=(0,Xe.get)(c,i.ids[d]),w&&w.$ref?si(i,c,w.$ref):w}if(k.length===2){const H=k[0];if(d=k[1],i.remotes[H])return i.remotes[H].getRef?i.remotes[H].getRef(d):si(i,i.remotes[H],d);if(i.ids[H])return si(i,(0,Xe.get)(c,i.ids[H]),d)}return w=(0,Xe.get)(c,i.ids[d]||d),w&&w.$ref?si(i,c,w.$ref):w}const Si="__compiled",zi="__ref",ys="getRef",rs="getRoot",va=/(#|\/)+$/g;function Uo(i,c,d=c,w=!1){if(c===!0||c===!1||c===void 0||c[Si]!==void 0)return c;const E={ids:{},remotes:i.remotes},k=JSON.stringify(c),H=JSON.parse(k);if(Object.defineProperty(H,Si,{enumerable:!1,value:!0}),Object.defineProperty(H,ys,{enumerable:!1,value:si.bind(null,E,H)}),w===!1&&k.includes("$ref")===!1)return H;H!==d&&Object.defineProperty(H,"$defs",{enumerable:!0,value:Object.assign({},d.definitions,d.$defs,H.definitions,H.$defs)});const ae={},ce=()=>H;return X(H,(ue,Be)=>{var Ke;if(ue.$id){if(ue.$id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(Be)){const St=Be.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),Dt=(0,Xe.get)(H,St);ue.$id=(Ke=Dt.$id)!==null&&Ke!==void 0?Ke:ue.$id}E.ids[ue.$id.replace(va,"")]=Be}Be=`#${Be}`.replace(/##+/,"#");const qe=Be.replace(/\/[^/]+$/,""),Se=Be.replace(/\/[^/]+\/[^/]+$/,""),Je=ae[qe]||ae[Se],We=Nt(Je,ue.$id);ae[Be]=We,E.ids[We]==null&&(E.ids[We]=Be),ue.$ref&&!ue[zi]&&(Object.defineProperty(ue,zi,{enumerable:!1,value:Nt(We,ue.$ref)}),Object.defineProperty(ue,rs,{enumerable:!1,value:ce}))}),H}function zs(i,c,d,w=i.rootSchema,E="#"){w=i.resolveRef(w),d(w,c,E);const k=Ye(c);k==="object"?Object.keys(c).forEach(H=>{const ae=i.step(H,w,c,E),ce=c[H];i.each(ce,d,ae,`${E}/${H}`)}):k==="array"&&c.forEach((H,ae)=>{const ce=i.step(ae,w,c,E);i.each(H,d,ce,`${E}/${ae}`)})}var He={additionalItemsError:ht("AdditionalItemsError"),additionalPropertiesError:ht("AdditionalPropertiesError"),anyOfError:ht("AnyOfError"),allOfError:ht("AllOfError"),constError:ht("ConstError"),containsError:ht("ContainsError"),containsArrayError:ht("ContainsArrayError"),containsAnyError:ht("ContainsAnyError"),enumError:ht("EnumError"),formatURLError:ht("FormatURLError"),formatURIError:ht("FormatURIError"),formatURIReferenceError:ht("FormatURIReferenceError"),formatURITemplateError:ht("FormatURITemplateError"),formatDateError:ht("FormatDateaError"),formatDateTimeError:ht("FormatDateTimeError"),formatEmailError:ht("FormatEmailError"),formatHostnameError:ht("FormatHostnameError"),formatIPV4Error:ht("FormatIPV4Error"),formatIPV4LeadingZeroError:ht("FormatIPV4LeadingZeroError"),formatIPV6Error:ht("FormatIPV6Error"),formatIPV6LeadingZeroError:ht("FormatIPV6LeadingZeroError"),formatJSONPointerError:ht("FormatJSONPointerError"),formatRegExError:ht("FormatRegExError"),formatTimeError:ht("FormatTimeError"),invalidSchemaError:ht("InvalidSchemaError"),invalidDataError:ht("InvalidDataError"),invalidTypeError:ht("InvalidTypeError"),invalidPropertyNameError:ht("InvalidPropertyNameError"),maximumError:ht("MaximumError"),maxItemsError:ht("MaxItemsError"),maxLengthError:ht("MaxLengthError"),maxPropertiesError:ht("MaxPropertiesError"),minimumError:ht("MinimumError"),minItemsError:ht("MinItemsError"),minItemsOneError:ht("MinItemsOneError"),minLengthError:ht("MinLengthError"),minLengthOneError:ht("MinLengthOneError"),minPropertiesError:ht("MinPropertiesError"),missingDependencyError:ht("MissingDependencyError"),missingOneOfPropertyError:ht("MissingOneOfPropertyError"),multipleOfError:ht("MultipleOfError"),multipleOneOfError:ht("MultipleOneOfError"),noAdditionalPropertiesError:ht("NoAdditionalPropertiesError"),notError:ht("NotError"),oneOfError:ht("OneOfError"),oneOfPropertyError:ht("OneOfPropertyError"),patternError:ht("PatternError"),patternPropertiesError:ht("PatternPropertiesError"),requiredPropertyError:ht("RequiredPropertyError"),typeError:ht("TypeError"),undefinedValueError:ht("UndefinedValueError"),uniqueItemsError:ht("UniqueItemsError"),unknownPropertyError:ht("UnknownPropertyError"),valueNotEmptyError:ht("ValueNotEmptyError")},Lt=l(1170),Kt=l.n(Lt);const nr=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),Ur=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Fr=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,en=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,ai=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Hn=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Yn=[0,31,28,31,30,31,30,31,31,30,31,30,31],rn=/^(?:\/(?:[^~/]|~0|~1)*)*$/,tn=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Zn=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,an=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;var Ai={date:(i,c,d,w)=>{if(typeof d!="string")return;const E=d.match(ai);if(!E)return He.formatDateTimeError({value:d,pointer:w});const k=+E[1],H=+E[2],ae=+E[3],ce=k%4===0&&(k%100!==0||k%400===0);if(!(H>=1&&H<=12&&ae>=1&&ae<=(H==2&&ce?29:Yn[H])))return He.formatDateError({value:d,pointer:w})},"date-time":(i,c,d,w)=>{if(typeof d=="string")return d===""||nr.test(d)?new Date(d).toString()==="Invalid Date"?He.formatDateTimeError({value:d,pointer:w}):void 0:He.formatDateTimeError({value:d,pointer:w})},email:(i,c,d,w)=>{if(typeof d!="string")return;if(d[0]==='"')return He.formatEmailError({value:d,pointer:w});const[E,k,...H]=d.split("@");if(!E||!k||H.length!==0||E.length>64||k.length>253)return He.formatEmailError({value:d,pointer:w});if(E[0]==="."||E.endsWith(".")||E.includes(".."))return He.formatEmailError({value:d,pointer:w});if(!/^[a-z0-9.-]+$/i.test(k)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(E))return He.formatEmailError({value:d,pointer:w});if(!k.split(".").every(ae=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(ae)))return He.formatEmailError({value:d,pointer:w})},hostname:(i,c,d,w)=>{if(typeof d=="string"&&!(d===""||en.test(d)))return He.formatHostnameError({value:d,pointer:w})},ipv4:(i,c,d,w)=>{if(!(typeof d!="string"||d==="")){if(d&&d[0]==="0")return He.formatIPV4LeadingZeroError({value:d,pointer:w});if(!(d.length<=15&&Ur.test(d)))return He.formatIPV4Error({value:d,pointer:w})}},ipv6:(i,c,d,w)=>{if(!(typeof d!="string"||d==="")){if(d&&d[0]==="0")return He.formatIPV6LeadingZeroError({value:d,pointer:w});if(!(d.length<=45&&Fr.test(d)))return He.formatIPV6Error({value:d,pointer:w})}},"json-pointer":(i,c,d,w)=>{if(!(typeof d!="string"||d==="")&&!rn.test(d))return He.formatJSONPointerError({value:d,pointer:w})},"relative-json-pointer":(i,c,d,w)=>{if(!(typeof d!="string"||d==="")&&!tn.test(d))return He.formatJSONPointerError({value:d,pointer:w})},regex:(i,c,d,w)=>{if(typeof d=="string"&&/\\Z$/.test(d)===!1){try{new RegExp(d);return}catch{}return He.formatRegExError({value:d,pointer:w})}if(!(typeof d=="object"||typeof d=="number"||Array.isArray(d)))return He.formatRegExError({value:d,pointer:w})},time:(i,c,d,w)=>{if(typeof d!="string")return;const E=d.match(Hn);if(!E)return He.formatDateTimeError({value:d,pointer:w});const k=+E[1],H=+E[2],ae=+E[3],ce=!!E[5];if(!((k<=23&&H<=59&&ae<=59||k==23&&H==59&&ae==60)&&ce))return He.formatTimeError({value:d,pointer:w})},uri:(i,c,d,w)=>{if(!(typeof d!="string"||d==="")&&!Kt().isUri(d))return He.formatURIError({value:d,pointer:w})},"uri-reference":(i,c,d,w)=>{if(!(typeof d!="string"||d==="")&&!Zn.test(d))return He.formatURIReferenceError({value:d,pointer:w})},"uri-template":(i,c,d,w)=>{if(!(typeof d!="string"||d==="")&&!an.test(d))return He.formatURITemplateError({value:d,pointer:w})},url:(i,c,d,w)=>{if(!(d===""||Kt().isWebUri(d)))return He.formatURLError({value:d,pointer:w})}};function Fi(i){switch(Ye(i)){case"string":case"array":return i.length===0;case"null":case"undefined":return!0;case"object":return Object.keys(i).length===0;default:return!1}}const Qi={addOptionalProps:!0,removeInvalidData:!1};let Xn;function _n(i,c){const{$ref:d}=i;return d==null?!0:(Xn[c]==null||Xn[c][d]==null?0:Xn[c][d])<Ze.GET_TEMPLATE_RECURSION_LIMIT}function Ri(i,c,d){if(d==null)throw new Error(`missing pointer ${d}`);const{$ref:w}=c;return w==null?c:(Xn[d]=Xn[d]||{},Xn[d][w]=Xn[d][w]||0,Xn[d][w]+=1,i.resolveRef(c))}function An(i,c){if(i==="string")return JSON.stringify(c);if(typeof c!="string")return null;try{if(c=JSON.parse(c),typeof c===i)return c}catch{}return null}function Vo(i,c,d,w){if(Ye(c)!=="object")return Object.assign({pointer:w},c);if(_n(c,w)===!1&&d==null)return!1;let E=he(Ri(i,c,w));if(Array.isArray(c.anyOf)&&c.anyOf.length>0){if(_n(c.anyOf[0],`${w}/anyOf/0`)){const k=Ri(i,c.anyOf[0],`${w}/anyOf/0`);E=Vt(E,k),E.pointer=c.anyOf[0].$ref||E.pointer}delete E.anyOf}if(Array.isArray(c.allOf)){for(let k=0,H=c.allOf.length;k<H;k+=1)_n(c.allOf[k],`${w}/allOf/${k}`)&&(E=Vt(E,Ri(i,c.allOf[k],`${w}/allOf/${k}`)),E.pointer=c.allOf[k].$ref||E.pointer);delete E.allOf}return E.pointer=E.pointer||c.$ref||w,E}const Hi=i=>i&&typeof i=="object";function ci(i,c,d,w,E){if(d==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(c)}`);if(w==null)throw new Error("Missing pointer");let k=Vo(i,d,c,w);if(!Hi(k))return;if(w=k.pointer,k!=null&&k.const)return k.const;if(Array.isArray(k.oneOf))if(Fi(c)){const ue=k.oneOf[0].type||k.type||k.const&&typeof k.const||Ye(c);k={...k.oneOf[0],type:ue}}else{const ue=_e(i,c,k);if(Et(ue)){if(c!=null&&E.removeInvalidData!==!0)return c;k=k.oneOf[0],c=void 0}else k=ue}if(!Hi(k)||k.type==null)return;const H=Array.isArray(k.type)?Eo(k.type,c,k.default):k.type,ae=Ye(c);return c!=null&&ae!==H&&!(ae==="number"&&H==="integer")&&(c=An(H,c)),wo[H]==null?E.removeInvalidData?void 0:c:wo[H](i,k,c,w,E)}function Eo(i,c,d){if(c==null){if(d!=null){const E=Ye(d);if(i.includes(E))return E}return i[0]}const w=Ye(c);return i.includes(w)?w:i[0]}const wo={null:(i,c,d)=>$o(c,d,null),string:(i,c,d)=>$o(c,d,""),number:(i,c,d)=>$o(c,d,0),integer:(i,c,d)=>$o(c,d,0),boolean:(i,c,d)=>$o(c,d,!1),object:(i,c,d,w,E)=>{var k;const H=c.default===void 0?{}:c.default,ae={},ce=(k=c.required)!==null&&k!==void 0?k:[];if(c.properties&&Object.keys(c.properties).forEach(ue=>{const Be=d==null||d[ue]==null?H[ue]:d[ue],Ke=ce.includes(ue);(Be!=null||Ke||E.addOptionalProps)&&(ae[ue]=ci(i,Be,c.properties[ue],`${w}/properties/${ue}`,E))}),c.dependencies&&Object.keys(c.dependencies).forEach(ue=>{if(ae[ue]===void 0)return;const Be=c.dependencies[ue];if(Array.isArray(Be)){Be.forEach(qe=>{ae[qe]=ci(i,ae[qe],c.properties[qe],`${w}/properties/${qe}`,E)});return}if(Ye(Be)!=="object")return;const Ke=ci(i,d,{...Be,type:"object"},`${w}/dependencies/${ue}`,E);Ke&&!Et(Ke)&&Object.assign(ae,Ke)}),d&&Object.keys(d).forEach(ue=>ae[ue]==null&&(ae[ue]=d[ue])),c.if&&(c.then||c.else)){const ue=i.isValid(ae,c.if);if(ue&&c.then){const Be=i.getTemplate(ae,{type:"object",...c.then},E);Object.assign(ae,Be)}else if(!ue&&c.else){const Be=i.getTemplate(ae,{type:"object",...c.else},E);Object.assign(ae,Be)}}return ae},array:(i,c,d,w,E)=>{var k,H,ae;const ce=c.default===void 0?[]:c.default;c.minItems=c.minItems||0;const ue=d||[];if(c.items==null)return ue;if(Array.isArray(c.items)){for(let Ke=0,qe=Math.max((k=c.minItems)!==null&&k!==void 0?k:0,(ae=(H=c.items)===null||H===void 0?void 0:H.length)!==null&&ae!==void 0?ae:0);Ke<qe;Ke+=1)ue[Ke]=ci(i,ue[Ke]==null?ce[Ke]:ue[Ke],c.items[Ke],`${w}/items/${Ke}`,E);return ue}if(Ye(c.items)!=="object")return ue;const Be=Vo(i,c.items,d,w);if(Be===!1)return ue;if(w=Be.pointer||w,Be.oneOf&&ue.length===0){const Ke=Be.oneOf[0];for(let qe=0;qe<c.minItems;qe+=1)ue[qe]=ci(i,ue[qe]==null?ce[qe]:ue[qe],Ke,`${w}/oneOf/0`,E);return ue}if(Be.oneOf&&ue.length>0){const Ke=Math.max(c.minItems,ue.length);for(let qe=0;qe<Ke;qe+=1){let Se=ue[qe]==null?ce[qe]:ue[qe],Je=_e(i,Se,Be);Je==null||Et(Je)?Se!=null&&E.removeInvalidData!==!0?ue[qe]=Se:(Se=void 0,Je=Be.oneOf[0],ue[qe]=ci(i,Se,Je,`${w}/oneOf/${qe}`,E)):ue[qe]=ci(i,Se,Je,`${w}/oneOf/${qe}`,E)}return ue}if(Be.type){for(let Ke=0,qe=Math.max(c.minItems,ue.length);Ke<qe;Ke+=1)ue[Ke]=ci(i,ue[Ke]==null?ce[Ke]:ue[Ke],Be,`${w}/items`,E);return ue}return ue}};function $o(i,c,d){return c!=null?c:i.const?i.const:i.default===void 0&&Array.isArray(i.enum)?i.enum[0]:i.default===void 0?d:i.default}var fi=(i,c,d=i.rootSchema,w=Qi)=>(Xn={mi:{}},ci(i,c,d,"#",w));function ro(i,c,d=i.rootSchema,w="#"){return i.validate(c,d,w).length===0}function Pi(i,c){const d=typeof i;if(d!==typeof c)return!1;if(Array.isArray(i)){if(!Array.isArray(c))return!1;const w=i.length;if(w!==c.length)return!1;for(let E=0;E<w;E++)if(!Pi(i[E],c[E]))return!1;return!0}if(d==="object"){if(!i||!c)return i===c;const w=Object.keys(i),E=Object.keys(c);if(w.length!==E.length)return!1;for(const H of w)if(!Pi(i[H],c[H]))return!1;return!0}return i===c}function mo(i){const c=[];let d=0;const w=i.length;for(;d<w;){const E=i.charCodeAt(d++);if(E>=55296&&E<=56319&&d<w){const k=i.charCodeAt(d++);(k&64512)==56320?c.push(((E&1023)<<10)+(k&1023)+65536):(c.push(E),d--)}else c.push(E)}return c}const Io=Ze.floatingPointPrecision,ao=Object.prototype.hasOwnProperty,Ps=(i,c)=>!(i[c]===void 0||!ao.call(i,c));var vs={additionalProperties:(i,c,d,w)=>{if(c.additionalProperties===!0||c.additionalProperties==null||Ye(c.patternProperties)==="object"&&c.additionalProperties===!1)return;const E=[];let k=Object.keys(d).filter(ae=>Ze.propertyBlacklist.includes(ae)===!1);const H=Object.keys(c.properties||{});if(Ye(c.patternProperties)==="object"){const ae=Object.keys(c.patternProperties).map(ce=>new RegExp(ce));k=k.filter(ce=>{for(let ue=0;ue<ae.length;ue+=1)if(ae[ue].test(ce))return!1;return!0})}for(let ae=0,ce=k.length;ae<ce;ae+=1){const ue=k[ae];if(H.indexOf(ue)===-1){const Be=typeof c.additionalProperties=="object";if(Be&&Array.isArray(c.additionalProperties.oneOf)){const Ke=i.resolveOneOf(d[ue],c.additionalProperties,`${w}/${ue}`);Et(Ke)?E.push(i.errors.additionalPropertiesError({schema:c.additionalProperties,property:k[ae],properties:H,pointer:w,errors:Ke.data.errors})):E.push(...i.validate(d[ue],Ke,w))}else Be?E.push(...i.validate(d[ue],c.additionalProperties,`${w}/${ue}`)):E.push(i.errors.noAdditionalPropertiesError({property:k[ae],properties:H,pointer:w}))}}return E},allOf:(i,c,d,w)=>{if(Array.isArray(c.allOf)===!1)return;const E=[];return c.allOf.forEach(k=>{E.push(...i.validate(d,k,w))}),E},anyOf:(i,c,d,w)=>{if(Array.isArray(c.anyOf)!==!1){for(let E=0;E<c.anyOf.length;E+=1)if(i.isValid(d,c.anyOf[E]))return;return i.errors.anyOfError({anyOf:c.anyOf,value:d,pointer:w})}},dependencies:(i,c,d,w)=>{if(Ye(c.dependencies)!=="object")return;const E=[];return Object.keys(d).forEach(k=>{if(c.dependencies[k]===void 0||c.dependencies[k]===!0)return;if(c.dependencies[k]===!1){E.push(i.errors.missingDependencyError({pointer:w}));return}let H;const ae=Ye(c.dependencies[k]);if(ae==="array")H=c.dependencies[k].filter(ce=>d[ce]===void 0).map(ce=>i.errors.missingDependencyError({missingProperty:ce,pointer:w}));else if(ae==="object")H=i.validate(d,c.dependencies[k],w);else throw new Error(`Invalid dependency definition for ${w}/${k}. Must be list or schema`);E.push(...H)}),E.length>0?E:void 0},enum:(i,c,d,w)=>{const E=Ye(d);if(E==="object"||E==="array"){const k=JSON.stringify(d);for(let H=0;H<c.enum.length;H+=1)if(JSON.stringify(c.enum[H])===k)return}else if(c.enum.includes(d))return;return i.errors.enumError({values:c.enum,value:d,pointer:w})},format:(i,c,d,w)=>{if(i.validateFormat[c.format])return i.validateFormat[c.format](i,c,d,w)},items:(i,c,d,w)=>{if(c.items===!1)return Array.isArray(d)&&d.length===0?void 0:i.errors.invalidDataError({pointer:w,value:d});const E=[];for(let k=0;k<d.length;k+=1){const H=d[k],ae=i.step(k,c,d,w);if(Et(ae))return[ae];const ce=i.validate(H,ae,`${w}/${k}`);E.push(...ce)}return E},maximum:(i,c,d,w)=>{if(!isNaN(c.maximum)){if(c.maximum&&c.maximum<d)return i.errors.maximumError({maximum:c.maximum,length:d,pointer:w});if(c.maximum&&c.exclusiveMaximum===!0&&c.maximum===d)return i.errors.maximumError({maximum:c.maximum,length:d,pointer:w})}},maxItems:(i,c,d,w)=>{if(!isNaN(c.maxItems)&&c.maxItems<d.length)return i.errors.maxItemsError({maximum:c.maxItems,length:d.length,pointer:w})},maxLength:(i,c,d,w)=>{if(isNaN(c.maxLength))return;const E=mo(d).length;if(c.maxLength<E)return i.errors.maxLengthError({maxLength:c.maxLength,length:E,pointer:w})},maxProperties:(i,c,d,w)=>{const E=Object.keys(d).length;if(isNaN(c.maxProperties)===!1&&c.maxProperties<E)return i.errors.maxPropertiesError({maxProperties:c.maxProperties,length:E,pointer:w})},minLength:(i,c,d,w)=>{if(isNaN(c.minLength))return;const E=mo(d).length;if(c.minLength>E)return c.minLength===1?i.errors.minLengthOneError({minLength:c.minLength,length:E,pointer:w}):i.errors.minLengthError({minLength:c.minLength,length:E,pointer:w})},minimum:(i,c,d,w)=>{if(!isNaN(c.minimum)){if(c.minimum>d)return i.errors.minimumError({minimum:c.minimum,length:d,pointer:w});if(c.exclusiveMinimum===!0&&c.minimum===d)return i.errors.minimumError({minimum:c.minimum,length:d,pointer:w})}},minItems:(i,c,d,w)=>{if(!isNaN(c.minItems)&&c.minItems>d.length)return c.minItems===1?i.errors.minItemsOneError({minItems:c.minItems,length:d.length,pointer:w}):i.errors.minItemsError({minItems:c.minItems,length:d.length,pointer:w})},minProperties:(i,c,d,w)=>{if(isNaN(c.minProperties))return;const E=Object.keys(d).length;if(c.minProperties>E)return i.errors.minPropertiesError({minProperties:c.minProperties,length:E,pointer:w})},multipleOf:(i,c,d,w)=>{if(!isNaN(c.multipleOf)&&d*Io%(c.multipleOf*Io)/Io!==0)return i.errors.multipleOfError({multipleOf:c.multipleOf,value:d,pointer:w})},not:(i,c,d,w)=>{const E=[];return i.validate(d,c.not,w).length===0&&E.push(i.errors.notError({value:d,not:c.not,pointer:w})),E},oneOf:(i,c,d,w)=>{if(Array.isArray(c.oneOf)!==!1&&(c=i.resolveOneOf(d,c,w),Et(c)))return c},pattern:(i,c,d,w)=>{if(new RegExp(c.pattern,"u").test(d)===!1)return i.errors.patternError({pattern:c.pattern,description:c.patternExample||c.pattern,received:d,pointer:w})},patternProperties:(i,c,d,w)=>{const E=c.properties||{},k=c.patternProperties;if(Ye(k)!=="object")return;const H=[],ae=Object.keys(d),ce=Object.keys(k).map(ue=>({regex:new RegExp(ue),patternSchema:k[ue]}));return ae.forEach(ue=>{let Be=!1;for(let Ke=0,qe=ce.length;Ke<qe;Ke+=1)if(ce[Ke].regex.test(ue)){Be=!0;const Se=i.validate(d[ue],ce[Ke].patternSchema,`${w}/${ue}`);Se&&Se.length>0&&H.push(...Se)}E[ue]||Be===!1&&c.additionalProperties===!1&&H.push(i.errors.patternPropertiesError({key:ue,pointer:w,patterns:Object.keys(k).join(",")}))}),H},properties:(i,c,d,w)=>{const E=[],k=Object.keys(c.properties||{});for(let H=0;H<k.length;H+=1){const ae=k[H];if(Ps(d,ae)){const ce=i.step(ae,c,d,w),ue=i.validate(d[ae],ce,`${w}/${ae}`);E.push(...ue)}}return E},propertiesRequired:(i,c,d,w)=>{const E=[],k=Object.keys(c.properties||{});for(let H=0;H<k.length;H+=1){const ae=k[H];if(d[ae]===void 0)E.push(i.errors.requiredPropertyError({key:ae,pointer:w}));else{const ce=i.step(ae,c,d,w),ue=i.validate(d[ae],ce,`${w}/${ae}`);E.push(...ue)}}return E},required:(i,c,d,w)=>{if(Array.isArray(c.required)!==!1)return c.required.map(E=>{if(!Ps(d,E))return i.errors.requiredPropertyError({key:E,pointer:w})})},requiredNotEmpty:(i,c,d,w)=>{if(Array.isArray(c.required)!==!1)return c.required.map(E=>{if(d[E]==null||d[E]==="")return i.errors.valueNotEmptyError({property:E,pointer:`${w}/${E}`})})},uniqueItems:(i,c,d,w)=>{if((Array.isArray(d)&&c.uniqueItems)===!1)return;const E=[];return d.forEach((k,H)=>{for(let ae=H+1;ae<d.length;ae+=1)Pi(k,d[ae])&&E.push(i.errors.uniqueItemsError({pointer:w,itemPointer:`${w}/${H}`,duplicatePointer:`${w}/${ae}`,value:JSON.stringify(k)}))}),E}},Ro={...vs,contains:(i,c,d,w)=>{if(c.contains===!1)return i.errors.containsArrayError({pointer:w,value:d});if(c.contains===!0)return Array.isArray(d)&&d.length===0?i.errors.containsAnyError({pointer:w}):void 0;if(Ye(c.contains)==="object"){for(let E=0;E<d.length;E+=1)if(i.isValid(d[E],c.contains))return;return i.errors.containsError({pointer:w,schema:JSON.stringify(c.contains)})}},exclusiveMaximum:(i,c,d,w)=>{if(!isNaN(c.exclusiveMaximum)&&c.exclusiveMaximum<=d)return i.errors.maximumError({maximum:c.exclusiveMaximum,length:d,pointer:w})},exclusiveMinimum:(i,c,d,w)=>{if(!isNaN(c.exclusiveMinimum)&&c.exclusiveMinimum>=d)return i.errors.minimumError({minimum:c.exclusiveMinimum,length:d,pointer:w})},if:(i,c,d,w)=>{if(c.if==null)return;const E=i.validate(d,c.if,w);if(E.length===0&&c.then)return i.validate(d,c.then,w);if(E.length!==0&&c.else)return i.validate(d,c.else,w)},maximum:(i,c,d,w)=>{if(!isNaN(c.maximum)&&c.maximum&&c.maximum<d)return i.errors.maximumError({maximum:c.maximum,length:d,pointer:w})},minimum:(i,c,d,w)=>{if(!isNaN(c.minimum)&&c.minimum>d)return i.errors.minimumError({minimum:c.minimum,length:d,pointer:w})},patternProperties:(i,c,d,w)=>{const E=c.properties||{},k=c.patternProperties;if(Ye(k)!=="object")return;const H=[],ae=Object.keys(d),ce=Object.keys(k).map(ue=>({regex:new RegExp(ue),patternSchema:k[ue]}));return ae.forEach(ue=>{let Be=!1;for(let Ke=0,qe=ce.length;Ke<qe;Ke+=1)if(ce[Ke].regex.test(ue)){if(Be=!0,ce[Ke].patternSchema===!1){H.push(i.errors.patternPropertiesError({key:ue,pointer:w,patterns:Object.keys(k).join(",")}));return}const Se=i.validate(d[ue],ce[Ke].patternSchema,`${w}/${ue}`);Se&&Se.length>0&&H.push(...Se)}E[ue]||Be===!1&&c.additionalProperties===!1&&H.push(i.errors.patternPropertiesError({key:ue,pointer:w,patterns:Object.keys(k).join(",")}))}),H},propertyNames:(i,c,d,w)=>{if(c.propertyNames===!1)return Object.keys(d).length===0?void 0:i.errors.invalidPropertyNameError({property:Object.keys(d),pointer:w,value:d});if(c.propertyNames===!0||Ye(c.propertyNames)!=="object")return;const E=[],k=Object.keys(d),H={...c.propertyNames,type:"string"};return k.forEach(ae=>{const ce=i.validate(ae,H,`${w}/${ae}`);ce.length>0&&E.push(i.errors.invalidPropertyNameError({property:ae,pointer:w,validationError:ce[0],value:d[ae]}))}),E}};function Ji(i,c,d=i.rootSchema,w="#"){let E=!1,k=he(d);for(let H=0;H<d.anyOf.length;H+=1){const ae=i.resolveRef(d.anyOf[H]);i.isValid(c,d.anyOf[H],w)&&(E=!0,k=Vt(k,ae))}return E===!1?He.anyOfError({value:c,pointer:w,anyOf:JSON.stringify(d.anyOf)}):(delete k.anyOf,k)}function Ko(i,c){return i==null||i.$ref==null?i:i.getRoot?i.getRoot().getRef(i):c.getRef(i)}function qi(i){const c={type:Ye(i)};return c.type==="object"&&(c.properties={},Object.keys(i).forEach(d=>c.properties[d]=qi(i[d]))),c.type==="array"&&i.length===1?c.items=qi(i[0]):c.type==="array"&&(c.items=i.map(qi)),c}function dn(i,c,d=i.rootSchema){const w=i.step(c,d,{},"#");return Et(w)?w.code==="one-of-error"?w.data.oneOf.map(E=>i.resolveRef(E)):w:[w]}const Ts={array:(i,c,d,w,E)=>{const k=Ye(d.items);if(k==="object")return Array.isArray(d.items.oneOf)?i.resolveOneOf(w[c],d.items,E):Array.isArray(d.items.anyOf)?i.resolveAnyOf(w[c],d.items,E):Array.isArray(d.items.allOf)?i.resolveAllOf(w[c],d.items,E):i.resolveRef(d.items);if(k==="array"){if(d.items[c]===!0)return qi(w[c]);if(d.items[c]===!1)return He.invalidDataError({key:c,value:w[c],pointer:E});if(d.items[c])return i.resolveRef(d.items[c]);if(d.additionalItems===!1)return He.additionalItemsError({key:c,value:w[c],pointer:E});if(d.additionalItems===!0||d.additionalItems===void 0)return qi(w[c]);if(Ye(d.additionalItems)==="object")return d.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(d,null,4)} for ${JSON.stringify(w,null,4)}`)}return d.additionalItems!==!1&&w[c]?qi(w[c]):new Error(`Invalid array schema for ${c} at ${E}`)},object:(i,c,d,w,E)=>{if(Array.isArray(d.oneOf)){const ae=i.resolveOneOf(w,d,E);if(d=Vt(d,ae),Et(d))return d}if(Array.isArray(d.anyOf)&&(d=i.resolveAnyOf(w,d,E),Et(d))||Array.isArray(d.allOf)&&(d=i.resolveAllOf(w,d,E),Et(d)))return d;let k;if(d.properties&&d.properties[c]!==void 0){if(k=i.resolveRef(d.properties[c]),Et(k))return k;if(k&&Array.isArray(k.oneOf)){let ae=i.resolveOneOf(w[c],k,`${E}/${c}`);const ce=k.oneOf.findIndex(ue=>ue===ae);return ae.variableSchema=!0,ae.oneOfIndex=ce,ae.oneOfSchema=k,ae}if(k)return k}const{dependencies:H}=d;if(Ye(H)==="object"){const ae=Object.keys(H).filter(ce=>Ye(H[ce])==="object");for(let ce=0,ue=ae.length;ce<ue;ce+=1){const Be=ae[ce],Ke=Ti(i,c,H[Be],w,`${E}/${Be}`);if(!Et(Ke))return Ke}}if(d.if&&(d.then||d.else)){const ae=i.isValid(w,d.if);if(ae&&d.then){const ce=Ti(i,c,d.then,w,E);if(typeof ce.type=="string"&&ce.type!=="error")return ce}if(!ae&&d.else){const ce=Ti(i,c,d.else,w,E);if(typeof ce.type=="string"&&ce.type!=="error")return ce}}if(Ye(d.patternProperties)==="object"){let ae;const ce=Object.keys(d.patternProperties);for(let ue=0,Be=ce.length;ue<Be;ue+=1)if(ae=new RegExp(ce[ue]),ae.test(c))return d.patternProperties[ce[ue]]}return Ye(d.additionalProperties)==="object"?d.additionalProperties:d.additionalProperties===!0?qi(w[c]):He.unknownPropertyError({property:c,value:w,pointer:`${E}`})}};function Ti(i,c,d,w,E="#"){if(Array.isArray(d.type)){const ae=Ye(w);return d.type.includes(ae)?Ts[ae](i,`${c}`,d,w,E):i.errors.typeError({value:w,pointer:E,expected:d.type,received:ae})}const k=d.type||Ye(w),H=Ts[k];return H?H(i,`${c}`,d,w,E):new Error(`Unsupported schema type ${d.type} for key ${c}`)}var gi={array:(i,c,d,w)=>i.typeKeywords.array.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),object:(i,c,d,w)=>i.typeKeywords.object.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),string:(i,c,d,w)=>i.typeKeywords.string.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),integer:(i,c,d,w)=>i.typeKeywords.number.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),number:(i,c,d,w)=>i.typeKeywords.number.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),boolean:(i,c,d,w)=>i.typeKeywords.boolean.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),null:(i,c,d,w)=>i.typeKeywords.null.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w))},Bn=l(69378),Oo=l.n(Bn);function Un(i,c){const d=Ye(i);return d==="number"&&(c==="integer"||Array.isArray(c)&&c.includes("integer"))?Number.isInteger(i)||isNaN(i)?"integer":"number":d}function Oi(i,c,d=i.rootSchema,w="#"){if(d=i.resolveRef(d),Ye(d)==="boolean")return d?[]:[i.errors.invalidDataError({value:c,pointer:w})];if(Et(d))return[d];if(d.const!==void 0)return Oo()(d.const,c)?[]:[i.errors.constError({value:c,expected:d.const,pointer:w})];const E=Un(c,d.type),k=d.type||E;return E!==k&&(!Array.isArray(k)||!k.includes(E))?[i.errors.typeError({received:E,expected:k,value:c,pointer:w})]:i.validateType[E]==null?[i.errors.invalidTypeError({receivedType:E,pointer:w})]:gt(i.validateType[E](i,d,c,w)).filter(mt)}class pi{constructor(c,d){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=c,this.typeKeywords=JSON.parse(JSON.stringify(c.typeKeywords)),this.validateKeyword=Object.assign({},c.validateKeyword),this.validateType=Object.assign({},c.validateType),this.validateFormat=Object.assign({},c.validateFormat),this.errors=Object.assign({},c.errors),this.setSchema(d)}get rootSchema(){return this.__rootSchema}set rootSchema(c){c!=null&&(this.__rootSchema=this.config.compileSchema(this,c))}addRemoteSchema(c,d){this.config.addRemoteSchema(this,c,d)}compileSchema(c){var d;return this.config.compileSchema(this,c,(d=this.rootSchema)!==null&&d!==void 0?d:c)}createSchemaOf(c){return this.config.createSchemaOf(c)}each(c,d,w,E){return this.config.each(this,c,d,w,E)}eachSchema(c,d=this.rootSchema){return this.config.eachSchema(d,c)}getChildSchemaSelection(c,d){return this.config.getChildSchemaSelection(this,c,d)}getSchema(c="#",d,w){return this.config.getSchema(this,c,d,w)}getTemplate(c,d,w){return this.config.getTemplate(this,c,d,w)}isValid(c,d,w){return this.config.isValid(this,c,d,w)}resolveAnyOf(c,d,w){return this.config.resolveAnyOf(this,c,d,w)}resolveAllOf(c,d,w){return this.config.resolveAllOf(this,c,d,w)}resolveRef(c){return this.config.resolveRef(c,this.rootSchema)}resolveOneOf(c,d,w){return this.config.resolveOneOf(this,c,d,w)}setSchema(c){this.rootSchema=c}step(c,d,w,E){return this.config.step(this,c,d,w,E)}validate(c,d,w){return this.config.validate(this,c,d,w)}}const li={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Ro,validateType:gi,validateFormat:Ai,errors:He,addRemoteSchema:Xt,compileSchema:Uo,createSchemaOf:qi,each:zs,eachSchema:X,getChildSchemaSelection:dn,getSchema:Qt,getTemplate:fi,isValid:ro,resolveAllOf:Z,resolveAnyOf:Ji,resolveOneOf:et,resolveRef:Ko,step:Ti,validate:Oi};class Ho extends pi{constructor(c,d={}){super(Vt(li,d),c)}}const po={...li,resolveOneOf:_e,resolveRef:Ht};class bs extends null{constructor(c,d={}){super(merge(po,d),c)}}class ei{constructor(c,d){this.core=new Core(c),this.schema=c,this.data=d,this.cache={}}updateData(c){this.data=c,this.cache={}}updateSchema(c){this.schema=c,this.core.setSchema(c),this.cache={}}get(c,d){if(d){const ae=getSchema(this.core,c,d,this.schema);return copy(ae)}if(c==="#")return this.schema;if(this.cache[c])return this.cache[c];const w=gp.join(c,"..");let E=this.cache[w];E==null&&(E=getSchema(this.core,w,this.data,this.schema),E.variableSchema!==!0&&(this.cache[w]=copy(E)));const k=gp.split(c).pop();let H=getSchema(this.core,k,gp.get(this.data,w),this.cache[w]);return H=copy(H),H.variableSchema!==!0&&(this.cache[c]=H),H}}const no="__compiled",lo="__ref",ji="getRef",Fo="getRoot",Ei=/(#|\/)+$/g;function Ss(i,c,d=c,w=!1){if(!c||c[no]!==void 0)return c;const E={ids:{},remotes:i.remotes},k=JSON.stringify(c),H=JSON.parse(k);if(Object.defineProperty(H,no,{enumerable:!1,value:!0}),Object.defineProperty(H,ji,{enumerable:!1,value:si.bind(null,E,H)}),w===!1&&k.includes("$ref")===!1)return H;c!==d&&Object.defineProperty(H,"definitions",{enumerable:!1,value:Object.assign({},d.definitions,d.$defs,c.definitions,c.$defs)});const ae={},ce=()=>H;return X(H,(ue,Be)=>{var Ke;if(ue.id){if(ue.id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(Be)){const St=Be.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),Dt=(0,Xe.get)(H,St);ue.id=(Ke=Dt.id)!==null&&Ke!==void 0?Ke:ue.id}E.ids[ue.id.replace(Ei,"")]=Be}Be=`#${Be}`.replace(/##+/,"#");const qe=Be.replace(/\/[^/]+$/,""),Se=Be.replace(/\/[^/]+\/[^/]+$/,""),Je=ae[qe]||ae[Se],We=Nt(Je,ue.id);ae[Be]=We,E.ids[We]==null&&(E.ids[We]=Be),ue.$ref&&!ue[lo]&&(Object.defineProperty(ue,lo,{enumerable:!1,value:Nt(We,ue.$ref)}),Object.defineProperty(ue,Fo,{enumerable:!1,value:ce}))}),H}var xo=Ss,_i={array:(i,c,d,w)=>i.typeKeywords.array.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),object:(i,c,d,w)=>i.typeKeywords.object.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),string:(i,c,d,w)=>i.typeKeywords.string.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),integer:(i,c,d,w)=>i.typeKeywords.number.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),number:(i,c,d,w)=>i.typeKeywords.number.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),boolean:(i,c,d,w)=>i.typeKeywords.boolean.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w)),null:(i,c,d,w)=>i.typeKeywords.null.filter(E=>c&&c[E]!=null).map(E=>i.validateKeyword[E](i,c,d,w))};const kr={typeKeywords:{array:["allOf","anyOf","enum","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["enum","not","allOf","anyOf","oneOf"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["allOf","anyOf","enum","format","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","format","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:vs,validateType:_i,validateFormat:Ai,errors:He,addRemoteSchema:Xt,compileSchema:xo,createSchemaOf:qi,each:zs,eachSchema:X,getChildSchemaSelection:dn,getSchema:Qt,getTemplate:fi,isValid:ro,resolveAllOf:Z,resolveAnyOf:Ji,resolveOneOf:et,resolveRef:Ko,step:Ti,validate:Oi};class Qn extends null{constructor(c,d={}){super(merge(kr,d),c)}}const go={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["enum","exclusiveMaximum","exclusiveMinimum","format","maximum","minimum","multipleOf","not","oneOf","allOf","anyOf","if"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Ro,validateType:gi,validateFormat:Ai,errors:He,addRemoteSchema:Xt,compileSchema:Uo,createSchemaOf:qi,each:zs,eachSchema:X,getChildSchemaSelection:dn,getSchema:Qt,getTemplate:fi,isValid:ro,resolveAllOf:Z,resolveAnyOf:Ji,resolveOneOf:et,resolveRef:Ko,step:Ti,validate:Oi};class ns extends null{constructor(c,d={}){super(merge(go,d),c)}}const Js={strings:Ee};var Fn=l(80236),is=l(39362),os=l(19126),ss=l.n(os),_s=l(64279),Ds=l(60885),vt=l(52322),it=l(27292),Zi=l(90772),Ni=l(7279),zr=l(89523),wr=l(64187),gr=l(42082);function Hr(i,c,d){for(var w=-1,E=c.length,k={};++w<E;){var H=c[w],ae=(0,zr.Z)(i,H);d(ae,H)&&(0,wr.Z)(k,(0,gr.Z)(H,i),ae)}return k}var wn=Hr,xn=l(12930);function di(i,c){return wn(i,c,function(d,w){return(0,xn.Z)(i,w)})}var yi=di,yo=l(5255),jn=(0,yo.Z)(function(i,c){return i==null?{}:yi(i,c)}),Vn=jn,ks=l(55487),Gs=l(7921),Jo=l(93122),Ms=l(25513),Ya=l(37164),Ys=l(1284),jo=l(39075);function vo(){return vo=Object.assign||function(i){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(i[w]=d[w])}return i},vo.apply(this,arguments)}const eo=["children","options"],as=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((i,c)=>(i[c.toLowerCase()]=c,i),{for:"htmlFor"}),Xs={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xA0",quot:"\u201C"},No=["style","script"],Wa=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,Ta=/mailto:/i,$s=/\n{2,}$/,Es=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,ba=/^ *> ?/gm,Lo=/^ {2,}\n/,Za=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,_a=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,Sa=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,ls=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,Is=/^(?:\n *)*\n/,uo=/\r\n?/g,ws=/^\[\^([^\]]+)](:.*)\n/,aa=/^\[\^([^\]]+)]/,la=/\f/g,Rs=/^\s*?\[(x|\s)\]/,Os=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Bo=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,Qs=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,Ua=/&([a-zA-Z]+);/g,Ea=/^<!--[\s\S]*?(?:-->)/,qs=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,Go=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,io=/^\{.*\}$/,us=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Xa=/^<([^ >]+@[^ >]+)>/,Fs=/^<([^ >]+:\/[^ >]+)>/,ua=/-([a-z])?/gi,Li=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,Va=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,oo=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,ea=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Gi=/(\[|\])/g,Da=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Yo=/\t/g,ta=/^ *\| */,Wo=/(^ *\||\| *$)/g,ka=/ *$/,Co=/^ *:-+: *$/,Yi=/^ *:-+ *$/,cs=/^ *-+: *$/,Xo=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,Ma=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1|\w)/,xs=/^==((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)==/,ca=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,Ka=/^\\([^0-9A-Za-z\s])/,Cs=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,wa=/^\n+/,xi=/^([ \t]*)/,fs=/\\([^\\])/g,js=/ *\n+$/,ds=/(?:^|\n)( *)$/,$a="(?:\\d+\\.)",Ns="(?:[*+-])";function Ls(i){return"( *)("+(i===1?$a:Ns)+") +"}const fa=Ls(1),Qo=Ls(2);function Bs(i){return new RegExp("^"+(i===1?fa:Qo))}const za=Bs(1),hs=Bs(2);function bo(i){return new RegExp("^"+(i===1?fa:Qo)+"[^\\n]*(?:\\n(?!\\1"+(i===1?$a:Ns)+" )[^\\n]*)*(\\n|$)","gm")}const qo=bo(1),da=bo(2);function Oa(i){const c=i===1?$a:Ns;return new RegExp("^( *)("+c+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+c+" (?!"+c+" ))\\n*|\\s*\\n*$)")}const Ws=Oa(1),C=Oa(2);function U(i,c){const d=c===1,w=d?Ws:C,E=d?qo:da,k=d?za:hs;return{t(H,ae,ce){const ue=ds.exec(ce);return ue&&(ae.o||!ae._&&!ae.u)?w.exec(H=ue[1]+H):null},i:Pn.HIGH,l(H,ae,ce){const ue=d?+H[2]:void 0,Be=H[0].replace($s,`
`).match(E);let Ke=!1;return{p:Be.map(function(qe,Se){const Je=k.exec(qe)[0].length,We=new RegExp("^ {1,"+Je+"}","gm"),St=qe.replace(We,"").replace(k,""),Dt=Se===Be.length-1,Ut=St.indexOf(`

`)!==-1||Dt&&Ke;Ke=Ut;const $t=ce._,tr=ce.o;let hr;ce.o=!0,Ut?(ce._=!1,hr=St.replace(js,`

`)):(ce._=!0,hr=St.replace(js,""));const Mr=ae(hr,ce);return ce._=$t,ce.o=tr,Mr}),m:d,g:ue}},h:(H,ae,ce)=>i(H.m?"ol":"ul",{key:ce.k,start:H.g},H.p.map(function(ue,Be){return i("li",{key:Be},ae(ue,ce))}))}}const ie=/^\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,Oe=/^!\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,De=[Es,_a,Sa,Os,Bo,Ea,Li,qo,Ws,da,C],Re=[...De,/^[^\n]+(?:  \n|\n{2,})/,Qs,Go];function at(i){return i.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function It(i){return cs.test(i)?"right":Co.test(i)?"center":Yi.test(i)?"left":null}function Ct(i,c,d){const w=d.v;d.v=!0;const E=c(i.trim(),d);d.v=w;let k=[[]];return E.forEach(function(H,ae){H.type==="tableSeparator"?ae!==0&&ae!==E.length-1&&k.push([]):(H.type!=="text"||E[ae+1]!=null&&E[ae+1].type!=="tableSeparator"||(H.$=H.$.replace(ka,"")),k[k.length-1].push(H))}),k}function or(i,c,d){d._=!0;const w=Ct(i[1],c,d),E=i[2].replace(Wo,"").split("|").map(It),k=function(H,ae,ce){return H.trim().split(`
`).map(function(ue){return Ct(ue,ae,ce)})}(i[3],c,d);return d._=!1,{S:E,A:k,L:w,type:"table"}}function vr(i,c){return i.S[c]==null?{}:{textAlign:i.S[c]}}function Ar(i){return function(c,d){return d._?i.exec(c):null}}function Br(i){return function(c,d){return d._||d.u?i.exec(c):null}}function Sn(i){return function(c,d){return d._||d.u?null:i.exec(c)}}function Kn(i){return function(c){return i.exec(c)}}function kn(i,c,d){if(c._||c.u||d&&!d.endsWith(`
`))return null;let w="";i.split(`
`).every(k=>!De.some(H=>H.test(k))&&(w+=k+`
`,k.trim()));const E=w.trimEnd();return E==""?null:[w,E]}function Tn(i){try{if(decodeURIComponent(i).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch{return null}return i}function qn(i){return i.replace(fs,"$1")}function vi(i,c,d){const w=d._||!1,E=d.u||!1;d._=!0,d.u=!0;const k=i(c,d);return d._=w,d.u=E,k}function co(i,c,d){const w=d._||!1,E=d.u||!1;d._=!1,d.u=!0;const k=i(c,d);return d._=w,d.u=E,k}function bi(i,c,d){return d._=!1,i(c+`

`,d)}const so=(i,c,d)=>({$:vi(c,i[1],d)});function Gn(){return{}}function Bi(){return null}function Zs(...i){return i.filter(Boolean).join(" ")}function ha(i,c,d){let w=i;const E=c.split(".");for(;E.length&&(w=w[E[0]],w!==void 0);)E.shift();return w||d}var Pn;function ra(i,c={}){c.overrides=c.overrides||{},c.slugify=c.slugify||at,c.namedCodesToUnicode=c.namedCodesToUnicode?vo({},Xs,c.namedCodesToUnicode):Xs;const d=c.createElement||M.createElement;function w(Se,Je,...We){const St=ha(c.overrides,`${Se}.props`,{});return d(function(Dt,Ut){const $t=ha(Ut,Dt);return $t?typeof $t=="function"||typeof $t=="object"&&"render"in $t?$t:ha(Ut,`${Dt}.component`,Dt):Dt}(Se,c.overrides),vo({},Je,St,{className:Zs(Je==null?void 0:Je.className,St.className)||void 0}),...We)}function E(Se){let Je=!1;c.forceInline?Je=!0:c.forceBlock||(Je=Da.test(Se)===!1);const We=Be(ue(Je?Se:`${Se.trimEnd().replace(wa,"")}

`,{_:Je}));for(;typeof We[We.length-1]=="string"&&!We[We.length-1].trim();)We.pop();if(c.wrapper===null)return We;const St=c.wrapper||(Je?"span":"div");let Dt;if(We.length>1||c.forceWrapper)Dt=We;else{if(We.length===1)return Dt=We[0],typeof Dt=="string"?w("span",{key:"outer"},Dt):Dt;Dt=null}return M.createElement(St,{key:"outer"},Dt)}function k(Se){const Je=Se.match(Wa);return Je?Je.reduce(function(We,St,Dt){const Ut=St.indexOf("=");if(Ut!==-1){const $t=function(br){return br.indexOf("-")!==-1&&br.match(qs)===null&&(br=br.replace(ua,function(ur,Jr){return Jr.toUpperCase()})),br}(St.slice(0,Ut)).trim(),tr=function(br){const ur=br[0];return(ur==='"'||ur==="'")&&br.length>=2&&br[br.length-1]===ur?br.slice(1,-1):br}(St.slice(Ut+1).trim()),hr=as[$t]||$t,Mr=We[hr]=function(br,ur){return br==="style"?ur.split(/;\s?/).reduce(function(Jr,pn){const $r=pn.slice(0,pn.indexOf(":"));return Jr[$r.replace(/(-[a-z])/g,on=>on[1].toUpperCase())]=pn.slice($r.length+1).trim(),Jr},{}):br==="href"?Tn(ur):(ur.match(io)&&(ur=ur.slice(1,ur.length-1)),ur==="true"||ur!=="false"&&ur)}($t,tr);typeof Mr=="string"&&(Qs.test(Mr)||Go.test(Mr))&&(We[hr]=M.cloneElement(E(Mr.trim()),{key:Dt}))}else St!=="style"&&(We[as[St]||St]=!0);return We},{}):null}const H=[],ae={},ce={blockQuote:{t:Sn(Es),i:Pn.HIGH,l:(Se,Je,We)=>({$:Je(Se[0].replace(ba,""),We)}),h:(Se,Je,We)=>w("blockquote",{key:We.k},Je(Se.$,We))},breakLine:{t:Kn(Lo),i:Pn.HIGH,l:Gn,h:(Se,Je,We)=>w("br",{key:We.k})},breakThematic:{t:Sn(Za),i:Pn.HIGH,l:Gn,h:(Se,Je,We)=>w("hr",{key:We.k})},codeBlock:{t:Sn(Sa),i:Pn.MAX,l:Se=>({$:Se[0].replace(/^ {4}/gm,"").replace(/\n+$/,""),M:void 0}),h:(Se,Je,We)=>w("pre",{key:We.k},w("code",vo({},Se.I,{className:Se.M?`lang-${Se.M}`:""}),Se.$))},codeFenced:{t:Sn(_a),i:Pn.MAX,l:Se=>({I:k(Se[3]||""),$:Se[4],M:Se[2]||void 0,type:"codeBlock"})},codeInline:{t:Br(ls),i:Pn.LOW,l:Se=>({$:Se[2]}),h:(Se,Je,We)=>w("code",{key:We.k},Se.$)},footnote:{t:Sn(ws),i:Pn.MAX,l:Se=>(H.push({O:Se[2],B:Se[1]}),{}),h:Bi},footnoteReference:{t:Ar(aa),i:Pn.HIGH,l:Se=>({$:Se[1],R:`#${c.slugify(Se[1])}`}),h:(Se,Je,We)=>w("a",{key:We.k,href:Tn(Se.R)},w("sup",{key:We.k},Se.$))},gfmTask:{t:Ar(Rs),i:Pn.HIGH,l:Se=>({T:Se[1].toLowerCase()==="x"}),h:(Se,Je,We)=>w("input",{checked:Se.T,key:We.k,readOnly:!0,type:"checkbox"})},heading:{t:Sn(Os),i:Pn.HIGH,l:(Se,Je,We)=>({$:vi(Je,Se[2],We),j:c.slugify(Se[2]),C:Se[1].length}),h:(Se,Je,We)=>w(`h${Se.C}`,{id:Se.j,key:We.k},Je(Se.$,We))},headingSetext:{t:Sn(Bo),i:Pn.MAX,l:(Se,Je,We)=>({$:vi(Je,Se[1],We),C:Se[2]==="="?1:2,type:"heading"})},htmlComment:{t:Kn(Ea),i:Pn.HIGH,l:()=>({}),h:Bi},image:{t:Br(Oe),i:Pn.HIGH,l:Se=>({D:Se[1],R:qn(Se[2]),N:Se[3]}),h:(Se,Je,We)=>w("img",{key:We.k,alt:Se.D||void 0,title:Se.N||void 0,src:Tn(Se.R)})},link:{t:Ar(ie),i:Pn.LOW,l:(Se,Je,We)=>({$:co(Je,Se[1],We),R:qn(Se[2]),N:Se[3]}),h:(Se,Je,We)=>w("a",{key:We.k,href:Tn(Se.R),title:Se.N},Je(Se.$,We))},linkAngleBraceStyleDetector:{t:Ar(Fs),i:Pn.MAX,l:Se=>({$:[{$:Se[1],type:"text"}],R:Se[1],type:"link"})},linkBareUrlDetector:{t:(Se,Je)=>Je.Z?null:Ar(us)(Se,Je),i:Pn.MAX,l:Se=>({$:[{$:Se[1],type:"text"}],R:Se[1],N:void 0,type:"link"})},linkMailtoDetector:{t:Ar(Xa),i:Pn.MAX,l(Se){let Je=Se[1],We=Se[1];return Ta.test(We)||(We="mailto:"+We),{$:[{$:Je.replace("mailto:",""),type:"text"}],R:We,type:"link"}}},orderedList:U(w,1),unorderedList:U(w,2),newlineCoalescer:{t:Sn(Is),i:Pn.LOW,l:Gn,h:()=>`
`},paragraph:{t:kn,i:Pn.LOW,l:so,h:(Se,Je,We)=>w("p",{key:We.k},Je(Se.$,We))},ref:{t:Ar(Va),i:Pn.MAX,l:Se=>(ae[Se[1]]={R:Se[2],N:Se[4]},{}),h:Bi},refImage:{t:Br(oo),i:Pn.MAX,l:Se=>({D:Se[1]||void 0,F:Se[2]}),h:(Se,Je,We)=>w("img",{key:We.k,alt:Se.D,src:Tn(ae[Se.F].R),title:ae[Se.F].N})},refLink:{t:Ar(ea),i:Pn.MAX,l:(Se,Je,We)=>({$:Je(Se[1],We),P:Je(Se[0].replace(Gi,"\\$1"),We),F:Se[2]}),h:(Se,Je,We)=>ae[Se.F]?w("a",{key:We.k,href:Tn(ae[Se.F].R),title:ae[Se.F].N},Je(Se.$,We)):w("span",{key:We.k},Je(Se.P,We))},table:{t:Sn(Li),i:Pn.HIGH,l:or,h:(Se,Je,We)=>w("table",{key:We.k},w("thead",null,w("tr",null,Se.L.map(function(St,Dt){return w("th",{key:Dt,style:vr(Se,Dt)},Je(St,We))}))),w("tbody",null,Se.A.map(function(St,Dt){return w("tr",{key:Dt},St.map(function(Ut,$t){return w("td",{key:$t,style:vr(Se,$t)},Je(Ut,We))}))})))},tableSeparator:{t:function(Se,Je){return Je.v?ta.exec(Se):null},i:Pn.HIGH,l:function(){return{type:"tableSeparator"}},h:()=>" | "},text:{t:Kn(Cs),i:Pn.MIN,l:Se=>({$:Se[0].replace(Ua,(Je,We)=>c.namedCodesToUnicode[We]?c.namedCodesToUnicode[We]:Je)}),h:Se=>Se.$},textBolded:{t:Br(Xo),i:Pn.MED,l:(Se,Je,We)=>({$:Je(Se[2],We)}),h:(Se,Je,We)=>w("strong",{key:We.k},Je(Se.$,We))},textEmphasized:{t:Br(Ma),i:Pn.LOW,l:(Se,Je,We)=>({$:Je(Se[2],We)}),h:(Se,Je,We)=>w("em",{key:We.k},Je(Se.$,We))},textEscaped:{t:Br(Ka),i:Pn.HIGH,l:Se=>({$:Se[1],type:"text"})},textMarked:{t:Br(xs),i:Pn.LOW,l:so,h:(Se,Je,We)=>w("mark",{key:We.k},Je(Se.$,We))},textStrikethroughed:{t:Br(ca),i:Pn.LOW,l:so,h:(Se,Je,We)=>w("del",{key:We.k},Je(Se.$,We))}};c.disableParsingRawHTML!==!0&&(ce.htmlBlock={t:Kn(Qs),i:Pn.HIGH,l(Se,Je,We){const[,St]=Se[3].match(xi),Dt=new RegExp(`^${St}`,"gm"),Ut=Se[3].replace(Dt,""),$t=(tr=Ut,Re.some(ur=>ur.test(tr))?bi:vi);var tr;const hr=Se[1].toLowerCase(),Mr=No.indexOf(hr)!==-1;We.Z=We.Z||hr==="a";const br=Mr?Se[3]:$t(Je,Ut,We);return We.Z=!1,{I:k(Se[2]),$:br,G:Mr,H:Mr?hr:Se[1]}},h:(Se,Je,We)=>w(Se.H,vo({key:We.k},Se.I),Se.G?Se.$:Je(Se.$,We))},ce.htmlSelfClosing={t:Kn(Go),i:Pn.HIGH,l:Se=>({I:k(Se[2]||""),H:Se[1]}),h:(Se,Je,We)=>w(Se.H,vo({},Se.I,{key:We.k}))});const ue=function(Se){let Je=Object.keys(Se);function We(St,Dt){let Ut=[],$t="";for(;St;){let tr=0;for(;tr<Je.length;){const hr=Je[tr],Mr=Se[hr],br=Mr.t(St,Dt,$t);if(br){const ur=br[0];St=St.substring(ur.length);const Jr=Mr.l(br,We,Dt);Jr.type==null&&(Jr.type=hr),Ut.push(Jr),$t=ur;break}tr++}}return Ut}return Je.sort(function(St,Dt){let Ut=Se[St].i,$t=Se[Dt].i;return Ut!==$t?Ut-$t:St<Dt?-1:1}),function(St,Dt){return We(function(Ut){return Ut.replace(uo,`
`).replace(la,"").replace(Yo,"    ")}(St),Dt)}}(ce),Be=(Ke=function(Se){return function(Je,We,St){return Se[Je.type].h(Je,We,St)}}(ce),function Se(Je,We={}){if(Array.isArray(Je)){const St=We.k,Dt=[];let Ut=!1;for(let $t=0;$t<Je.length;$t++){We.k=$t;const tr=Se(Je[$t],We),hr=typeof tr=="string";hr&&Ut?Dt[Dt.length-1]+=tr:tr!==null&&Dt.push(tr),Ut=hr}return We.k=St,Dt}return Ke(Je,Se,We)});var Ke;const qe=E(i);return H.length?w("div",null,qe,w("footer",{key:"footer"},H.map(function(Se){return w("div",{id:c.slugify(Se.B),key:Se.B},Se.B,Be(ue(Se.O,{_:!0})))}))):qe}(function(i){i[i.MAX=0]="MAX",i[i.HIGH=1]="HIGH",i[i.MED=2]="MED",i[i.LOW=3]="LOW",i[i.MIN=4]="MIN"})(Pn||(Pn={}));var ms=i=>{let{children:c,options:d}=i,w=function(E,k){if(E==null)return{};var H,ae,ce={},ue=Object.keys(E);for(ae=0;ae<ue.length;ae++)k.indexOf(H=ue[ae])>=0||(ce[H]=E[H]);return ce}(i,eo);return M.cloneElement(ra(c,d),w)},Ia=l(6279),el=l(56764);function es(i,c){return i==null?!0:(0,el.Z)(i,c)}var Ra=es;function Fa(i,c){for(var d=0;d<c.length;d++){var w=c[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(i,Ha(w.key),w)}}function fo(i,c,d){return c&&Fa(i.prototype,c),d&&Fa(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function Vr(){return Vr=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(i[w]=d[w])}return i},Vr.apply(this,arguments)}function ma(i,c){i.prototype=Object.create(c.prototype),i.prototype.constructor=i,ja(i,c)}function ja(i,c){return ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},ja(i,c)}function Ao(i,c){if(i==null)return{};var d={},w=Object.keys(i),E,k;for(k=0;k<w.length;k++)E=w[k],!(c.indexOf(E)>=0)&&(d[E]=i[E]);return d}function ul(i,c){if(typeof i!="object"||i===null)return i;var d=i[Symbol.toPrimitive];if(d!==void 0){var w=d.call(i,c||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}function Ha(i){var c=ul(i,"string");return typeof c=="symbol"?c:String(c)}var s=["widget","title"],h=["widget","title"],x=["widget","title"];function g(){return(0,Ya.x0)()}function L(i){return Array.isArray(i)?i.map(function(c){return{key:g(),item:c}}):[]}function pe(i){return Array.isArray(i)?i.map(function(c){return c.item}):[]}var Qe=function(i){ma(c,i);function c(w){var E;E=i.call(this,w)||this,E._getNewFormDataRow=function(){var ce=E.props,ue=ce.schema,Be=ce.registry,Ke=Be.schemaUtils,qe=ue.items;return(0,it.FZ)(ue)&&(0,it.TE)(ue)&&(qe=ue.additionalItems),Ke.getDefaultFormState(qe)},E.onAddClick=function(ce){E._handleAddClick(ce)},E.onAddIndexClick=function(ce){return function(ue){E._handleAddClick(ue,ce)}},E.onCopyIndexClick=function(ce){return function(ue){ue&&ue.preventDefault();var Be=E.props.onChange,Ke=E.state.keyedFormData,qe={key:g(),item:(0,Gs.Z)(Ke[ce].item)},Se=[].concat(Ke);ce!==void 0?Se.splice(ce+1,0,qe):Se.push(qe),E.setState({keyedFormData:Se,updatedKeyedFormData:!0},function(){return Be(pe(Se))})}},E.onDropIndexClick=function(ce){return function(ue){ue&&ue.preventDefault();var Be=E.props,Ke=Be.onChange,qe=Be.errorSchema,Se=E.state.keyedFormData,Je;if(qe){Je={};for(var We in qe){var St=parseInt(We);St<ce?(0,Ms.Z)(Je,[St],qe[We]):St>ce&&(0,Ms.Z)(Je,[St-1],qe[We])}}var Dt=Se.filter(function(Ut,$t){return $t!==ce});E.setState({keyedFormData:Dt,updatedKeyedFormData:!0},function(){return Ke(pe(Dt),Je)})}},E.onReorderClick=function(ce,ue){return function(Be){Be&&(Be.preventDefault(),Be.currentTarget.blur());var Ke=E.props,qe=Ke.onChange,Se=Ke.errorSchema,Je;if(Se){Je={};for(var We in Se){var St=parseInt(We);St==ce?(0,Ms.Z)(Je,[ue],Se[ce]):St==ue?(0,Ms.Z)(Je,[ce],Se[ue]):(0,Ms.Z)(Je,[We],Se[St])}}var Dt=E.state.keyedFormData;function Ut(){var tr=Dt.slice();return tr.splice(ce,1),tr.splice(ue,0,Dt[ce]),tr}var $t=Ut();E.setState({keyedFormData:$t},function(){return qe(pe($t),Je)})}},E.onChangeForIndex=function(ce){return function(ue,Be,Ke){var qe,Se=E.props,Je=Se.formData,We=Se.onChange,St=Se.errorSchema,Dt=Array.isArray(Je)?Je:[],Ut=Dt.map(function($t,tr){var hr=typeof ue=="undefined"?null:ue;return ce===tr?hr:$t});We(Ut,St&&St&&Vr({},St,(qe={},qe[ce]=Be,qe)),Ke)}},E.onSelectChange=function(ce){var ue=E.props,Be=ue.onChange,Ke=ue.idSchema;Be(ce,void 0,Ke&&Ke.$id)};var k=w.formData,H=k===void 0?[]:k,ae=L(H);return E.state={keyedFormData:ae,updatedKeyedFormData:!1},E}c.getDerivedStateFromProps=function(E,k){if(k.updatedKeyedFormData)return{updatedKeyedFormData:!1};var H=Array.isArray(E.formData)?E.formData:[],ae=k.keyedFormData||[],ce=H.length===ae.length?ae.map(function(ue,Be){return{key:ue.key,item:H[Be]}}):L(H);return{keyedFormData:ce}};var d=c.prototype;return d.isItemRequired=function(E){return Array.isArray(E.type)?!E.type.includes("null"):E.type!=="null"},d.canAddItem=function(E){var k=this.props,H=k.schema,ae=k.uiSchema,ce=k.registry,ue=(0,it.LI)(ae,ce.globalUiOptions),Be=ue.addable;return Be!==!1&&(H.maxItems!==void 0?Be=E.length<H.maxItems:Be=!0),Be},d._handleAddClick=function(E,k){E&&E.preventDefault();var H=this.props.onChange,ae=this.state.keyedFormData,ce={key:g(),item:this._getNewFormDataRow()},ue=[].concat(ae);k!==void 0?ue.splice(k,0,ce):ue.push(ce),this.setState({keyedFormData:ue,updatedKeyedFormData:!0},function(){return H(pe(ue))})},d.render=function(){var E=this.props,k=E.schema,H=E.uiSchema,ae=E.idSchema,ce=E.registry,ue=ce.schemaUtils,Be=ce.translateString;if(!(it.YU in k)){var Ke=(0,it.LI)(H),qe=(0,it.t4)("UnsupportedFieldTemplate",ce,Ke);return(0,vt.jsx)(qe,{schema:k,idSchema:ae,reason:Be(it.g8.MissingItems),registry:ce})}return ue.isMultiSelect(k)?this.renderMultiSelect():(0,it.A7)(H)?this.renderCustomWidget():(0,it.FZ)(k)?this.renderFixedArray():ue.isFilesArray(k,H)?this.renderFiles():this.renderNormalArray()},d.renderNormalArray=function(){var E=this,k=this.props,H=k.schema,ae=k.uiSchema,ce=ae===void 0?{}:ae,ue=k.errorSchema,Be=k.idSchema,Ke=k.name,qe=k.disabled,Se=qe===void 0?!1:qe,Je=k.readonly,We=Je===void 0?!1:Je,St=k.autofocus,Dt=St===void 0?!1:St,Ut=k.required,$t=Ut===void 0?!1:Ut,tr=k.registry,hr=k.onBlur,Mr=k.onFocus,br=k.idPrefix,ur=k.idSeparator,Jr=ur===void 0?"_":ur,pn=k.rawErrors,$r=this.state.keyedFormData,on=H.title===void 0?Ke:H.title,Ln=tr.schemaUtils,Wn=tr.formContext,Rn=(0,it.LI)(ce),ti=(0,Jo.Z)(H.items)?H.items:{},Di=Ln.retrieveSchema(ti),ri=pe(this.state.keyedFormData),ni=this.canAddItem(ri),ui={canAdd:ni,items:$r.map(function(_o,Xi){var gs=_o.key,Ks=_o.item,Do=Ks,ki=Ln.retrieveSchema(ti,Do),ii=ue?ue[Xi]:void 0,ts=Be.$id+Jr+Xi,Ga=Ln.toIdSchema(ki,ts,Do,br,Jr);return E.renderArrayFieldItem({key:gs,index:Xi,name:Ke&&Ke+"-"+Xi,canAdd:ni,canMoveUp:Xi>0,canMoveDown:Xi<ri.length-1,itemSchema:ki,itemIdSchema:Ga,itemErrorSchema:ii,itemData:Do,itemUiSchema:ce.items,autofocus:Dt&&Xi===0,onBlur:hr,onFocus:Mr,rawErrors:pn,totalItems:$r.length})}),className:"field field-array field-array-of-"+Di.type,disabled:Se,idSchema:Be,uiSchema:ce,onAddClick:this.onAddClick,readonly:We,required:$t,schema:H,title:on,formContext:Wn,formData:ri,rawErrors:pn,registry:tr},Vi=(0,it.t4)("ArrayFieldTemplate",tr,Rn);return(0,vt.jsx)(Vi,Vr({},ui))},d.renderCustomWidget=function(){var E,k=this.props,H=k.schema,ae=k.idSchema,ce=k.uiSchema,ue=k.disabled,Be=ue===void 0?!1:ue,Ke=k.readonly,qe=Ke===void 0?!1:Ke,Se=k.autofocus,Je=Se===void 0?!1:Se,We=k.required,St=We===void 0?!1:We,Dt=k.hideError,Ut=k.placeholder,$t=k.onBlur,tr=k.onFocus,hr=k.formData,Mr=hr===void 0?[]:hr,br=k.registry,ur=k.rawErrors,Jr=k.name,pn=br.widgets,$r=br.formContext,on=br.globalUiOptions,Ln=br.schemaUtils,Wn=(0,it.LI)(ce,on),Rn=Wn.widget,ti=Wn.title,Di=Ao(Wn,s),ri=(0,it.us)(H,Rn,pn),ni=(E=ti!=null?ti:H.title)!=null?E:Jr,ui=Ln.getDisplayLabel(H,ce,on);return(0,vt.jsx)(ri,{id:ae.$id,name:Jr,multiple:!0,onChange:this.onSelectChange,onBlur:$t,onFocus:tr,options:Di,schema:H,uiSchema:ce,registry:br,value:Mr,disabled:Be,readonly:qe,hideError:Dt,required:St,label:ni,hideLabel:!ui,placeholder:Ut,formContext:$r,autofocus:Je,rawErrors:ur})},d.renderMultiSelect=function(){var E,k=this.props,H=k.schema,ae=k.idSchema,ce=k.uiSchema,ue=k.formData,Be=ue===void 0?[]:ue,Ke=k.disabled,qe=Ke===void 0?!1:Ke,Se=k.readonly,Je=Se===void 0?!1:Se,We=k.autofocus,St=We===void 0?!1:We,Dt=k.required,Ut=Dt===void 0?!1:Dt,$t=k.placeholder,tr=k.onBlur,hr=k.onFocus,Mr=k.registry,br=k.rawErrors,ur=k.name,Jr=Mr.widgets,pn=Mr.schemaUtils,$r=Mr.formContext,on=Mr.globalUiOptions,Ln=pn.retrieveSchema(H.items,Be),Wn=(0,it.pp)(Ln),Rn=(0,it.LI)(ce,on),ti=Rn.widget,Di=ti===void 0?"select":ti,ri=Rn.title,ni=Ao(Rn,h),ui=(0,it.us)(H,Di,Jr),Vi=(E=ri!=null?ri:H.title)!=null?E:ur,_o=pn.getDisplayLabel(H,ce,on);return(0,vt.jsx)(ui,{id:ae.$id,name:ur,multiple:!0,onChange:this.onSelectChange,onBlur:tr,onFocus:hr,options:Vr({},ni,{enumOptions:Wn}),schema:H,uiSchema:ce,registry:Mr,value:Be,disabled:qe,readonly:Je,required:Ut,label:Vi,hideLabel:!_o,placeholder:$t,formContext:$r,autofocus:St,rawErrors:br})},d.renderFiles=function(){var E,k=this.props,H=k.schema,ae=k.uiSchema,ce=k.idSchema,ue=k.name,Be=k.disabled,Ke=Be===void 0?!1:Be,qe=k.readonly,Se=qe===void 0?!1:qe,Je=k.autofocus,We=Je===void 0?!1:Je,St=k.required,Dt=St===void 0?!1:St,Ut=k.onBlur,$t=k.onFocus,tr=k.registry,hr=k.formData,Mr=hr===void 0?[]:hr,br=k.rawErrors,ur=tr.widgets,Jr=tr.formContext,pn=tr.globalUiOptions,$r=tr.schemaUtils,on=(0,it.LI)(ae,pn),Ln=on.widget,Wn=Ln===void 0?"files":Ln,Rn=on.title,ti=Ao(on,x),Di=(0,it.us)(H,Wn,ur),ri=(E=Rn!=null?Rn:H.title)!=null?E:ue,ni=$r.getDisplayLabel(H,ae,pn);return(0,vt.jsx)(Di,{options:ti,id:ce.$id,name:ue,multiple:!0,onChange:this.onSelectChange,onBlur:Ut,onFocus:$t,schema:H,uiSchema:ae,value:Mr,disabled:Ke,readonly:Se,required:Dt,registry:tr,formContext:Jr,autofocus:We,rawErrors:br,label:ri,hideLabel:!ni})},d.renderFixedArray=function(){var E=this,k=this.props,H=k.schema,ae=k.uiSchema,ce=ae===void 0?{}:ae,ue=k.formData,Be=ue===void 0?[]:ue,Ke=k.errorSchema,qe=k.idPrefix,Se=k.idSeparator,Je=Se===void 0?"_":Se,We=k.idSchema,St=k.name,Dt=k.disabled,Ut=Dt===void 0?!1:Dt,$t=k.readonly,tr=$t===void 0?!1:$t,hr=k.autofocus,Mr=hr===void 0?!1:hr,br=k.required,ur=br===void 0?!1:br,Jr=k.registry,pn=k.onBlur,$r=k.onFocus,on=k.rawErrors,Ln=this.state.keyedFormData,Wn=this.props.formData,Rn=Wn===void 0?[]:Wn,ti=H.title||St,Di=(0,it.LI)(ce),ri=Jr.schemaUtils,ni=Jr.formContext,ui=(0,Jo.Z)(H.items)?H.items:[],Vi=ui.map(function(Do,ki){return ri.retrieveSchema(Do,Be[ki])}),_o=(0,Jo.Z)(H.additionalItems)?ri.retrieveSchema(H.additionalItems,Be):null;(!Rn||Rn.length<Vi.length)&&(Rn=Rn||[],Rn=Rn.concat(new Array(Vi.length-Rn.length)));var Xi=this.canAddItem(Rn)&&!!_o,gs={canAdd:Xi,className:"field field-array field-array-fixed-items",disabled:Ut,idSchema:We,formData:Be,items:Ln.map(function(Do,ki){var ii=Do.key,ts=Do.item,Ga=ts,ll=ki>=Vi.length,hl=ll&&(0,Jo.Z)(H.additionalItems)?ri.retrieveSchema(H.additionalItems,Ga):Vi[ki],$l=We.$id+Je+ki,Il=ri.toIdSchema(hl,$l,Ga,qe,Je),bl=ll?ce.additionalItems||{}:Array.isArray(ce.items)?ce.items[ki]:ce.items||{},qa=Ke?Ke[ki]:void 0;return E.renderArrayFieldItem({key:ii,index:ki,name:St&&St+"-"+ki,canAdd:Xi,canRemove:ll,canMoveUp:ki>=Vi.length+1,canMoveDown:ll&&ki<Rn.length-1,itemSchema:hl,itemData:Ga,itemUiSchema:bl,itemIdSchema:Il,itemErrorSchema:qa,autofocus:Mr&&ki===0,onBlur:pn,onFocus:$r,rawErrors:on,totalItems:Ln.length})}),onAddClick:this.onAddClick,readonly:tr,required:ur,registry:Jr,schema:H,uiSchema:ce,title:ti,formContext:ni,rawErrors:on},Ks=(0,it.t4)("ArrayFieldTemplate",Jr,Di);return(0,vt.jsx)(Ks,Vr({},gs))},d.renderArrayFieldItem=function(E){var k=E.key,H=E.index,ae=E.name,ce=E.canAdd,ue=E.canRemove,Be=ue===void 0?!0:ue,Ke=E.canMoveUp,qe=E.canMoveDown,Se=E.itemSchema,Je=E.itemData,We=E.itemUiSchema,St=E.itemIdSchema,Dt=E.itemErrorSchema,Ut=E.autofocus,$t=E.onBlur,tr=E.onFocus,hr=E.rawErrors,Mr=E.totalItems,br=this.props,ur=br.disabled,Jr=br.hideError,pn=br.idPrefix,$r=br.idSeparator,on=br.readonly,Ln=br.uiSchema,Wn=br.registry,Rn=br.formContext,ti=Wn.fields,Di=ti.ArraySchemaField,ri=ti.SchemaField,ni=Wn.globalUiOptions,ui=Di||ri,Vi=(0,it.LI)(Ln,ni),_o=Vi.orderable,Xi=_o===void 0?!0:_o,gs=Vi.removable,Ks=gs===void 0?!0:gs,Do=Vi.copyable,ki=Do===void 0?!1:Do,ii={moveUp:Xi&&Ke,moveDown:Xi&&qe,copy:ki&&ce,remove:Ks&&Be,toolbar:!1};return ii.toolbar=Object.keys(ii).some(function(ts){return ii[ts]}),{children:(0,vt.jsx)(ui,{name:ae,index:H,schema:Se,uiSchema:We,formData:Je,formContext:Rn,errorSchema:Dt,idPrefix:pn,idSeparator:$r,idSchema:St,required:this.isItemRequired(Se),onChange:this.onChangeForIndex(H),onBlur:$t,onFocus:tr,registry:Wn,disabled:ur,readonly:on,hideError:Jr,autofocus:Ut,rawErrors:hr}),className:"array-item",disabled:ur,canAdd:ce,hasCopy:ii.copy,hasToolbar:ii.toolbar,hasMoveUp:ii.moveUp,hasMoveDown:ii.moveDown,hasRemove:ii.remove,index:H,totalItems:Mr,key:k,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:on,registry:Wn,schema:Se,uiSchema:We}},fo(c,[{key:"itemTitle",get:function(){var E=this.props,k=E.schema,H=E.registry,ae=H.translateString;return(0,Zi.Z)(k,[it.YU,"title"],(0,Zi.Z)(k,[it.YU,"description"],ae(it.g8.ArrayItemTitle)))}}]),c}(M.Component),tt=["widget","title","label"];function ut(i){var c,d=i.schema,w=i.name,E=i.uiSchema,k=i.idSchema,H=i.formData,ae=i.registry,ce=i.required,ue=i.disabled,Be=i.readonly,Ke=i.autofocus,qe=i.onChange,Se=i.onFocus,Je=i.onBlur,We=i.rawErrors,St=d.title,Dt=ae.widgets,Ut=ae.formContext,$t=ae.translateString,tr=ae.globalUiOptions,hr=(0,it.LI)(E,tr),Mr=hr.widget,br=Mr===void 0?"checkbox":Mr,ur=hr.title,Jr=hr.label,pn=Jr===void 0?!0:Jr,$r=Ao(hr,tt),on=(0,it.us)(d,br,Dt),Ln=$t(it.g8.YesLabel),Wn=$t(it.g8.NoLabel),Rn,ti=(c=ur!=null?ur:St)!=null?c:w;if(Array.isArray(d.oneOf))Rn=(0,it.pp)({oneOf:d.oneOf.map(function(ui){if((0,Jo.Z)(ui))return Vr({},ui,{title:ui.title||(ui.const===!0?Ln:Wn)})}).filter(function(ui){return ui})});else{var Di,ri=d,ni=(Di=d.enum)!=null?Di:[!0,!1];!ri.enumNames&&ni.length===2&&ni.every(function(ui){return typeof ui=="boolean"})?Rn=[{value:ni[0],label:ni[0]?Ln:Wn},{value:ni[1],label:ni[1]?Ln:Wn}]:Rn=(0,it.pp)({enum:ni,enumNames:ri.enumNames})}return(0,vt.jsx)(on,{options:Vr({},$r,{enumOptions:Rn}),schema:d,uiSchema:E,id:k.$id,name:w,onChange:qe,onFocus:Se,onBlur:Je,label:ti,hideLabel:!pn,value:H,required:ce,disabled:ue,readonly:Be,registry:ae,formContext:Ut,autofocus:Ke,rawErrors:We})}var wt=["widget","placeholder","autofocus","autocomplete","title"],Ot=function(i){ma(c,i);function c(w){var E;E=i.call(this,w)||this,E.onOptionChange=function(Be){var Ke=E.state,qe=Ke.selectedOption,Se=Ke.retrievedOptions,Je=E.props,We=Je.formData,St=Je.onChange,Dt=Je.registry,Ut=Dt.schemaUtils,$t=Be!==void 0?parseInt(Be,10):-1;if($t!==qe){var tr=$t>=0?Se[$t]:void 0,hr=qe>=0?Se[qe]:void 0,Mr=Ut.sanitizeDataForNewSchema(tr,hr,We);Mr&&tr&&(Mr=Ut.getDefaultFormState(tr,Mr,"excludeObjectChildren")),St(Mr,void 0,E.getFieldId()),E.setState({selectedOption:$t})}};var k=E.props,H=k.formData,ae=k.options,ce=k.registry.schemaUtils,ue=ae.map(function(Be){return ce.retrieveSchema(Be,H)});return E.state={retrievedOptions:ue,selectedOption:E.getMatchingOption(0,H,ue)},E}var d=c.prototype;return d.componentDidUpdate=function(E,k){var H=this.props,ae=H.formData,ce=H.options,ue=H.idSchema,Be=this.state.selectedOption,Ke=this.state;if(!(0,it.qt)(E.options,ce)){var qe=this.props.registry.schemaUtils,Se=ce.map(function(Dt){return qe.retrieveSchema(Dt,ae)});Ke={selectedOption:Be,retrievedOptions:Se}}if(!(0,it.qt)(ae,E.formData)&&ue.$id===E.idSchema.$id){var Je=Ke,We=Je.retrievedOptions,St=this.getMatchingOption(Be,ae,We);k&&St!==Be&&(Ke={selectedOption:St,retrievedOptions:We})}Ke!==this.state&&this.setState(Ke)},d.getMatchingOption=function(E,k,H){var ae=this.props,ce=ae.schema,ue=ae.registry.schemaUtils,Be,Ke=(0,Zi.Z)(ce,"discriminator.propertyName",void 0);(0,Ys.Z)(Ke)?Be=Ke:Ke!==void 0&&console.warn('Expecting discriminator to be a string, got "'+typeof Ke+'" instead');var qe=ue.getClosestMatchingOption(k,H,E,Be);return qe>0?qe:E||0},d.getFieldId=function(){var E=this.props,k=E.idSchema,H=E.schema;return""+k.$id+(H.oneOf?"__oneof_select":"__anyof_select")},d.render=function(){var E=this.props,k=E.name,H=E.baseType,ae=E.disabled,ce=ae===void 0?!1:ae,ue=E.errorSchema,Be=ue===void 0?{}:ue,Ke=E.formContext,qe=E.onBlur,Se=E.onFocus,Je=E.registry,We=E.schema,St=E.uiSchema,Dt=Je.widgets,Ut=Je.fields,$t=Je.translateString,tr=Je.globalUiOptions,hr=Je.schemaUtils,Mr=Ut.SchemaField,br=this.state,ur=br.selectedOption,Jr=br.retrievedOptions,pn=(0,it.LI)(St,tr),$r=pn.widget,on=$r===void 0?"select":$r,Ln=pn.placeholder,Wn=pn.autofocus,Rn=pn.autocomplete,ti=pn.title,Di=ti===void 0?We.title:ti,ri=Ao(pn,wt),ni=(0,it.us)({type:"number"},on,Dt),ui=(0,Zi.Z)(Be,it.M9,[]),Vi=(0,jo.Z)(Be,[it.M9]),_o=hr.getDisplayLabel(We,St,tr),Xi=ur>=0&&Jr[ur]||null,gs;Xi&&(gs=Xi.type?Xi:Object.assign({},Xi,{type:H}));var Ks=Di?it.g8.TitleOptionPrefix:it.g8.OptionPrefix,Do=Di?[Di]:[],ki=Jr.map(function(ii,ts){return{label:ii.title||$t(Ks,Do.concat(String(ts+1))),value:ts}});return(0,vt.jsxs)("div",{className:"panel panel-default panel-body",children:[(0,vt.jsx)("div",{className:"form-group",children:(0,vt.jsx)(ni,{id:this.getFieldId(),name:""+k+(We.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:qe,onFocus:Se,disabled:ce||(0,Ni.Z)(ki),multiple:!1,rawErrors:ui,errorSchema:Vi,value:ur>=0?ur:void 0,options:Vr({enumOptions:ki},ri),registry:Je,formContext:Ke,placeholder:Ln,autocomplete:Rn,autofocus:Wn,label:Di!=null?Di:k,hideLabel:!_o})}),Xi!==null&&(0,vt.jsx)(Mr,Vr({},this.props,{schema:gs}))]})},c}(M.Component),a=/\.([0-9]*0)*$/,e=/[0.]0*$/;function t(i){var c=i.registry,d=i.onChange,w=i.formData,E=i.value,k=(0,M.useState)(E),H=k[0],ae=k[1],ce=c.fields.StringField,ue=w,Be=(0,M.useCallback)(function(qe){ae(qe),(""+qe).charAt(0)==="."&&(qe="0"+qe);var Se=typeof qe=="string"&&qe.match(a)?(0,it.mH)(qe.replace(e,"")):(0,it.mH)(qe);d(Se)},[d]);if(typeof H=="string"&&typeof ue=="number"){var Ke=new RegExp((""+ue).replace(".","\\.")+"\\.?0*$");H.match(Ke)&&(ue=H)}return(0,vt.jsx)(ce,Vr({},i,{formData:ue,onChange:Be}))}var r=function(i){ma(c,i);function c(){for(var w,E=arguments.length,k=new Array(E),H=0;H<E;H++)k[H]=arguments[H];return w=i.call.apply(i,[this].concat(k))||this,w.state={wasPropertyKeyModified:!1,additionalProperties:{}},w.onPropertyChange=function(ae,ce){return ce===void 0&&(ce=!1),function(ue,Be,Ke){var qe,Se,Je=w.props,We=Je.formData,St=Je.onChange,Dt=Je.errorSchema;ue===void 0&&ce&&(ue="");var Ut=Vr({},We,(qe={},qe[ae]=ue,qe));St(Ut,Dt&&Dt&&Vr({},Dt,(Se={},Se[ae]=Be,Se)),Ke)}},w.onDropPropertyClick=function(ae){return function(ce){ce.preventDefault();var ue=w.props,Be=ue.onChange,Ke=ue.formData,qe=Vr({},Ke);Ra(qe,ae),Be(qe)}},w.getAvailableKey=function(ae,ce){for(var ue=w.props,Be=ue.uiSchema,Ke=ue.registry,qe=(0,it.LI)(Be,Ke.globalUiOptions),Se=qe.duplicateKeySuffixSeparator,Je=Se===void 0?"-":Se,We=0,St=ae;(0,Ia.Z)(ce,St);)St=""+ae+Je+ ++We;return St},w.onKeyChange=function(ae){return function(ce,ue){var Be,Ke;if(ae!==ce){var qe=w.props,Se=qe.formData,Je=qe.onChange,We=qe.errorSchema;ce=w.getAvailableKey(ce,Se);var St=Vr({},Se),Dt=(Be={},Be[ae]=ce,Be),Ut=Object.keys(St).map(function(tr){var hr,Mr=Dt[tr]||tr;return hr={},hr[Mr]=St[tr],hr}),$t=Object.assign.apply(Object,[{}].concat(Ut));w.setState({wasPropertyKeyModified:!0}),Je($t,We&&We&&Vr({},We,(Ke={},Ke[ce]=ue,Ke)))}}},w.handleAddClick=function(ae){return function(){if(ae.additionalProperties){var ce=w.props,ue=ce.formData,Be=ce.onChange,Ke=ce.registry,qe=Vr({},ue),Se=void 0;if((0,Jo.Z)(ae.additionalProperties)){Se=ae.additionalProperties.type;var Je=ae.additionalProperties;if(it.Sr in Je){var We=Ke.schemaUtils;Je=We.retrieveSchema({$ref:Je[it.Sr]},ue),Se=Je.type}!Se&&(it.F8 in Je||it.If in Je)&&(Se="object")}var St=w.getAvailableKey("newKey",qe);(0,Ms.Z)(qe,St,w.getDefaultValue(Se)),Be(qe)}}},w}var d=c.prototype;return d.isRequired=function(E){var k=this.props.schema;return Array.isArray(k.required)&&k.required.indexOf(E)!==-1},d.getDefaultValue=function(E){var k=this.props.registry.translateString;switch(E){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return k(it.g8.NewStringDefault)}},d.render=function(){var E,k,H,ae=this,ce=this.props,ue=ce.schema,Be=ce.uiSchema,Ke=Be===void 0?{}:Be,qe=ce.formData,Se=ce.errorSchema,Je=ce.idSchema,We=ce.name,St=ce.required,Dt=St===void 0?!1:St,Ut=ce.disabled,$t=Ut===void 0?!1:Ut,tr=ce.readonly,hr=tr===void 0?!1:tr,Mr=ce.hideError,br=ce.idPrefix,ur=ce.idSeparator,Jr=ce.onBlur,pn=ce.onFocus,$r=ce.registry,on=$r.fields,Ln=$r.formContext,Wn=$r.schemaUtils,Rn=$r.translateString,ti=$r.globalUiOptions,Di=on.SchemaField,ri=Wn.retrieveSchema(ue,qe),ni=(0,it.LI)(Ke,ti),ui=ri.properties,Vi=ui===void 0?{}:ui,_o=(E=(k=ni.title)!=null?k:ri.title)!=null?E:We,Xi=(H=ni.description)!=null?H:ri.description,gs;try{var Ks=Object.keys(Vi);gs=(0,it.$2)(Ks,ni.order)}catch(ii){return(0,vt.jsxs)("div",{children:[(0,vt.jsx)("p",{className:"config-error",style:{color:"red"},children:(0,vt.jsx)(ms,{children:Rn(it.g8.InvalidObjectField,[We||"root",ii.message])})}),(0,vt.jsx)("pre",{children:JSON.stringify(ri)})]})}var Do=(0,it.t4)("ObjectFieldTemplate",$r,ni),ki={title:ni.label===!1?"":_o,description:ni.label===!1?void 0:Xi,properties:gs.map(function(ii){var ts=(0,Ia.Z)(ri,[it.MA,ii,it.jk]),Ga=ts?Ke.additionalProperties:Ke[ii],ll=(0,it.LI)(Ga).widget==="hidden",hl=(0,Zi.Z)(Je,[ii],{});return{content:(0,vt.jsx)(Di,{name:ii,required:ae.isRequired(ii),schema:(0,Zi.Z)(ri,[it.MA,ii],{}),uiSchema:Ga,errorSchema:(0,Zi.Z)(Se,ii),idSchema:hl,idPrefix:br,idSeparator:ur,formData:(0,Zi.Z)(qe,ii),formContext:Ln,wasPropertyKeyModified:ae.state.wasPropertyKeyModified,onKeyChange:ae.onKeyChange(ii),onChange:ae.onPropertyChange(ii,ts),onBlur:Jr,onFocus:pn,registry:$r,disabled:$t,readonly:hr,hideError:Mr,onDropPropertyClick:ae.onDropPropertyClick},ii),name:ii,readonly:hr,disabled:$t,required:Dt,hidden:ll}}),readonly:hr,disabled:$t,required:Dt,idSchema:Je,uiSchema:Ke,errorSchema:Se,schema:ri,formData:qe,formContext:Ln,registry:$r};return(0,vt.jsx)(Do,Vr({},ki,{onAddClick:this.handleAddClick}))},c}(M.Component),u=["__errors"],v={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function A(i,c,d,w){var E=c.field,k=w.fields,H=w.translateString;if(typeof E=="function")return E;if(typeof E=="string"&&E in k)return k[E];var ae=(0,it.f_)(i),ce=Array.isArray(ae)?ae[0]:ae||"",ue=v[ce];return!ue&&(i.anyOf||i.oneOf)?function(){return null}:ue in k?k[ue]:function(){var Be=(0,it.t4)("UnsupportedFieldTemplate",w,c);return(0,vt.jsx)(Be,{schema:i,idSchema:d,reason:H(it.g8.UnknownFieldType,[String(i.type)]),registry:w})}}function B(i){var c=i.schema,d=i.idSchema,w=i.uiSchema,E=i.formData,k=i.errorSchema,H=i.idPrefix,ae=i.idSeparator,ce=i.name,ue=i.onChange,Be=i.onKeyChange,Ke=i.onDropPropertyClick,qe=i.required,Se=i.registry,Je=i.wasPropertyKeyModified,We=Je===void 0?!1:Je,St=Se.formContext,Dt=Se.schemaUtils,Ut=Se.globalUiOptions,$t=(0,it.LI)(w,Ut),tr=(0,it.t4)("FieldTemplate",Se,$t),hr=(0,it.t4)("DescriptionFieldTemplate",Se,$t),Mr=(0,it.t4)("FieldHelpTemplate",Se,$t),br=(0,it.t4)("FieldErrorTemplate",Se,$t),ur=Dt.retrieveSchema(c,E),Jr=d[it.BO],pn=(0,it.PM)(Dt.toIdSchema(ur,Jr,E,H,ae),d),$r=(0,M.useCallback)(function(qa,Uu,Vu){var Ku=Vu||Jr;return ue(qa,Uu,Ku)},[Jr,ue]),on=A(ur,$t,pn,Se),Ln=Boolean(i.disabled||$t.disabled),Wn=Boolean(i.readonly||$t.readonly||i.schema.readOnly||ur.readOnly),Rn=$t.hideError,ti=Rn===void 0?i.hideError:Boolean(Rn),Di=Boolean(i.autofocus||$t.autofocus);if(Object.keys(ur).length===0)return null;var ri=Dt.getDisplayLabel(ur,w,Ut),ni=k||{},ui=ni.__errors,Vi=Ao(ni,u),_o=(0,jo.Z)(w,["ui:classNames","classNames","ui:style"]);it.ji in _o&&(_o[it.ji]=(0,jo.Z)(_o[it.ji],["classNames","style"]));var Xi=(0,vt.jsx)(on,Vr({},i,{onChange:$r,idSchema:pn,schema:ur,uiSchema:_o,disabled:Ln,readonly:Wn,hideError:ti,autofocus:Di,errorSchema:Vi,formContext:St,rawErrors:ui})),gs=pn[it.BO],Ks;We?Ks=ce:Ks=it.jk in ur?ce:$t.title||i.schema.title||ur.title||ce;var Do=$t.description||i.schema.description||ur.description||"",ki=$t.help,ii=$t.widget==="hidden",ts=["form-group","field","field-"+(0,it.f_)(ur)];!ti&&ui&&ui.length>0&&ts.push("field-error has-error has-danger"),w!=null&&w.classNames&&ts.push(w.classNames),$t.classNames&&ts.push($t.classNames);var Ga=(0,vt.jsx)(Mr,{help:ki,idSchema:pn,schema:ur,uiSchema:w,hasErrors:!ti&&ui&&ui.length>0,registry:Se}),ll=ti?void 0:(0,vt.jsx)(br,{errors:ui,errorSchema:k,idSchema:pn,schema:ur,uiSchema:w,registry:Se}),hl={description:(0,vt.jsx)(hr,{id:(0,it.Si)(gs),description:Do,schema:ur,uiSchema:w,registry:Se}),rawDescription:Do,help:Ga,rawHelp:typeof ki=="string"?ki:void 0,errors:ll,rawErrors:ti?void 0:ui,id:gs,label:Ks,hidden:ii,onChange:ue,onKeyChange:Be,onDropPropertyClick:Ke,required:qe,disabled:Ln,readonly:Wn,hideError:ti,displayLabel:ri,classNames:ts.join(" ").trim(),style:$t.style,formContext:St,formData:E,schema:ur,uiSchema:w,registry:Se},$l=Se.fields.AnyOfField,Il=Se.fields.OneOfField,bl=(w==null?void 0:w["ui:field"])&&(w==null?void 0:w["ui:fieldReplacesAnyOrOneOf"])===!0;return(0,vt.jsx)(tr,Vr({},hl,{children:(0,vt.jsxs)(vt.Fragment,{children:[Xi,ur.anyOf&&!bl&&!Dt.isSelect(ur)&&(0,vt.jsx)($l,{name:ce,disabled:Ln,readonly:Wn,hideError:ti,errorSchema:k,formData:E,formContext:St,idPrefix:H,idSchema:pn,idSeparator:ae,onBlur:i.onBlur,onChange:i.onChange,onFocus:i.onFocus,options:ur.anyOf.map(function(qa){return Dt.retrieveSchema((0,Jo.Z)(qa)?qa:{},E)}),baseType:ur.type,registry:Se,schema:ur,uiSchema:w}),ur.oneOf&&!bl&&!Dt.isSelect(ur)&&(0,vt.jsx)(Il,{name:ce,disabled:Ln,readonly:Wn,hideError:ti,errorSchema:k,formData:E,formContext:St,idPrefix:H,idSchema:pn,idSeparator:ae,onBlur:i.onBlur,onChange:i.onChange,onFocus:i.onFocus,options:ur.oneOf.map(function(qa){return Dt.retrieveSchema((0,Jo.Z)(qa)?qa:{},E)}),baseType:ur.type,registry:Se,schema:ur,uiSchema:w})]})}))}var G=function(i){ma(c,i);function c(){return i.apply(this,arguments)||this}var d=c.prototype;return d.shouldComponentUpdate=function(E){return!(0,it.qt)(this.props,E)},d.render=function(){return(0,vt.jsx)(B,Vr({},this.props))},c}(M.Component),de=["widget","placeholder","title"];function fe(i){var c,d=i.schema,w=i.name,E=i.uiSchema,k=i.idSchema,H=i.formData,ae=i.required,ce=i.disabled,ue=ce===void 0?!1:ce,Be=i.readonly,Ke=Be===void 0?!1:Be,qe=i.autofocus,Se=qe===void 0?!1:qe,Je=i.onChange,We=i.onBlur,St=i.onFocus,Dt=i.registry,Ut=i.rawErrors,$t=d.title,tr=d.format,hr=Dt.widgets,Mr=Dt.formContext,br=Dt.schemaUtils,ur=Dt.globalUiOptions,Jr=br.isSelect(d)?(0,it.pp)(d):void 0,pn=Jr?"select":"text";tr&&(0,it.H7)(d,tr,hr)&&(pn=tr);var $r=(0,it.LI)(E),on=$r.widget,Ln=on===void 0?pn:on,Wn=$r.placeholder,Rn=Wn===void 0?"":Wn,ti=$r.title,Di=Ao($r,de),ri=br.getDisplayLabel(d,E,ur),ni=(c=ti!=null?ti:$t)!=null?c:w,ui=(0,it.us)(d,Ln,hr);return(0,vt.jsx)(ui,{options:Vr({},Di,{enumOptions:Jr}),schema:d,uiSchema:E,id:k.$id,name:w,label:ni,hideLabel:!ri,value:H,onChange:Je,onBlur:We,onFocus:St,required:ae,disabled:ue,readonly:Ke,formContext:Mr,autofocus:Se,registry:Dt,placeholder:Rn,rawErrors:Ut})}function ke(i){var c=i.formData,d=i.onChange;return(0,M.useEffect)(function(){c===void 0&&d(null)},[c,d]),null}function ot(){return{AnyOfField:Ot,ArrayField:Qe,BooleanField:ut,NumberField:t,ObjectField:r,OneOfField:Ot,SchemaField:G,StringField:fe,NullField:ke}}function dt(i){var c=i.idSchema,d=i.description,w=i.registry,E=i.schema,k=i.uiSchema,H=(0,it.LI)(k,w.globalUiOptions),ae=H.label,ce=ae===void 0?!0:ae;if(!d||!ce)return null;var ue=(0,it.t4)("DescriptionFieldTemplate",w,H);return(0,vt.jsx)(ue,{id:(0,it.Si)(c),description:d,schema:E,uiSchema:k,registry:w})}function Pt(i){var c=i.children,d=i.className,w=i.disabled,E=i.hasToolbar,k=i.hasMoveDown,H=i.hasMoveUp,ae=i.hasRemove,ce=i.hasCopy,ue=i.index,Be=i.onCopyIndexClick,Ke=i.onDropIndexClick,qe=i.onReorderClick,Se=i.readonly,Je=i.registry,We=i.uiSchema,St=Je.templates.ButtonTemplates,Dt=St.CopyButton,Ut=St.MoveDownButton,$t=St.MoveUpButton,tr=St.RemoveButton,hr={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,vt.jsxs)("div",{className:d,children:[(0,vt.jsx)("div",{className:E?"col-xs-9":"col-xs-12",children:c}),E&&(0,vt.jsx)("div",{className:"col-xs-3 array-item-toolbox",children:(0,vt.jsxs)("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(H||k)&&(0,vt.jsx)($t,{style:hr,disabled:w||Se||!H,onClick:qe(ue,ue-1),uiSchema:We,registry:Je}),(H||k)&&(0,vt.jsx)(Ut,{style:hr,disabled:w||Se||!k,onClick:qe(ue,ue+1),uiSchema:We,registry:Je}),ce&&(0,vt.jsx)(Dt,{style:hr,disabled:w||Se,onClick:Be(ue),uiSchema:We,registry:Je}),ae&&(0,vt.jsx)(tr,{style:hr,disabled:w||Se,onClick:Ke(ue),uiSchema:We,registry:Je})]})})]})}var zt=["key"];function Zt(i){var c=i.canAdd,d=i.className,w=i.disabled,E=i.idSchema,k=i.uiSchema,H=i.items,ae=i.onAddClick,ce=i.readonly,ue=i.registry,Be=i.required,Ke=i.schema,qe=i.title,Se=(0,it.LI)(k),Je=(0,it.t4)("ArrayFieldDescriptionTemplate",ue,Se),We=(0,it.t4)("ArrayFieldItemTemplate",ue,Se),St=(0,it.t4)("ArrayFieldTitleTemplate",ue,Se),Dt=ue.templates.ButtonTemplates.AddButton;return(0,vt.jsxs)("fieldset",{className:d,id:E.$id,children:[(0,vt.jsx)(St,{idSchema:E,title:Se.title||qe,required:Be,schema:Ke,uiSchema:k,registry:ue}),(0,vt.jsx)(Je,{idSchema:E,description:Se.description||Ke.description,schema:Ke,uiSchema:k,registry:ue}),(0,vt.jsx)("div",{className:"row array-item-list",children:H&&H.map(function(Ut){var $t=Ut.key,tr=Ao(Ut,zt);return(0,vt.jsx)(We,Vr({},tr),$t)})}),c&&(0,vt.jsx)(Dt,{className:"array-item-add",onClick:ae,disabled:w||ce,uiSchema:k,registry:ue})]})}function sr(i){var c=i.idSchema,d=i.title,w=i.schema,E=i.uiSchema,k=i.required,H=i.registry,ae=(0,it.LI)(E,H.globalUiOptions),ce=ae.label,ue=ce===void 0?!0:ce;if(!d||!ue)return null;var Be=(0,it.t4)("TitleFieldTemplate",H,ae);return(0,vt.jsx)(Be,{id:(0,it.Vt)(c),title:d,required:k,schema:w,uiSchema:E,registry:H})}var qt=["id","name","value","readonly","disabled","autofocus","onBlur","onFocus","onChange","onChangeOverride","options","schema","uiSchema","formContext","registry","rawErrors","type","hideLabel","hideError"];function hn(i){var c=i.id,d=i.value,w=i.readonly,E=i.disabled,k=i.autofocus,H=i.onBlur,ae=i.onFocus,ce=i.onChange,ue=i.onChangeOverride,Be=i.options,Ke=i.schema,qe=i.type,Se=Ao(i,qt);if(!c)throw console.log("No id for",i),new Error("no id for props "+JSON.stringify(i));var Je=Vr({},Se,(0,it.TC)(Ke,qe,Be)),We;Je.type==="number"||Je.type==="integer"?We=d||d===0?d:"":We=d==null?"":d;var St=(0,M.useCallback)(function($t){var tr=$t.target.value;return ce(tr===""?Be.emptyValue:tr)},[ce,Be]),Dt=(0,M.useCallback)(function($t){var tr=$t.target.value;return H(c,tr)},[H,c]),Ut=(0,M.useCallback)(function($t){var tr=$t.target.value;return ae(c,tr)},[ae,c]);return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)("input",Vr({id:c,name:c,className:"form-control",readOnly:w,disabled:E,autoFocus:k,value:We},Je,{list:Ke.examples?(0,it.RS)(c):void 0,onChange:ue||St,onBlur:Dt,onFocus:Ut,"aria-describedby":(0,it.Jx)(c,!!Ke.examples)})),Array.isArray(Ke.examples)&&(0,vt.jsx)("datalist",{id:(0,it.RS)(c),children:Ke.examples.concat(Ke.default&&!Ke.examples.includes(Ke.default)?[Ke.default]:[]).map(function($t){return(0,vt.jsx)("option",{value:$t},$t)})},"datalist_"+c)]})}function Dr(i){var c=i.uiSchema,d=(0,it.rF)(c),w=d.submitText,E=d.norender,k=d.props,H=k===void 0?{}:k;return E?null:(0,vt.jsx)("div",{children:(0,vt.jsx)("button",Vr({type:"submit"},H,{className:"btn btn-info "+(H.className||""),children:w}))})}var nn=["iconType","icon","className","uiSchema","registry"];function qr(i){var c=i.iconType,d=c===void 0?"default":c,w=i.icon,E=i.className,k=Ao(i,nn);return(0,vt.jsx)("button",Vr({type:"button",className:"btn btn-"+d+" "+E},k,{children:(0,vt.jsx)("i",{className:"glyphicon glyphicon-"+w})}))}function hi(i){var c=i.registry.translateString;return(0,vt.jsx)(qr,Vr({title:c(it.g8.CopyButton),className:"array-item-copy"},i,{icon:"copy"}))}function to(i){var c=i.registry.translateString;return(0,vt.jsx)(qr,Vr({title:c(it.g8.MoveDownButton),className:"array-item-move-down"},i,{icon:"arrow-down"}))}function ho(i){var c=i.registry.translateString;return(0,vt.jsx)(qr,Vr({title:c(it.g8.MoveUpButton),className:"array-item-move-up"},i,{icon:"arrow-up"}))}function As(i){var c=i.registry.translateString;return(0,vt.jsx)(qr,Vr({title:c(it.g8.RemoveButton),className:"array-item-remove"},i,{iconType:"danger",icon:"remove"}))}function na(i){var c=i.className,d=i.onClick,w=i.disabled,E=i.registry,k=E.translateString;return(0,vt.jsx)("div",{className:"row",children:(0,vt.jsx)("p",{className:"col-xs-3 col-xs-offset-9 text-right "+c,children:(0,vt.jsx)(qr,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:k(it.g8.AddButton),onClick:d,disabled:w,registry:E})})})}function Us(){return{SubmitButton:Dr,AddButton:na,CopyButton:hi,MoveDownButton:to,MoveUpButton:ho,RemoveButton:As}}function Na(i){var c=i.id,d=i.description;return d?typeof d=="string"?(0,vt.jsx)("p",{id:c,className:"field-description",children:d}):(0,vt.jsx)("div",{id:c,className:"field-description",children:d}):null}function Vs(i){var c=i.errors,d=i.registry,w=d.translateString;return(0,vt.jsxs)("div",{className:"panel panel-danger errors",children:[(0,vt.jsx)("div",{className:"panel-heading",children:(0,vt.jsx)("h3",{className:"panel-title",children:w(it.g8.ErrorsLabel)})}),(0,vt.jsx)("ul",{className:"list-group",children:c.map(function(E,k){return(0,vt.jsx)("li",{className:"list-group-item text-danger",children:E.stack},k)})})]})}var ia="*";function oa(i){var c=i.label,d=i.required,w=i.id;return c?(0,vt.jsxs)("label",{className:"control-label",htmlFor:w,children:[c,d&&(0,vt.jsx)("span",{className:"required",children:ia})]}):null}function xa(i){var c=i.id,d=i.label,w=i.children,E=i.errors,k=i.help,H=i.description,ae=i.hidden,ce=i.required,ue=i.displayLabel,Be=i.registry,Ke=i.uiSchema,qe=(0,it.LI)(Ke),Se=(0,it.t4)("WrapIfAdditionalTemplate",Be,qe);return ae?(0,vt.jsx)("div",{className:"hidden",children:w}):(0,vt.jsxs)(Se,Vr({},i,{children:[ue&&(0,vt.jsx)(oa,{label:d,required:ce,id:c}),ue&&H?H:null,w,E,k]}))}function La(i){var c=i.errors,d=c===void 0?[]:c,w=i.idSchema;if(d.length===0)return null;var E=(0,it.UR)(w);return(0,vt.jsx)("div",{children:(0,vt.jsx)("ul",{id:E,className:"error-detail bs-callout bs-callout-info",children:d.filter(function(k){return!!k}).map(function(k,H){return(0,vt.jsx)("li",{className:"text-danger",children:k},H)})})})}function Ca(i){var c=i.idSchema,d=i.help;if(!d)return null;var w=(0,it.JL)(c);return typeof d=="string"?(0,vt.jsx)("p",{id:w,className:"help-block",children:d}):(0,vt.jsx)("div",{id:w,className:"help-block",children:d})}function pa(i){var c=i.description,d=i.disabled,w=i.formData,E=i.idSchema,k=i.onAddClick,H=i.properties,ae=i.readonly,ce=i.registry,ue=i.required,Be=i.schema,Ke=i.title,qe=i.uiSchema,Se=(0,it.LI)(qe),Je=(0,it.t4)("TitleFieldTemplate",ce,Se),We=(0,it.t4)("DescriptionFieldTemplate",ce,Se),St=ce.templates.ButtonTemplates.AddButton;return(0,vt.jsxs)("fieldset",{id:E.$id,children:[Ke&&(0,vt.jsx)(Je,{id:(0,it.Vt)(E),title:Ke,required:ue,schema:Be,uiSchema:qe,registry:ce}),c&&(0,vt.jsx)(We,{id:(0,it.Si)(E),description:c,schema:Be,uiSchema:qe,registry:ce}),H.map(function(Dt){return Dt.content}),(0,it.Rc)(Be,qe,w)&&(0,vt.jsx)(St,{className:"object-property-expand",onClick:k(Be),disabled:d||ae,uiSchema:qe,registry:ce})]})}var Sl="*";function El(i){var c=i.id,d=i.title,w=i.required;return(0,vt.jsxs)("legend",{id:c,children:[d,w&&(0,vt.jsx)("span",{className:"required",children:Sl})]})}function wl(i){var c=i.schema,d=i.idSchema,w=i.reason,E=i.registry,k=E.translateString,H=it.g8.UnsupportedField,ae=[];return d&&d.$id&&(H=it.g8.UnsupportedFieldWithId,ae.push(d.$id)),w&&(H=H===it.g8.UnsupportedField?it.g8.UnsupportedFieldWithReason:it.g8.UnsupportedFieldWithIdAndReason,ae.push(w)),(0,vt.jsxs)("div",{className:"unsupported-field",children:[(0,vt.jsx)("p",{children:(0,vt.jsx)(ms,{children:k(H,ae)})}),c&&(0,vt.jsx)("pre",{children:JSON.stringify(c,null,2)})]})}function Ol(i){var c=i.id,d=i.classNames,w=i.style,E=i.disabled,k=i.label,H=i.onKeyChange,ae=i.onDropPropertyClick,ce=i.readonly,ue=i.required,Be=i.schema,Ke=i.children,qe=i.uiSchema,Se=i.registry,Je=Se.templates,We=Se.translateString,St=Je.ButtonTemplates.RemoveButton,Dt=We(it.g8.KeyLabel,[k]),Ut=it.jk in Be;return Ut?(0,vt.jsx)("div",{className:d,style:w,children:(0,vt.jsxs)("div",{className:"row",children:[(0,vt.jsx)("div",{className:"col-xs-5 form-additional",children:(0,vt.jsxs)("div",{className:"form-group",children:[(0,vt.jsx)(oa,{label:Dt,required:ue,id:c+"-key"}),(0,vt.jsx)("input",{className:"form-control",type:"text",id:c+"-key",onBlur:function(tr){return H(tr.target.value)},defaultValue:k})]})}),(0,vt.jsx)("div",{className:"form-additional form-group col-xs-5",children:Ke}),(0,vt.jsx)("div",{className:"col-xs-2",children:(0,vt.jsx)(St,{className:"array-item-remove btn-block",style:{border:"0"},disabled:E||ce,onClick:ae(k),uiSchema:qe,registry:Se})})]})}):(0,vt.jsx)("div",{className:d,style:w,children:Ke})}function xl(){return{ArrayFieldDescriptionTemplate:dt,ArrayFieldItemTemplate:Pt,ArrayFieldTemplate:Zt,ArrayFieldTitleTemplate:sr,ButtonTemplates:Us(),BaseInputTemplate:hn,DescriptionFieldTemplate:Na,ErrorListTemplate:Vs,FieldTemplate:xa,FieldErrorTemplate:La,FieldHelpTemplate:Ca,ObjectFieldTemplate:pa,TitleFieldTemplate:El,UnsupportedFieldTemplate:wl,WrapIfAdditionalTemplate:Ol}}function pl(i,c){for(var d=[],w=i;w<=c;w++)d.push({value:w,label:(0,it.vk)(w,2)});return d}function Cl(i){return Object.values(i).every(function(c){return c!==-1})}function Al(i,c,d){d===void 0&&(d=[1900,new Date().getFullYear()+2]);var w=i.year,E=i.month,k=i.day,H=i.hour,ae=i.minute,ce=i.second,ue=[{type:"year",range:d,value:w},{type:"month",range:[1,12],value:E},{type:"day",range:[1,31],value:k}];return c&&ue.push({type:"hour",range:[0,23],value:H},{type:"minute",range:[0,59],value:ae},{type:"second",range:[0,59],value:ce}),ue}function Pl(i){var c=i.type,d=i.range,w=i.value,E=i.select,k=i.rootId,H=i.name,ae=i.disabled,ce=i.readonly,ue=i.autofocus,Be=i.registry,Ke=i.onBlur,qe=i.onFocus,Se=k+"_"+c,Je=Be.widgets.SelectWidget;return(0,vt.jsx)(Je,{schema:{type:"integer"},id:Se,name:H,className:"form-control",options:{enumOptions:pl(d[0],d[1])},placeholder:c,value:w,disabled:ae,readonly:ce,autofocus:ue,onChange:function(St){return E(c,St)},onBlur:Ke,onFocus:qe,registry:Be,label:"","aria-describedby":(0,it.Jx)(k)})}function gl(i){var c=i.time,d=c===void 0?!1:c,w=i.disabled,E=w===void 0?!1:w,k=i.readonly,H=k===void 0?!1:k,ae=i.autofocus,ce=ae===void 0?!1:ae,ue=i.options,Be=i.id,Ke=i.name,qe=i.registry,Se=i.onBlur,Je=i.onFocus,We=i.onChange,St=i.value,Dt=qe.translateString,Ut=(0,M.useState)(St),$t=Ut[0],tr=Ut[1],hr=(0,M.useReducer)(function($r,on){return Vr({},$r,on)},(0,it.xk)(St,d)),Mr=hr[0],br=hr[1];(0,M.useEffect)(function(){var $r=(0,it.tC)(Mr,d);Cl(Mr)&&$r!==St?We($r):$t!==St&&(tr(St),br((0,it.xk)(St,d)))},[d,St,We,Mr,$t]);var ur=(0,M.useCallback)(function($r,on){var Ln;br((Ln={},Ln[$r]=on,Ln))},[]),Jr=(0,M.useCallback)(function($r){if($r.preventDefault(),!(E||H)){var on=(0,it.xk)(new Date().toJSON(),d);We((0,it.tC)(on,d))}},[E,H,d]),pn=(0,M.useCallback)(function($r){$r.preventDefault(),!(E||H)&&We(void 0)},[E,H,We]);return(0,vt.jsxs)("ul",{className:"list-inline",children:[Al(Mr,d,ue.yearsRange).map(function($r,on){return(0,vt.jsx)("li",{className:"list-inline-item",children:(0,vt.jsx)(Pl,Vr({rootId:Be,name:Ke,select:ur},$r,{disabled:E,readonly:H,registry:qe,onBlur:Se,onFocus:Je,autofocus:ce&&on===0}))},on)}),(ue.hideNowButton!=="undefined"?!ue.hideNowButton:!0)&&(0,vt.jsx)("li",{className:"list-inline-item",children:(0,vt.jsx)("a",{href:"#",className:"btn btn-info btn-now",onClick:Jr,children:Dt(it.g8.NowLabel)})}),(ue.hideClearButton!=="undefined"?!ue.hideClearButton:!0)&&(0,vt.jsx)("li",{className:"list-inline-item",children:(0,vt.jsx)("a",{href:"#",className:"btn btn-warning btn-clear",onClick:pn,children:Dt(it.g8.ClearLabel)})})]})}var Tl=["time"];function f(i){var c=i.time,d=c===void 0?!0:c,w=Ao(i,Tl),E=w.registry.widgets.AltDateWidget;return(0,vt.jsx)(E,Vr({time:d},w))}function n(i){var c,d=i.schema,w=i.uiSchema,E=i.options,k=i.id,H=i.value,ae=i.disabled,ce=i.readonly,ue=i.label,Be=i.hideLabel,Ke=i.autofocus,qe=Ke===void 0?!1:Ke,Se=i.onBlur,Je=i.onFocus,We=i.onChange,St=i.registry,Dt=(0,it.t4)("DescriptionFieldTemplate",St,E),Ut=(0,it.iE)(d),$t=(0,M.useCallback)(function(br){return We(br.target.checked)},[We]),tr=(0,M.useCallback)(function(br){return Se(k,br.target.checked)},[Se,k]),hr=(0,M.useCallback)(function(br){return Je(k,br.target.checked)},[Je,k]),Mr=(c=E.description)!=null?c:d.description;return(0,vt.jsxs)("div",{className:"checkbox "+(ae||ce?"disabled":""),children:[!Be&&!!Mr&&(0,vt.jsx)(Dt,{id:(0,it.Si)(k),description:Mr,schema:d,uiSchema:w,registry:St}),(0,vt.jsxs)("label",{children:[(0,vt.jsx)("input",{type:"checkbox",id:k,name:k,checked:typeof H=="undefined"?!1:H,required:Ut,disabled:ae||ce,autoFocus:qe,onChange:$t,onBlur:tr,onFocus:hr,"aria-describedby":(0,it.Jx)(k)}),(0,it.RY)((0,vt.jsx)("span",{children:ue}),Be)]})]})}function p(i){var c=i.id,d=i.disabled,w=i.options,E=w.inline,k=E===void 0?!1:E,H=w.enumOptions,ae=w.enumDisabled,ce=w.emptyValue,ue=i.value,Be=i.autofocus,Ke=Be===void 0?!1:Be,qe=i.readonly,Se=i.onChange,Je=i.onBlur,We=i.onFocus,St=Array.isArray(ue)?ue:[ue],Dt=(0,M.useCallback)(function($t){var tr=$t.target.value;return Je(c,(0,it.QP)(tr,H,ce))},[Je,c]),Ut=(0,M.useCallback)(function($t){var tr=$t.target.value;return We(c,(0,it.QP)(tr,H,ce))},[We,c]);return(0,vt.jsx)("div",{className:"checkboxes",id:c,children:Array.isArray(H)&&H.map(function($t,tr){var hr=(0,it.TR)($t.value,St),Mr=Array.isArray(ae)&&ae.indexOf($t.value)!==-1,br=d||Mr||qe?"disabled":"",ur=function($r){$r.target.checked?Se((0,it.U3)(tr,St,H)):Se((0,it.aI)(tr,St,H))},Jr=(0,vt.jsxs)("span",{children:[(0,vt.jsx)("input",{type:"checkbox",id:(0,it.DK)(c,tr),name:c,checked:hr,value:String(tr),disabled:d||Mr||qe,autoFocus:Ke&&tr===0,onChange:ur,onBlur:Dt,onFocus:Ut,"aria-describedby":(0,it.Jx)(c)}),(0,vt.jsx)("span",{children:$t.label})]});return k?(0,vt.jsx)("label",{className:"checkbox-inline "+br,children:Jr},tr):(0,vt.jsx)("div",{className:"checkbox "+br,children:(0,vt.jsx)("label",{children:Jr})},tr)})})}function b(i){var c=i.disabled,d=i.readonly,w=i.options,E=i.registry,k=(0,it.t4)("BaseInputTemplate",E,w);return(0,vt.jsx)(k,Vr({type:"color"},i,{disabled:c||d}))}function P(i){var c=i.onChange,d=i.options,w=i.registry,E=(0,it.t4)("BaseInputTemplate",w,d),k=(0,M.useCallback)(function(H){return c(H||void 0)},[c]);return(0,vt.jsx)(E,Vr({type:"date"},i,{onChange:k}))}function W(i){var c=i.onChange,d=i.value,w=i.options,E=i.registry,k=(0,it.t4)("BaseInputTemplate",E,w);return(0,vt.jsx)(k,Vr({type:"datetime-local"},i,{value:(0,it.Yp)(d),onChange:function(ae){return c((0,it._4)(ae))}}))}function le(i){var c=i.options,d=i.registry,w=(0,it.t4)("BaseInputTemplate",d,c);return(0,vt.jsx)(w,Vr({type:"email"},i))}function Ae(i,c){return i===null?null:i.replace(";base64",";name="+encodeURIComponent(c)+";base64")}function $e(i){var c=i.name,d=i.size,w=i.type;return new Promise(function(E,k){var H=new window.FileReader;H.onerror=k,H.onload=function(ae){var ce;typeof((ce=ae.target)===null||ce===void 0?void 0:ce.result)=="string"?E({dataURL:Ae(ae.target.result,c),name:c,size:d,type:w}):E({dataURL:null,name:c,size:d,type:w})},H.readAsDataURL(i)})}function yt(i){return Promise.all(Array.from(i).map($e))}function Tt(i){var c=i.fileInfo,d=i.registry,w=d.translateString,E=c.dataURL,k=c.type,H=c.name;return E?k.indexOf("image")!==-1?(0,vt.jsx)("img",{src:E,style:{maxWidth:"100%"},className:"file-preview"}):(0,vt.jsxs)(vt.Fragment,{children:[" ",(0,vt.jsx)("a",{download:"preview-"+H,href:E,className:"file-download",children:w(it.g8.PreviewLabel)})]}):null}function er(i){var c=i.filesInfo,d=i.registry,w=i.preview;if(c.length===0)return null;var E=d.translateString;return(0,vt.jsx)("ul",{className:"file-info",children:c.map(function(k,H){var ae=k.name,ce=k.size,ue=k.type;return(0,vt.jsxs)("li",{children:[(0,vt.jsx)(ms,{children:E(it.g8.FilesInfo,[ae,ue,String(ce)])}),w&&(0,vt.jsx)(Tt,{fileInfo:k,registry:d})]},H)})})}function Gr(i){return i.filter(function(c){return c}).map(function(c){var d=(0,it.OP)(c),w=d.blob,E=d.name;return{dataURL:c,name:E,size:w.size,type:w.type}})}function Nn(i){var c=i.disabled,d=i.readonly,w=i.required,E=i.multiple,k=i.onChange,H=i.value,ae=i.options,ce=i.registry,ue=(0,it.t4)("BaseInputTemplate",ce,ae),Be=(0,M.useMemo)(function(){return Array.isArray(H)?Gr(H):Gr([H])},[H]),Ke=(0,M.useState)(Be),qe=Ke[0],Se=Ke[1],Je=(0,M.useCallback)(function(We){We.target.files&&yt(We.target.files).then(function(St){Se(St);var Dt=St.map(function(Ut){return Ut.dataURL});k(E?Dt:Dt[0])})},[E,k]);return(0,vt.jsxs)("div",{children:[(0,vt.jsx)(ue,Vr({},i,{disabled:c||d,type:"file",required:H?!1:w,onChangeOverride:Je,value:"",accept:ae.accept?String(ae.accept):void 0})),(0,vt.jsx)(er,{filesInfo:qe,registry:ce,preview:ae.filePreview})]})}function Wi(i){var c=i.id,d=i.value;return(0,vt.jsx)("input",{type:"hidden",id:c,name:c,value:typeof d=="undefined"?"":d})}function sa(i){var c=i.options,d=i.registry,w=(0,it.t4)("BaseInputTemplate",d,c);return(0,vt.jsx)(w,Vr({type:"password"},i))}function tl(i){var c=i.options,d=i.value,w=i.required,E=i.disabled,k=i.readonly,H=i.autofocus,ae=H===void 0?!1:H,ce=i.onBlur,ue=i.onFocus,Be=i.onChange,Ke=i.id,qe=c.enumOptions,Se=c.enumDisabled,Je=c.inline,We=c.emptyValue,St=(0,M.useCallback)(function(Ut){var $t=Ut.target.value;return ce(Ke,(0,it.QP)($t,qe,We))},[ce,Ke]),Dt=(0,M.useCallback)(function(Ut){var $t=Ut.target.value;return ue(Ke,(0,it.QP)($t,qe,We))},[ue,Ke]);return(0,vt.jsx)("div",{className:"field-radio-group",id:Ke,children:Array.isArray(qe)&&qe.map(function(Ut,$t){var tr=(0,it.TR)(Ut.value,d),hr=Array.isArray(Se)&&Se.indexOf(Ut.value)!==-1,Mr=E||hr||k?"disabled":"",br=function(){return Be(Ut.value)},ur=(0,vt.jsxs)("span",{children:[(0,vt.jsx)("input",{type:"radio",id:(0,it.DK)(Ke,$t),checked:tr,name:Ke,required:w,value:String($t),disabled:E||hr||k,autoFocus:ae&&$t===0,onChange:br,onBlur:St,onFocus:Dt,"aria-describedby":(0,it.Jx)(Ke)}),(0,vt.jsx)("span",{children:Ut.label})]});return Je?(0,vt.jsx)("label",{className:"radio-inline "+Mr,children:ur},$t):(0,vt.jsx)("div",{className:"radio "+Mr,children:(0,vt.jsx)("label",{children:ur})},$t)})})}function Ja(i){var c=i.value,d=i.registry.templates.BaseInputTemplate;return(0,vt.jsxs)("div",{className:"field-range-wrapper",children:[(0,vt.jsx)(d,Vr({type:"range"},i)),(0,vt.jsx)("span",{className:"range-view",children:c})]})}function Ui(i,c){return c?Array.from(i.target.options).slice().filter(function(d){return d.selected}).map(function(d){return d.value}):i.target.value}function ga(i){var c=i.schema,d=i.id,w=i.options,E=i.value,k=i.required,H=i.disabled,ae=i.readonly,ce=i.multiple,ue=ce===void 0?!1:ce,Be=i.autofocus,Ke=Be===void 0?!1:Be,qe=i.onChange,Se=i.onBlur,Je=i.onFocus,We=i.placeholder,St=w.enumOptions,Dt=w.enumDisabled,Ut=w.emptyValue,$t=ue?[]:"",tr=(0,M.useCallback)(function(ur){var Jr=Ui(ur,ue);return Je(d,(0,it.QP)(Jr,St,Ut))},[Je,d,c,ue,w]),hr=(0,M.useCallback)(function(ur){var Jr=Ui(ur,ue);return Se(d,(0,it.QP)(Jr,St,Ut))},[Se,d,c,ue,w]),Mr=(0,M.useCallback)(function(ur){var Jr=Ui(ur,ue);return qe((0,it.QP)(Jr,St,Ut))},[qe,c,ue,w]),br=(0,it.Rt)(E,St,ue);return(0,vt.jsxs)("select",{id:d,name:d,multiple:ue,className:"form-control",value:typeof br=="undefined"?$t:br,required:k,disabled:H||ae,autoFocus:Ke,onBlur:hr,onFocus:tr,onChange:Mr,"aria-describedby":(0,it.Jx)(d),children:[!ue&&c.default===void 0&&(0,vt.jsx)("option",{value:"",children:We}),Array.isArray(St)&&St.map(function(ur,Jr){var pn=ur.value,$r=ur.label,on=Dt&&Dt.indexOf(pn)!==-1;return(0,vt.jsx)("option",{value:String(Jr),disabled:on,children:$r},Jr)})]})}function ps(i){var c=i.id,d=i.options,w=d===void 0?{}:d,E=i.placeholder,k=i.value,H=i.required,ae=i.disabled,ce=i.readonly,ue=i.autofocus,Be=ue===void 0?!1:ue,Ke=i.onChange,qe=i.onBlur,Se=i.onFocus,Je=(0,M.useCallback)(function(Dt){var Ut=Dt.target.value;return Ke(Ut===""?w.emptyValue:Ut)},[Ke,w.emptyValue]),We=(0,M.useCallback)(function(Dt){var Ut=Dt.target.value;return qe(c,Ut)},[qe,c]),St=(0,M.useCallback)(function(Dt){var Ut=Dt.target.value;return Se(c,Ut)},[c,Se]);return(0,vt.jsx)("textarea",{id:c,name:c,className:"form-control",value:k||"",placeholder:E,required:H,disabled:ae,readOnly:ce,autoFocus:Be,rows:w.rows,onBlur:We,onFocus:St,onChange:Je,"aria-describedby":(0,it.Jx)(c)})}ps.defaultProps={autofocus:!1,options:{}};function Po(i){var c=i.options,d=i.registry,w=(0,it.t4)("BaseInputTemplate",d,c);return(0,vt.jsx)(w,Vr({},i))}function Aa(i){var c=i.onChange,d=i.options,w=i.registry,E=(0,it.t4)("BaseInputTemplate",w,d),k=(0,M.useCallback)(function(H){return c(H?H+":00":void 0)},[c]);return(0,vt.jsx)(E,Vr({type:"time"},i,{onChange:k}))}function Pa(i){var c=i.options,d=i.registry,w=(0,it.t4)("BaseInputTemplate",d,c);return(0,vt.jsx)(w,Vr({type:"url"},i))}function fl(i){var c=i.options,d=i.registry,w=(0,it.t4)("BaseInputTemplate",d,c);return(0,vt.jsx)(w,Vr({type:"number"},i))}function To(){return{AltDateWidget:gl,AltDateTimeWidget:f,CheckboxWidget:n,CheckboxesWidget:p,ColorWidget:b,DateWidget:P,DateTimeWidget:W,EmailWidget:le,FileWidget:Nn,HiddenWidget:Wi,PasswordWidget:sa,RadioWidget:tl,RangeWidget:Ja,SelectWidget:ga,TextWidget:Po,TextareaWidget:ps,TimeWidget:Aa,UpDownWidget:fl,URLWidget:Pa}}function Ba(){return{fields:ot(),templates:xl(),widgets:To(),rootSchema:{},formContext:{},translateString:it.XG}}var rl=function(i){ma(c,i);function c(w){var E;if(E=i.call(this,w)||this,E.formElement=void 0,E.getUsedFormData=function(k,H){if(H.length===0&&typeof k!="object")return k;var ae=Vn(k,H);return Array.isArray(k)?Object.keys(ae).map(function(ce){return ae[ce]}):ae},E.getFieldNames=function(k,H){var ae=function ce(ue,Be,Ke){return Be===void 0&&(Be=[]),Ke===void 0&&(Ke=[[]]),Object.keys(ue).forEach(function(qe){if(typeof ue[qe]=="object"){var Se=Ke.map(function(Je){return[].concat(Je,[qe])});ue[qe][it.g$]&&ue[qe][it.PK]!==""?Be.push(ue[qe][it.PK]):ce(ue[qe],Be,Se)}else qe===it.PK&&ue[qe]!==""&&Ke.forEach(function(Je){var We=(0,Zi.Z)(H,Je);(typeof We!="object"||(0,Ni.Z)(We))&&Be.push(Je)})}),Be};return ae(k)},E.onChange=function(k,H,ae){var ce=E.props,ue=ce.extraErrors,Be=ce.omitExtraData,Ke=ce.liveOmit,qe=ce.noValidate,Se=ce.liveValidate,Je=ce.onChange,We=E.state,St=We.schemaUtils,Dt=We.schema;if((0,it.Kn)(k)||Array.isArray(k)){var Ut=E.getStateFromProps(E.props,k);k=Ut.formData}var $t=!qe&&Se,tr={formData:k,schema:Dt},hr=k;if(Be===!0&&Ke===!0){var Mr=St.retrieveSchema(Dt,k),br=St.toPathSchema(Mr,"",k),ur=E.getFieldNames(br,k);hr=E.getUsedFormData(k,ur),tr={formData:hr}}if($t){var Jr=E.validate(hr),pn=Jr.errors,$r=Jr.errorSchema,on=pn,Ln=$r;if(ue){var Wn=(0,it.J0)(Jr,ue);$r=Wn.errorSchema,pn=Wn.errors}tr={formData:hr,errors:pn,errorSchema:$r,schemaValidationErrors:on,schemaValidationErrorSchema:Ln}}else if(!qe&&H){var Rn=ue?(0,it.PM)(H,ue,"preventDuplicates"):H;tr={formData:hr,errorSchema:Rn,errors:(0,it.mp)(Rn)}}E.setState(tr,function(){return Je&&Je(Vr({},E.state,tr),ae)})},E.reset=function(){var k=E.props.onChange,H=E.getStateFromProps(E.props,void 0),ae=H.formData,ce={formData:ae,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};E.setState(ce,function(){return k&&k(Vr({},E.state,ce))})},E.onBlur=function(k,H){var ae=E.props.onBlur;ae&&ae(k,H)},E.onFocus=function(k,H){var ae=E.props.onFocus;ae&&ae(k,H)},E.onSubmit=function(k){if(k.preventDefault(),k.target===k.currentTarget){k.persist();var H=E.props,ae=H.omitExtraData,ce=H.extraErrors,ue=H.noValidate,Be=H.onSubmit,Ke=E.state.formData,qe=E.state,Se=qe.schema,Je=qe.schemaUtils;if(ae===!0){var We=Je.retrieveSchema(Se,Ke),St=Je.toPathSchema(We,"",Ke),Dt=E.getFieldNames(St,Ke);Ke=E.getUsedFormData(Ke,Dt)}if(ue||E.validateForm()){var Ut=ce||{},$t=ce?(0,it.mp)(ce):[];E.setState({formData:Ke,errors:$t,errorSchema:Ut,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){Be&&Be(Vr({},E.state,{formData:Ke,status:"submitted"}),k)})}}},!w.validator)throw new Error("A validator is required for Form functionality to work");return E.state=E.getStateFromProps(w,w.formData),E.props.onChange&&!(0,it.qt)(E.state.formData,E.props.formData)&&E.props.onChange(E.state),E.formElement=(0,M.createRef)(),E}var d=c.prototype;return d.UNSAFE_componentWillReceiveProps=function(E){var k=this.getStateFromProps(E,E.formData);!(0,it.qt)(k.formData,E.formData)&&!(0,it.qt)(k.formData,this.state.formData)&&E.onChange&&E.onChange(k),this.setState(k)},d.getStateFromProps=function(E,k){var H=this.state||{},ae="schema"in E?E.schema:this.props.schema,ce=("uiSchema"in E?E.uiSchema:this.props.uiSchema)||{},ue=typeof k!="undefined",Be="liveValidate"in E?E.liveValidate:this.props.liveValidate,Ke=ue&&!E.noValidate&&Be,qe=ae,Se=H.schemaUtils;(!Se||Se.doesSchemaUtilsDiffer(E.validator,qe))&&(Se=(0,it.hf)(E.validator,qe));var Je=Se.getDefaultFormState(ae,k),We=Se.retrieveSchema(ae,Je),St=function(){return E.noValidate?{errors:[],errorSchema:{}}:E.liveValidate?{errors:H.errors||[],errorSchema:H.errorSchema||{}}:{errors:H.schemaValidationErrors||[],errorSchema:H.schemaValidationErrorSchema||{}}},Dt,Ut,$t=H.schemaValidationErrors,tr=H.schemaValidationErrorSchema;if(Ke){var hr=this.validate(Je,ae,Se);Dt=hr.errors,Ut=hr.errorSchema,$t=Dt,tr=Ut}else{var Mr=St();Dt=Mr.errors,Ut=Mr.errorSchema}if(E.extraErrors){var br=(0,it.J0)({errorSchema:Ut,errors:Dt},E.extraErrors);Ut=br.errorSchema,Dt=br.errors}var ur=Se.toIdSchema(We,ce["ui:rootFieldId"],Je,E.idPrefix,E.idSeparator),Jr={schemaUtils:Se,schema:ae,uiSchema:ce,idSchema:ur,formData:Je,edit:ue,errors:Dt,errorSchema:Ut,schemaValidationErrors:$t,schemaValidationErrorSchema:tr};return Jr},d.shouldComponentUpdate=function(E,k){return(0,it.N0)(this,E,k)},d.validate=function(E,k,H){k===void 0&&(k=this.props.schema);var ae=H||this.state.schemaUtils,ce=this.props,ue=ce.customValidate,Be=ce.transformErrors,Ke=ce.uiSchema,qe=ae.retrieveSchema(k,E);return ae.getValidator().validateFormData(E,qe,ue,Be,Ke)},d.renderErrors=function(E){var k=this.state,H=k.errors,ae=k.errorSchema,ce=k.schema,ue=k.uiSchema,Be=this.props.formContext,Ke=(0,it.LI)(ue),qe=(0,it.t4)("ErrorListTemplate",E,Ke);return H&&H.length?(0,vt.jsx)(qe,{errors:H,errorSchema:ae||{},schema:ce,uiSchema:ue,formContext:Be,registry:E}):null},d.getRegistry=function(){var E,k=this.props,H=k.translateString,ae=k.uiSchema,ce=ae===void 0?{}:ae,ue=this.state.schemaUtils,Be=Ba(),Ke=Be.fields,qe=Be.templates,Se=Be.widgets,Je=Be.formContext,We=Be.translateString;return{fields:Vr({},Ke,this.props.fields),templates:Vr({},qe,this.props.templates,{ButtonTemplates:Vr({},qe.ButtonTemplates,(E=this.props.templates)===null||E===void 0?void 0:E.ButtonTemplates)}),widgets:Vr({},Se,this.props.widgets),rootSchema:this.props.schema,formContext:this.props.formContext||Je,schemaUtils:ue,translateString:H||We,globalUiOptions:ce[it.J1]}},d.submit=function(){this.formElement.current&&(this.formElement.current.dispatchEvent(new CustomEvent("submit",{cancelable:!0})),this.formElement.current.requestSubmit())},d.focusOnError=function(E){var k=this.props,H=k.idPrefix,ae=H===void 0?"root":H,ce=k.idSeparator,ue=ce===void 0?"_":ce,Be=E.property,Ke=(0,ks.Z)(Be);Ke[0]===""?Ke[0]=ae:Ke.unshift(ae);var qe=Ke.join(ue),Se=this.formElement.current.elements[qe];Se||(Se=this.formElement.current.querySelector("input[id^="+qe)),Se.length&&(Se=Se[0]),Se&&Se.focus()},d.validateForm=function(){var E=this.props,k=E.extraErrors,H=E.focusOnFirstError,ae=E.onError,ce=this.state.formData,ue=this.validate(ce),Be=ue.errors,Ke=ue.errorSchema,qe=Be,Se=Ke;if(Be.length>0){if(k){var Je=(0,it.J0)(ue,k);Ke=Je.errorSchema,Be=Je.errors}return H&&(typeof H=="function"?H(ue.errors[0]):this.focusOnError(ue.errors[0])),this.setState({errors:Be,errorSchema:Ke,schemaValidationErrors:qe,schemaValidationErrorSchema:Se},function(){ae?ae(Be):console.error("Form validation failed",Be)}),!1}return!0},d.render=function(){var E,k,H=this.props,ae=H.children,ce=H.id,ue=H.idPrefix,Be=H.idSeparator,Ke=H.className,qe=Ke===void 0?"":Ke,Se=H.tagName,Je=H.name,We=H.method,St=H.target,Dt=H.action,Ut=H.autoComplete,$t=H.enctype,tr=H.acceptcharset,hr=H.noHtml5Validate,Mr=hr===void 0?!1:hr,br=H.disabled,ur=br===void 0?!1:br,Jr=H.readonly,pn=Jr===void 0?!1:Jr,$r=H.formContext,on=H.showErrorList,Ln=on===void 0?"top":on,Wn=H._internalFormWrapper,Rn=this.state,ti=Rn.schema,Di=Rn.uiSchema,ri=Rn.formData,ni=Rn.errorSchema,ui=Rn.idSchema,Vi=this.getRegistry(),_o=Vi.fields.SchemaField,Xi=Vi.templates.ButtonTemplates.SubmitButton,gs=Wn?Se:void 0,Ks=Wn||Se||"form",Do=(0,it.LI)(Di),ki=Do[it.t5],ii=ki===void 0?{}:ki;ur&&(ii=Vr({},ii,{props:Vr({},ii.props,{disabled:!0})}));var ts=(k={},k[it.ji]=(E={},E[it.t5]=ii,E),k);return(0,vt.jsxs)(Ks,{className:qe||"rjsf",id:ce,name:Je,method:We,target:St,action:Dt,autoComplete:Ut,encType:$t,acceptCharset:tr,noValidate:Mr,onSubmit:this.onSubmit,as:gs,ref:this.formElement,children:[Ln==="top"&&this.renderErrors(Vi),(0,vt.jsx)(_o,{name:"",schema:ti,uiSchema:Di,errorSchema:ni,idSchema:ui,idPrefix:ue,idSeparator:Be,formContext:$r,formData:ri,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:Vi,disabled:ur,readonly:pn}),ae||(0,vt.jsx)(Xi,{uiSchema:ts,registry:Vi}),Ln==="bottom"&&this.renderErrors(Vi)]})},c}(M.Component),nl=["fields","widgets","templates"];function ml(i){return(0,M.forwardRef)(function(c,d){var w,E,k=c.fields,H=c.widgets,ae=c.templates,ce=Ao(c,nl);return k=Vr({},i==null?void 0:i.fields,k),H=Vr({},i==null?void 0:i.widgets,H),ae=Vr({},i==null?void 0:i.templates,ae,{ButtonTemplates:Vr({},i==null||(w=i.templates)===null||w===void 0?void 0:w.ButtonTemplates,(E=ae)===null||E===void 0?void 0:E.ButtonTemplates)}),(0,vt.jsx)(rl,Vr({},i,ce,{fields:k,widgets:H,templates:ae,ref:d}))})}var il=l(34520),ol=l(73495),sl=l(52160),ya=l(67898),al=l(27057),dl=l(71140),_l=l(34063),Wl=l(72779),Zl=l.n(Wl),Ul=l(34812),Vl=l(91750),Kl=l(70218),yl=l(26228),zl=l(75951),Hl=l.n(zl);function Jl(i){(0,M.useEffect)(function(){i()},[])}var Gl=l(82108),Yl=l.n(Gl),Xl=l(19996),Ql=l(25505),ql=l(38016),eu=l(88013),tu=l(61837),Dl=l(86136),kl=l(49378),Ml=l(12231),ru=l(50758),nu=l(79784),iu=l(30254),ou=l(27604),su=l(5075),au=l(43054),Ju=l(18473);function Qa(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}function cl(i,c){if(!Qa(i))return;const{properties:d,items:w,anyOf:E,oneOf:k,allOf:H,dependencies:ae}=i;for(const ce in i)i.hasOwnProperty(ce)&&ce.startsWith("ui:")&&(c[ce]=i[ce],delete i[ce]);if(Qa(d))for(const ce in d){if(!d.hasOwnProperty(ce))continue;const ue=d[ce];if(!Qa(ue))continue;const Be={};c[ce]=Be,cl(ue,Be)}if(Qa(w)){const ce={};c.items=ce,cl(w,ce)}if(Array.isArray(E))for(const ce of E)Qa(ce)&&cl(ce,c);if(Array.isArray(k))for(const ce of k)Qa(ce)&&cl(ce,c);if(Array.isArray(H))for(const ce of H)Qa(ce)&&cl(ce,c);if(Qa(ae))for(const ce of Object.keys(ae)){const ue=ae[ce];Qa(ue)&&cl(ue,c)}}const vl=i=>{const c={},d=JSON.parse(JSON.stringify(i));return cl(d,c),{uiSchema:c,schema:d}},lu=()=>{const i={__errors:[],addError:c=>{var d;(d=i.__errors)==null||d.push(c)}};return i};function uu(i){return!!i&&"__errors"in i}function Rl(i){var c;if(!i)return!1;for(const d of Object.values(i)){if(uu(d)){if(((c=d.__errors)!=null?c:[]).length>0)return!0;continue}if(Rl(d))return!0}return!1}function cu(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}const fu=(i,c,d)=>{async function w(E,k="#",H=E){var ae,ce;const ue=new Ho(i),Be={},Ke=async(qe,Se,Je,We,St)=>{const Dt=c[qe];if(Dt){const Ut=lu();try{await Dt(Je,Ut,{...d,formData:E,schema:We,uiSchema:St})}catch($t){Ut.addError($t.message)}Be[Se]=Ut}};for(const[qe,Se]of Object.entries(H)){const Je=`${k}/${qe}`,We=ue.getSchema(Je,E),{schema:St,uiSchema:Dt}=vl(We),Ut=We&&We.items,$t=async(hr,Mr,br)=>{await Ke(hr["ui:field"],qe,Se,Mr,br)},tr=async hr=>{if("ui:field"in hr){const{schema:Mr,uiSchema:br}=vl(We.items);await $t(hr,Mr,br)}};if(We&&"ui:field"in We)await $t(We,St,Dt);else if(Ut&&"ui:field"in We.items)await tr(We.items);else if(Ut&&We.items.type==="object"){const hr=(ce=(ae=We.items)==null?void 0:ae.properties)!=null?ce:[];for(const[,Mr]of Object.entries(hr))await tr(Mr)}else cu(Se)&&(Be[qe]=await w(E,Je,Se))}return Be}return async E=>await w(E)},du=i=>{const c=Object.fromEntries(Object.entries(i.formState).map(([d,w])=>{var E;for(const k of i.schemas){const ae=new Ho(k.mergedSchema).getSchema(`#/${d}`,i.formState);if(ae){const ce=(E=ae["ui:backstage"])==null?void 0:E.review;if(ce){if(ce.mask)return[d,ce.mask];if(ce.show===!1)return[]}if(ae["ui:widget"]==="password")return[d,"******"]}}return[d,w]}));return M.createElement(Fn.xT,{metadata:c})},hu=i=>{const c=(0,o.h_)(o.W0);return{steps:i.steps.map(({title:E,description:k,schema:H})=>({title:E,description:k,mergedSchema:H,...vl(H)})).filter(E=>{var k;const H=(k=E.uiSchema["ui:backstage"])==null?void 0:k.featureFlag;return H?c.isActive(H):!0}).map(E=>{var k,H;return{...E,schema:{...E.schema,title:void 0,properties:Object.fromEntries(Object.entries((H=(k=E.schema)==null?void 0:k.properties)!=null?H:[]).filter(([ae])=>{var ce,ue;const Be=(ue=(ce=E.uiSchema[ae])==null?void 0:ce["ui:backstage"])==null?void 0:ue.featureFlag;return Be?c.isActive(Be):!0}))}}})}},mu=i=>(0,M.useState)(()=>{if(i)return i;const c=ss().parse(window.location.search,{ignoreQueryPrefix:!0});try{return JSON.parse(c.formData)}catch{return{}}}),pu=i=>{const c=(0,o.h_)(Ds.s),{value:d,loading:w,error:E}=(0,_s.default)(()=>c.getTemplateParameterSchema(i),[c,i]);return{manifest:d,loading:w,error:E}},gu=(i,c={})=>{var d;const{layouts:w=[]}=c,E=i==null?void 0:i.uiSchema["ui:ObjectFieldTemplate"];if(typeof E!="string")return i;const k=(d=w.find(H=>H.name===E))==null?void 0:d.component;return k?{...i,uiSchema:{...i.uiSchema,["ui:ObjectFieldTemplate"]:k}}:i};var yu=Object.freeze({__proto__:null,DescriptionField:({description:i})=>i&&M.createElement(Fn.SA,{content:i,linkTarget:"_blank"})});const Fl=ml(l(80070).Q2),vu=(0,m.Z)(i=>({backButton:{marginRight:i.spacing(1)},footer:{display:"flex",flexDirection:"row",justifyContent:"right",marginTop:i.spacing(2)},formWrapper:{padding:i.spacing(2)}})),jl=i=>{var c;const{layouts:d=[],components:w={},...E}=i,{ReviewStateComponent:k=du,createButtonText:H="Create",reviewButtonText:ae="Review"}=w,ce=(0,o.z$)(),{steps:ue}=hu(E.manifest),Be=(0,o.I_)(),[Ke,qe]=(0,M.useState)(0),[Se,Je]=(0,M.useState)(!1),[We,St]=mu(E.initialState),[Dt,Ut]=(0,M.useState)(),$t=vu(),tr=(0,M.useMemo)(()=>Object.fromEntries(E.extensions.map(({name:$r,component:on})=>[$r,on])),[E.extensions]),hr=(0,M.useMemo)(()=>Object.fromEntries(E.extensions.map(({name:$r,validation:on})=>[$r,on])),[E.extensions]),Mr=(0,M.useMemo)(()=>{var $r;return fu(($r=ue[Ke])==null?void 0:$r.mergedSchema,hr,{apiHolder:Be})},[ue,Ke,hr,Be]),br=()=>{qe($r=>$r-1)},ur=(0,M.useCallback)($r=>St(on=>({...on,...$r.formData})),[St]),Jr=gu(ue[Ke],{layouts:d}),pn=async({formData:$r={}})=>{Ut(void 0),Je(!0);const on=await Mr($r);Je(!1),Rl(on)?Ut(on):(Ut(void 0),qe(Ln=>{const Wn=Ln+1;return ce.captureEvent("click",`Next Step (${Wn})`),Wn})),St(Ln=>({...Ln,...$r}))};return M.createElement(M.Fragment,null,Se&&M.createElement(R.Z,{variant:"indeterminate"}),M.createElement(O.Z,{activeStep:Ke,alternativeLabel:!0,variant:"elevation"},ue.map(($r,on)=>M.createElement(D.Z,{key:on},M.createElement(_.Z,null,$r.title))),M.createElement(D.Z,null,M.createElement(_.Z,null,"Review"))),M.createElement("div",{className:$t.formWrapper},Ke<ue.length?M.createElement(Fl,{validator:is.Z,extraErrors:Dt,formData:We,formContext:{formData:We},schema:Jr.schema,uiSchema:Jr.uiSchema,onSubmit:pn,fields:{...yu,...tr},showErrorList:!1,onChange:ur,...(c=E.FormProps)!=null?c:{}},M.createElement("div",{className:$t.footer},M.createElement(j.Z,{onClick:br,className:$t.backButton,disabled:Ke<1||Se},"Back"),M.createElement(j.Z,{variant:"contained",color:"primary",type:"submit",disabled:Se},Ke===ue.length-1?ae:"Next"))):M.createElement(M.Fragment,null,M.createElement(k,{formState:We,schemas:ue}),M.createElement("div",{className:$t.footer},M.createElement(j.Z,{onClick:br,className:$t.backButton,disabled:Ke<1},"Back"),M.createElement(j.Z,{variant:"contained",color:"primary",onClick:()=>{var $r;E.onCreate(We);const on=typeof We.name=="string"?We.name:void 0;ce.captureEvent("create",($r=on!=null?on:E.templateName)!=null?$r:"unknown")}},H)))))},bu=(0,m.Z)(()=>({header:{backgroundImage:({cardBackgroundImage:i})=>i,color:({cardFontColor:i})=>i},subtitleWrapper:{display:"flex",justifyContent:"space-between"}})),Su=i=>{const{template:{metadata:{title:c,name:d},spec:{type:w}}}=i,{getPageTheme:E}=(0,$.Z)(),k=E({themeId:w}),H=bu({cardFontColor:k.fontColor,cardBackgroundImage:k.backgroundImage}),ae=M.createElement("div",{className:H.subtitleWrapper},M.createElement("div",null,w),M.createElement("div",null,M.createElement(ol.LH,{entity:i.template,style:{padding:0}})));return M.createElement(Fn.hu,{title:c!=null?c:d,subtitle:ae,classes:{root:H.header}})},Eu=(0,m.Z)(()=>({linkText:{display:"inline-flex",alignItems:"center"}})),Nl=({icon:i,text:c,url:d})=>{const w=Eu();return M.createElement("div",{className:w.linkText},M.createElement(i,{fontSize:"small"}),M.createElement(Fn.rU,{style:{marginLeft:"8px"},to:d},c||d))},wu=(0,m.Z)(i=>({box:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":10,"-webkit-box-orient":"vertical"},markdown:{"& :first-child":{margin:0}},label:{color:i.palette.text.secondary,textTransform:"uppercase",fontWeight:"bold",letterSpacing:.5,lineHeight:1,fontSize:"0.75rem"},footer:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},ownedBy:{display:"flex",alignItems:"center",flex:1,color:i.palette.link}})),Ou=i=>{var c,d,w,E,k,H,ae;const{template:ce}=i,ue=wu(),Be=(0,ol.hF)(ce,il.S4),Ke=(0,o.qD)(),qe=Se=>{var Je;return Se&&(Je=Ke.getSystemIcon(Se))!=null?Je:sl.Z};return M.createElement(I.Z,null,M.createElement(Su,{template:ce}),M.createElement(J.Z,null,M.createElement(z.Z,{container:!0,spacing:2},M.createElement(z.Z,{item:!0,xs:12},M.createElement(ee.Z,{className:ue.box},M.createElement(Fn.SA,{className:ue.markdown,content:(c=ce.metadata.description)!=null?c:"No description"}))),((w=(d=ce.metadata.tags)==null?void 0:d.length)!=null?w:0)>0&&M.createElement(M.Fragment,null,M.createElement(z.Z,{item:!0,xs:12},M.createElement(te.Z,null)),M.createElement(z.Z,{item:!0,xs:12},M.createElement(z.Z,{container:!0,spacing:2},(E=ce.metadata.tags)==null?void 0:E.map(Se=>M.createElement(z.Z,{item:!0},M.createElement(oe.Z,{style:{margin:0},size:"small",label:Se,key:Se})))))),(i.additionalLinks||((k=ce.metadata.links)==null?void 0:k.length))&&M.createElement(M.Fragment,null,M.createElement(z.Z,{item:!0,xs:12},M.createElement(te.Z,null)),M.createElement(z.Z,{item:!0,xs:12},M.createElement(z.Z,{container:!0,spacing:2},(H=i.additionalLinks)==null?void 0:H.map(({icon:Se,text:Je,url:We},St)=>M.createElement(z.Z,{className:ue.linkText,item:!0,xs:6,key:St},M.createElement(Nl,{icon:Se,text:Je,url:We}))),(ae=ce.metadata.links)==null?void 0:ae.map(({url:Se,icon:Je,title:We},St)=>M.createElement(z.Z,{className:ue.linkText,item:!0,xs:6,key:St},M.createElement(Nl,{icon:qe(Je),text:We||Se,url:Se})))))))),M.createElement(ye.Z,{style:{padding:"16px",flex:1,alignItems:"flex-end"}},M.createElement("div",{className:ue.footer},M.createElement("div",{className:ue.ownedBy},Be.length>0&&M.createElement(M.Fragment,null,M.createElement(Fn.tB,{fontSize:"small"}),M.createElement(ol.rI,{style:{marginLeft:"8px"},entityRefs:Be,defaultKind:"Group"}))),M.createElement(j.Z,{size:"small",variant:"outlined",color:"primary",onClick:()=>{var Se;return(Se=i.onSelected)==null?void 0:Se.call(i,ce)}},"Choose"))))},Ll=i=>{const{templates:c,title:d,components:{CardComponent:w}={},onSelected:E}=i,k=typeof d=="string"?M.createElement(Fn.yW,{title:d}):d;if(c.length===0)return M.createElement(Fn.VY,null,k,M.createElement(F.Z,{variant:"body2"},"No templates found that match your filter. Learn more about"," ",M.createElement(Fn.rU,{to:"https://backstage.io/docs/features/software-templates/adding-templates"},"adding templates"),"."));const H=w||Ou;return M.createElement(Fn.VY,null,k,M.createElement(Fn.Oh,null,c.map(({template:ae,additionalLinks:ce})=>M.createElement(H,{key:(0,il.eE)(ae),additionalLinks:ce,template:ae,onSelected:E}))))},xu=i=>{const{loading:c,error:d,entities:w}=(0,ol.wp)(),{groups:E,templateFilter:k,TemplateCardComponent:H,onTemplateSelected:ae}=i,ce=(0,o.h_)(o.VE),ue=(0,M.useCallback)(Be=>{ae==null||ae(Be)},[ae]);return c?M.createElement(Fn.Ex,null):d?(ce.post(d),null):!w||!w.length?M.createElement(F.Z,{variant:"body2"},"No templates found that match your filter. Learn more about"," ",M.createElement(Fn.rU,{to:"https://backstage.io/docs/features/software-templates/adding-templates"},"adding templates"),"."):M.createElement(M.Fragment,null,E.map(({title:Be,filter:Ke},qe)=>{const Se=w.filter(ya.t).filter(Je=>k?k(Je):!0).filter(Ke).map(Je=>{var We,St;const Dt=(St=(We=i.additionalLinksForEntity)==null?void 0:We.call(i,Je))!=null?St:[];return{template:Je,additionalLinks:Dt}});return M.createElement(Ll,{key:qe,templates:Se,title:Be,components:{CardComponent:H},onSelected:ue})}))},Cu=(0,m.Z)(()=>({markdown:{"& :first-child":{marginTop:0},"& :last-child":{marginBottom:0}}})),Bl=i=>{var c;const{title:d,description:w,namespace:E,templateName:k,...H}=i,ae=Cu(),ce=(0,il.eE)({kind:"Template",namespace:E,name:k}),ue=(0,o.h_)(o.VE),{loading:Be,manifest:Ke,error:qe}=pu(ce);return(0,M.useEffect)(()=>{qe&&ue.post(new Error(`Failed to load template, ${qe}`))},[qe,ue]),qe?H.onError(qe):M.createElement(Fn.VY,null,Be&&M.createElement(Fn.Ex,null),Ke&&M.createElement(Fn.rJ,{title:d!=null?d:Ke.title,subheader:M.createElement(Fn.SA,{className:ae.markdown,content:(c=w!=null?w:Ke.description)!=null?c:"No description"}),noPadding:!0,titleTypographyProps:{component:"h2"}},M.createElement(jl,{manifest:Ke,...H})))},Yu=i=>React.createElement(SecretsContextProvider,null,React.createElement(Bl,{...i})),Au=(0,m.Z)({root:{"&:hover":{textDecoration:"none"}}}),Pu=i=>{const{links:c=[]}=i.output,d=Au(),w=(0,o.qD)(),E=(0,o.tg)(ol.wi),k=H=>{var ae;return(ae=w.getSystemIcon(H))!=null?ae:al.Z};return M.createElement(M.Fragment,null,c.filter(({url:H,entityRef:ae})=>H||ae).map(({url:H,entityRef:ae,title:ce,icon:ue})=>{if(ae){const Be=(0,il.of)(ae),Ke=E(Be);return{title:ce,icon:ue,url:Ke}}return{title:ce,icon:ue,url:H}}).map(({url:H,title:ae,icon:ce},ue)=>{const Be=k(ce);return M.createElement(Fn.rU,{to:H,key:ue,classes:{root:d.root}},M.createElement(j.Z,{startIcon:M.createElement(Be,null),component:"div",color:"primary"},ae))}))},Tu=i=>{const{output:{text:c=[]},index:d,setIndex:w}=i,E=(0,o.qD)(),k=H=>{var ae;return(ae=E.getSystemIcon(H))!=null?ae:al.Z};return M.createElement(M.Fragment,null,c.filter(({content:H})=>H!==void 0).map(({title:H,icon:ae},ce)=>{const ue=k(ae);return M.createElement(j.Z,{key:ce,startIcon:M.createElement(ue,null),component:"div",color:"primary",onClick:()=>w==null?void 0:w(d!==ce?ce:void 0),variant:d===ce?"outlined":void 0},H)}))},_u=i=>{var c,d;const[w,E]=(0,M.useState)(),k=(0,M.useMemo)(()=>{var H,ae;return w!==void 0?(ae=(H=i.output)==null?void 0:H.text)==null?void 0:ae[w]:null},[i.output,w]);return i.output?M.createElement(M.Fragment,null,M.createElement(ee.Z,{paddingBottom:2},M.createElement(Y.Z,null,M.createElement(ee.Z,{padding:2,justifyContent:"center",display:"flex",gridGap:16},M.createElement(Tu,{output:i.output,index:w,setIndex:E}),M.createElement(Pu,{output:i.output})))),k?M.createElement(ee.Z,{paddingBottom:2},M.createElement(Fn.rJ,{title:(c=k.title)!=null?c:"Text Output",noPadding:!0,titleTypographyProps:{component:"h2"}},M.createElement(ee.Z,{padding:2,height:"100%"},M.createElement(Fn.SA,{content:(d=k.content)!=null?d:""})))):null):null},Du=(0,m.Z)(i=>({root:{color:i.palette.text.disabled},completed:{color:i.palette.status.ok},error:{color:i.palette.status.error}})),ku=i=>{const c=Du(),{active:d,completed:w,error:E,skipped:k}=i,H=()=>d?M.createElement(ve.Z,{size:"20px"}):w?M.createElement(Ul.Z,null):E?M.createElement(Vl.Z,null):k?M.createElement(dl.Z,null):M.createElement(_l.Z,null);return M.createElement("div",{className:Zl()(c.root,{[c.completed]:w,[c.error]:E})},H())},Mu=i=>{const[c,d]=(0,M.useState)(""),{step:w}=i,E=(0,M.useCallback)(()=>{if(!w.startedAt){d("");return}const k=w.endedAt?yl.ou.fromISO(w.endedAt):yl.ou.local(),H=yl.ou.fromISO(w.startedAt),ae=yl.Xp.fromDateTimes(H,k).toDuration().valueOf();d(Hl()(ae,{round:!0}))},[w.endedAt,w.startedAt]);return Jl(()=>E()),(0,Kl.Z)(()=>!w.endedAt&&E(),1e3),M.createElement(F.Z,{variant:"caption"},c)},$u=(0,m.Z)(i=>({failed:{backgroundColor:i.palette.error.main},success:{backgroundColor:i.palette.success.main}})),Iu=i=>{const c=$u();return i.isComplete?M.createElement(R.Z,{variant:"determinate",classes:{bar:i.isError?c.failed:c.success},value:100}):M.createElement(R.Z,{variant:"indeterminate"})},Ru=i=>{var c,d;return M.createElement(Y.Z,{style:{position:"relative",overflow:"hidden"}},M.createElement(Iu,{isComplete:(c=i.isComplete)!=null?c:!1,isError:(d=i.isError)!=null?d:!1}),M.createElement(ee.Z,{padding:2},M.createElement(O.Z,{activeStep:i.activeStep,alternativeLabel:!0,variant:"elevation"},i.steps.map((w,E)=>{const k=w.status==="completed",H=w.status==="failed",ae=w.status==="processing",ce=w.status==="skipped",ue={completed:k,error:H,active:ae,skipped:ce};return M.createElement(D.Z,{key:E},M.createElement(se.Z,null,M.createElement(_.Z,{StepIconProps:ue,StepIconComponent:ku,"data-testid":"step-label"},M.createElement(ee.Z,null,w.name),!ce&&M.createElement(Mu,{step:w}))))}))))},Fu=(0,m.Z)({root:{width:"100%",height:"100%",position:"relative"}}),ju=i=>{const c=Fu();return M.createElement("div",{className:c.root},M.createElement(Fn.nU,{text:Object.values(i.logs).map(d=>d.join(`
`)).filter(Boolean).join(`
`)}))},Nu=M.createElement(Ql.Z,{fontSize:"small"}),Lu=M.createElement(Xl.Z,{fontSize:"small"}),Bu=()=>{const i=(0,o.h_)(o.$v),{error:c,loading:d,availableTypes:w,selectedTypes:E,setSelectedTypes:k}=(0,ol.Uh)();return d?M.createElement(Fn.Ex,null):c?(i.post({message:`Failed to load entity types with error: ${c}`,severity:"error"}),null):w?M.createElement(ee.Z,{pb:1,pt:1},M.createElement(F.Z,{variant:"button",component:"label",htmlFor:"categories-picker"},"Categories"),M.createElement(eu.ZP,{multiple:!0,id:"categories-picker",options:w,value:E,onChange:(H,ae)=>k(ae),renderOption:(H,{selected:ae})=>M.createElement(me.Z,{control:M.createElement(xe.Z,{icon:Nu,checkedIcon:Lu,checked:ae}),label:Yl()(H)}),size:"small",popupIcon:M.createElement(ql.Z,null),renderInput:H=>M.createElement(re.Z,{...H,variant:"outlined"})})):null},Wu=(0,m.Z)(i=>({button:{color:i.page.fontColor}}));function Zu(i){const{onEditorClicked:c,onActionsClicked:d,onTasksClicked:w}=i,E=Wu(),[k,H]=(0,M.useState)();if(!c&&!d)return null;const ae=ue=>{H(ue.currentTarget)},ce=()=>{H(void 0)};return M.createElement(M.Fragment,null,M.createElement(tu.Z,{id:"long-menu","aria-label":"more","aria-controls":"long-menu","aria-expanded":!!k,"aria-haspopup":"true",role:"button",onClick:ae,"data-testid":"menu-button",color:"inherit",className:E.button},M.createElement(au.Z,null)),M.createElement(nu.ZP,{"aria-labelledby":"long-menu",open:Boolean(k),onClose:ce,anchorEl:k,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},M.createElement(ru.Z,null,c&&M.createElement(Ml.Z,{onClick:c},M.createElement(Dl.Z,null,M.createElement(ou.Z,{fontSize:"small"})),M.createElement(kl.Z,{primary:"Template Editor"})),d&&M.createElement(Ml.Z,{onClick:d},M.createElement(Dl.Z,null,M.createElement(iu.Z,{fontSize:"small"})),M.createElement(kl.Z,{primary:"Installed Actions"})),w&&M.createElement(Ml.Z,{onClick:w},M.createElement(Dl.Z,null,M.createElement(su.Z,{fontSize:"small"})),M.createElement(kl.Z,{primary:"Task List"})))))}function Xu(i){return{expose(){const c=()=>null;return attachComponentData(c,FIELD_EXTENSION_KEY,i),c}}}},30411:function(Te,S,l){"use strict";l.d(S,{D:function(){return oe},L:function(){return me}});var o=l(23054),m=l(80236),R=l(30705),O=l(73495),D=l(64279),_=l(2784),j=l(12053),$=l(29181),I=l(26228),J=l(75951),z=l.n(J),ee=l(90436),te=l(34520);const oe=[{component:o.x,name:"EntityPicker",schema:o.y},{component:o.z,name:"EntityNamePicker",validation:o.A,schema:o.B},{component:o.C,name:"EntityTagsPicker",schema:o.D},{component:o.F,name:"RepoUrlPicker",validation:o.h,schema:o.G},{component:o.H,name:"OwnerPicker",schema:o.I},{component:o.J,name:"OwnedEntityPicker",schema:o.K}],ye=({createdAt:xe})=>{const re=I.ou.fromISO(xe),M=I.Xp.fromDateTimes(re,I.ou.local()).toDuration().valueOf();return _.createElement(ee.Z,{paragraph:!0},z()(M,{round:!0})," ago")},F=({entityRef:xe})=>{var re,M,Ee;const Ne=(0,R.h_)(O.Ah),{value:Ce,loading:ze,error:Ge}=(0,D.default)(()=>Ne.getEntityByRef(xe||""),[Ne,xe]);return xe?ze||Ge?null:_.createElement(O.dx,{entityRef:(0,te.of)(xe),title:(Ee=(M=(re=Ce==null?void 0:Ce.spec)==null?void 0:re.profile)==null?void 0:M.displayName)!=null?Ee:Ce==null?void 0:Ce.metadata.name}):_.createElement(ee.Z,{paragraph:!0},"Unknown")},Y=({status:xe})=>{switch(xe){case"processing":return _.createElement(m.wA,null,xe);case"completed":return _.createElement(m.Kq,null,xe);case"error":default:return _.createElement(m.vK,null,xe)}},ve=({entityRef:xe})=>{const re=(0,R.h_)(j.lc),{value:M,loading:Ee,error:Ne}=(0,D.default)(()=>re.getTemplateParameterSchema(xe||""),[re,xe]);return Ee||Ne||!xe?null:_.createElement(O.dx,{entityRef:(0,te.of)(xe),title:M==null?void 0:M.title})},se=xe=>{var re;const{initiallySelectedFilter:M="owned"}=xe,Ee=(0,R.h_)(j.lc),Ne=(0,R.tg)(o.r),[Ce,ze]=(0,_.useState)(M),{value:Ge,loading:ht,error:st}=(0,D.default)(()=>{var Ye;return Ee.listTasks?(Ye=Ee.listTasks)==null?void 0:Ye.call(Ee,{filterByOwnership:Ce}):(console.warn("listTasks is not implemented in the scaffolderApi, please make sure to implement this method."),Promise.resolve({tasks:[]}))},[Ee,Ce]);return ht?_.createElement(m.Ex,null):st?_.createElement(_.Fragment,null,_.createElement(m.yu,{error:st}),_.createElement(m.ub,{missing:"info",title:"No information to display",description:"There is no Tasks or there was an issue communicating with backend."})):_.createElement(O._i,null,_.createElement(O._i.Filters,null,_.createElement($.O,{filter:Ce,onSelectOwner:Ye=>ze(Ye)})),_.createElement(O._i.Content,null,_.createElement(m.iA,{data:(re=Ge==null?void 0:Ge.tasks)!=null?re:[],title:"Tasks",columns:[{title:"Task ID",field:"id",render:Ye=>_.createElement(m.rU,{to:`${Ne()}/tasks/${Ye.id}`},Ye.id)},{title:"Template",render:Ye=>{var Et;return _.createElement(ve,{entityRef:(Et=Ye.spec.templateInfo)==null?void 0:Et.entityRef})}},{title:"Created",field:"createdAt",render:Ye=>_.createElement(ye,{createdAt:Ye.createdAt})},{title:"Owner",field:"createdBy",render:Ye=>{var Et,rr;return _.createElement(F,{entityRef:(rr=(Et=Ye.spec)==null?void 0:Et.user)==null?void 0:rr.ref})}},{title:"Status",field:"status",render:Ye=>_.createElement(Y,{status:Ye.status})}]})))},me=xe=>_.createElement(m.T3,{themeId:"home"},_.createElement(m.h4,{pageTitleOverride:"Templates Tasks",title:_.createElement(_.Fragment,null,"List template tasks ",_.createElement(m.Fw,{shorthand:!0,alpha:!0})),subtitle:"All tasks that have been started"}),_.createElement(m.VY,null,_.createElement(se,{...xe})))},29181:function(Te,S,l){"use strict";l.d(S,{A:function(){return yn},D:function(){return Jt},O:function(){return En},T:function(){return zi},W:function(){return Pe},a:function(){return Mo},b:function(){return we},c:function(){return rs},d:function(){return si},e:function(){return zs},u:function(){return ge}});var o=l(2784),m=l(64279),R=l(12053),O=l(79692),D=l(60905),_=l(95544),j=l(90436),$=l(91256),I=l(27556),J=l(37390),z=l(58987),ee=l(89571),te=l(15584),oe=l(97485),ye=l(82113),F=l(27616),Y=l(8284),ve=l(70660),se=l(94339),me=l(11776),xe=l(12231),re=l(86136),M=l(49378),Ee=l(80030),Ne=l(61837),Ce=l(85256),ze=l(72779),Ge=l.n(ze),ht=l(38016),st=l(84905),Ye=l(30705),Et=l(80236),rr=l(7089),mt=l(47603),Mt=l(56881),gt=l(78887),Ze=function(pt){return(pt+1)%Number.MAX_SAFE_INTEGER};function bt(){var pt=(0,gt.F)(0),He=pt[1];return(0,o.useCallback)(function(){He(Ze)},[])}var et=l(51967);function he(pt){var He=(0,o.useRef)();return(0,o.useEffect)(function(){He.current=pt}),He.current}var Ie=l(77246),ft=l(29862),_t=l(16303),Vt=function(pt,He,Lt){if(Lt||arguments.length===2)for(var Kt=0,nr=He.length,Ur;Kt<nr;Kt++)(Ur||!(Kt in He))&&(Ur||(Ur=Array.prototype.slice.call(He,0,Kt)),Ur[Kt]=He[Kt]);return pt.concat(Ur||Array.prototype.slice.call(He))};function Cr(pt){for(var He=[],Lt=1;Lt<arguments.length;Lt++)He[Lt-1]=arguments[Lt];var Kt=(0,ft.t)(),nr=(0,Ie.x)(He[1]),Ur=(0,o.useMemo)(function(){return function(){for(var Fr=[],en=0;en<arguments.length;en++)Fr[en]=arguments[en];Kt()&&(typeof nr.current=="function"?nr.current.apply(this,Fr):typeof nr.current.handleEvent=="function"&&nr.current.handleEvent.apply(this,Fr))}},[]);(0,o.useEffect)(function(){var Fr=pt&&(0,_t.nr)(pt,"current")?pt.current:pt;if(Fr){var en=He.slice(2);return _t.on.apply(void 0,Vt([Fr,He[0],Ur],en,!1)),function(){return _t.S1.apply(void 0,Vt([Fr,He[0],Ur],en,!1))}}},[pt,He[0]])}var Ue=l(24947),K=function(pt){return typeof pt=="function"?pt:typeof pt=="string"?function(He){return He.key===pt}:pt?_t.cI:_t.Vp},Z=Ue.jU?window:null;function Q(pt,He,Lt,Kt){Kt===void 0&&(Kt={});var nr=Kt.event,Ur=nr===void 0?"keydown":nr,Fr=Kt.target,en=Fr===void 0?Z:Fr,ai=Kt.eventOptions,Hn=(0,Ie.x)(He),Yn=(0,o.useMemo)(function(){var rn=K(pt);return function(Zn){rn(Zn)&&Hn.current.call(this,Zn)}},Lt);Cr(en,Ur,Yn,ai)}var ne=l(10921),_e=l(38402),Xe=l(9520),lt=l(49166),kt=l(98281),Qt=l(22983),Yt=l(77120),Ht=l(42123),Xt=l(6487),rt=l(99152),xt=l(2552),jt=l(23054),fr=l(87685),Or=l(49423),xr=l(96401),ar=l(7896),Rt=l(96234),jr=l(59740),yr=l(6277),dr=l(15459),pr=l(24514),cr=o.createContext({}),Wr=cr,Tr={root:{padding:0,margin:0,listStyle:"none"}};function Le(pt,He){if(pt.length!==He.length)return!0;for(var Lt=0;Lt<pt.length;Lt+=1)if(pt[Lt]!==He[Lt])return!0;return!1}var Gt=function(He,Lt,Kt){for(var nr=Lt;nr<He.length;nr+=1)if(Kt===He[nr])return nr;return-1},ir=[],lr=[],Sr=o.forwardRef(function(He,Lt){var Kt=He.children,nr=He.classes,Ur=He.className,Fr=He.defaultCollapseIcon,en=He.defaultEndIcon,ai=He.defaultExpanded,Hn=ai===void 0?ir:ai,Yn=He.defaultExpandIcon,rn=He.defaultParentIcon,tn=He.defaultSelected,Zn=tn===void 0?lr:tn,an=He.disableSelection,mi=an===void 0?!1:an,Ai=He.multiSelect,Fi=Ai===void 0?!1:Ai,Qi=He.expanded,Xn=He.onNodeSelect,_n=He.onNodeToggle,Ri=He.selected,An=(0,jr.Z)(He,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),Vo=o.useState(null),Hi=Vo[0],ci=Vo[1],Eo=o.useState(null),wo=Eo[0],$o=Eo[1],fi=o.useRef({}),ro=o.useRef({}),Pi=o.useRef([]),mo=(0,pr.Z)({controlled:Qi,default:Hn,name:"TreeView",state:"expanded"}),Io=(0,Rt.Z)(mo,2),ao=Io[0],Ps=Io[1],Hs=(0,pr.Z)({controlled:Ri,default:Zn,name:"TreeView",state:"selected"}),vs=(0,Rt.Z)(Hs,2),Dn=vs[0],Ro=vs[1],Ji=o.useCallback(function(zr){return Array.isArray(ao)?ao.indexOf(zr)!==-1:!1},[ao]),Ko=o.useCallback(function(zr){return Array.isArray(Dn)?Dn.indexOf(zr)!==-1:Dn===zr},[Dn]),qi=function(wr){return Hi===wr},dn=function(wr){return wo===wr},Ts=function(wr){var gr=Pi.current.indexOf(wr);return gr!==-1&&gr+1<Pi.current.length?Pi.current[gr+1]:null},Ti=function(wr){var gr=Pi.current.indexOf(wr);return gr!==-1&&gr-1>=0?Pi.current[gr-1]:null},zo=function(){return Pi.current[Pi.current.length-1]},gi=function(){return Pi.current[0]},Bn=function(wr){return fi.current[wr].parent},Oo=function(wr,gr){var Hr=Pi.current.indexOf(wr),wn=Pi.current.indexOf(gr),xn=Math.min(Hr,wn),di=Math.max(Hr,wn);return Pi.current.slice(xn,di+1)},Un=function(wr){wr&&(ci(wr),$o(wr))},Oi=function(wr){return Un(Ts(wr))},pi=function(wr){return Un(Ti(wr))},li=function(){return Un(gi())},Ho=function(){return Un(zo())},po=function(wr,gr){var Hr,wn,xn=gr.toLowerCase(),di=[],yi=[];Object.keys(ro.current).forEach(function(yo){var jn=ro.current[yo],Vn=fi.current[yo],ks=Vn.parent?Ji(Vn.parent):!0;ks&&(di.push(yo),yi.push(jn))}),Hr=di.indexOf(wr)+1,Hr===fi.current.length&&(Hr=0),wn=Gt(yi,Hr,xn),wn===-1&&(wn=Gt(yi,0,xn)),wn>-1&&Un(di[wn])},bs=function(wr){var gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo,Hr;ao.indexOf(gr)!==-1?(Hr=ao.filter(function(wn){return wn!==gr}),ci(function(wn){var xn=fi.current[wn];return wn&&(xn&&xn.parent?xn.parent.id:null)===gr?gr:wn})):Hr=[gr].concat(ao),_n&&_n(wr,Hr),Ps(Hr)},ei=function(wr,gr){var Hr=fi.current[gr],wn=fi.current[Hr.parent],xn;if(wn)xn=wn.children.filter(function(yo){return!Ji(yo)});else{var di=fi.current[-1].children;xn=di.filter(function(yo){return!Ji(yo)})}var yi=ao.concat(xn);xn.length>0&&(Ps(yi),_n&&_n(wr,yi))},no=o.useRef(null),lo=o.useRef(!1),ji=o.useRef([]),Fo=function(wr,gr){var Hr=Dn,wn=gr.start,xn=gr.next,di=gr.current;!xn||!di||(ji.current.indexOf(di)===-1&&(ji.current=[]),lo.current?ji.current.indexOf(xn)!==-1?(Hr=Hr.filter(function(yi){return yi===wn||yi!==di}),ji.current=ji.current.filter(function(yi){return yi===wn||yi!==di})):(Hr.push(xn),ji.current.push(xn)):(Hr.push(xn),ji.current.push(di,xn)),Xn&&Xn(wr,Hr),Ro(Hr))},Ei=function(wr,gr){var Hr=Dn,wn=gr.start,xn=gr.end;lo.current&&(Hr=Dn.filter(function(yo){return ji.current.indexOf(yo)===-1}));var di=Oo(wn,xn);ji.current=di;var yi=Hr.concat(di);yi=yi.filter(function(yo,jn){return yi.indexOf(yo)===jn}),Xn&&Xn(wr,yi),Ro(yi)},Ss=function(wr,gr){var Hr=[];Dn.indexOf(gr)!==-1?Hr=Dn.filter(function(wn){return wn!==gr}):Hr=[gr].concat(Dn),Xn&&Xn(wr,Hr),Ro(Hr)},xo=function(wr,gr){var Hr=Fi?[gr]:gr;Xn&&Xn(wr,Hr),Ro(Hr)},Jn=function(wr,gr){var Hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return gr?(Hr?Ss(wr,gr):xo(wr,gr),no.current=gr,lo.current=!1,ji.current=[],!0):!1},_i=function(wr,gr){var Hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,wn=gr.start,xn=wn===void 0?no.current:wn,di=gr.end,yi=gr.current;return Hr?Fo(wr,{start:xn,next:di,current:yi}):Ei(wr,{start:xn,end:di}),lo.current=!0,!0},kr=function(wr,gr){no.current||(no.current=gr);var Hr=lo.current?no.current:gr;return _i(wr,{start:Hr,end:gi()})},Qn=function(wr,gr){no.current||(no.current=gr);var Hr=lo.current?no.current:gr;return _i(wr,{start:Hr,end:zo()})},go=function(wr,gr){return _i(wr,{end:Ts(gr),current:gr},!0)},ns=function(wr,gr){return _i(wr,{end:Ti(gr),current:gr},!0)},Js=function(wr){return _i(wr,{start:gi(),end:zo()})},Fn=function(wr,gr){var Hr=fi.current[wr];fi.current[wr]=(0,ar.Z)({},Hr,{children:gr,id:wr}),gr.forEach(function(wn){var xn=fi.current[wn];fi.current[wn]=(0,ar.Z)({},xn,{parent:wr,id:wn})})},is=o.useCallback(function(zr){var wr=fi.current[zr],gr=[];return wr&&(gr.push(zr),wr.children&&(gr.concat(wr.children),wr.children.forEach(function(Hr){gr.concat(is(Hr))}))),gr},[]),os=o.useCallback(function(zr){var wr=(0,ar.Z)({},ro.current);zr.forEach(function(gr){wr[gr]&&delete wr[gr]}),ro.current=wr},[]),ss=o.useCallback(function(zr){var wr=is(zr);os(wr);var gr=(0,ar.Z)({},fi.current);wr.forEach(function(Hr){var wn=gr[Hr];if(wn){if(wn.parent){var xn=gr[wn.parent];if(xn&&xn.children){var di=xn.children.filter(function(yi){return yi!==Hr});gr[wn.parent]=(0,ar.Z)({},xn,{children:di})}}delete gr[Hr]}}),fi.current=gr,$o(function(Hr){return Hr===zr?null:Hr})},[is,os]),_s=function(wr,gr){ro.current[wr]=gr},Ds=o.useRef([]),vt=o.useState(!1),it=vt[0],Zi=vt[1];o.useEffect(function(){var zr=[];o.Children.forEach(Kt,function(wr){o.isValidElement(wr)&&wr.props.nodeId&&zr.push(wr.props.nodeId)}),Le(Ds.current,zr)&&(fi.current[-1]={parent:null,children:zr},zr.forEach(function(wr,gr){gr===0&&ci(wr)}),Pi.current=fi.current[-1].children,Ds.current=zr,Zi(!0))},[Kt]),o.useEffect(function(){var zr=function wr(gr){for(var Hr=[],wn=0;wn<gr.length;wn+=1){var xn=gr[wn];Hr.push(xn);var di=fi.current[xn].children;Ji(xn)&&di&&(Hr=Hr.concat(wr(di)))}return Hr};it&&(Pi.current=zr(fi.current[-1].children))},[ao,it,Ji,Kt]);var Ni=function(){return!1};return o.createElement(Wr.Provider,{value:{icons:{defaultCollapseIcon:Fr,defaultExpandIcon:Yn,defaultParentIcon:rn,defaultEndIcon:en},focus:Un,focusFirstNode:li,focusLastNode:Ho,focusNextNode:Oi,focusPreviousNode:pi,focusByFirstCharacter:po,expandAllSiblings:ei,toggleExpansion:bs,isExpanded:Ji,isFocused:dn,isSelected:Ko,selectNode:mi?Ni:Jn,selectRange:mi?Ni:_i,selectNextNode:mi?Ni:go,selectPreviousNode:mi?Ni:ns,rangeSelectToFirst:mi?Ni:kr,rangeSelectToLast:mi?Ni:Qn,selectAllNodes:mi?Ni:Js,isTabbable:qi,multiSelect:Fi,getParent:Bn,mapFirstChar:_s,addNodeToNodeMap:Fn,removeNodeFromNodeMap:ss}},o.createElement("ul",(0,ar.Z)({role:"tree","aria-multiselectable":Fi,className:(0,yr.default)(nr.root,Ur),ref:Lt},An),Kt))}),_r=(0,dr.Z)(Tr,{name:"MuiTreeView"})(Sr),Er=l(51209),Zr=l(41128),Ir=l(60364),Rr=l(85974),Xr=function(He){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:He.palette.action.hover},"&$selected > $content $label":{backgroundColor:(0,Zr.Fq)(He.palette.primary.main,He.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:(0,Zr.Fq)(He.palette.primary.main,He.palette.action.selectedOpacity+He.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:He.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}},fn=function(He){return He&&He.length===1&&He.match(/\S/)},Nr=o.forwardRef(function(He,Lt){var Kt=He.children,nr=He.classes,Ur=He.className,Fr=He.collapseIcon,en=He.endIcon,ai=He.expandIcon,Hn=He.icon,Yn=He.label,rn=He.nodeId,tn=He.onClick,Zn=He.onLabelClick,an=He.onIconClick,mi=He.onFocus,Ai=He.onKeyDown,Fi=He.onMouseDown,Qi=He.TransitionComponent,Xn=Qi===void 0?ye.Z:Qi,_n=He.TransitionProps,Ri=(0,jr.Z)(He,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),An=o.useContext(Wr),Vo=An.icons,Hi=An.focus,ci=An.focusFirstNode,Eo=An.focusLastNode,wo=An.focusNextNode,$o=An.focusPreviousNode,fi=An.focusByFirstCharacter,ro=An.selectNode,Pi=An.selectRange,mo=An.selectNextNode,Io=An.selectPreviousNode,ao=An.rangeSelectToFirst,Ps=An.rangeSelectToLast,Hs=An.selectAllNodes,vs=An.expandAllSiblings,Dn=An.toggleExpansion,Ro=An.isExpanded,Ji=An.isFocused,Ko=An.isSelected,qi=An.isTabbable,dn=An.multiSelect,Ts=An.getParent,Ti=An.mapFirstChar,zo=An.addNodeToNodeMap,gi=An.removeNodeFromNodeMap,Bn=o.useRef(null),Oo=o.useRef(null),Un=(0,Rr.Z)(Bn,Lt),Oi=Hn,pi=Boolean(Array.isArray(Kt)?Kt.length:Kt),li=Ro?Ro(rn):!1,Ho=Ji?Ji(rn):!1,po=qi?qi(rn):!1,bs=Ko?Ko(rn):!1,ei=Vo||{},no=(0,Ir.Z)();Oi||(pi?(li?Oi=Fr||ei.defaultCollapseIcon:Oi=ai||ei.defaultExpandIcon,Oi||(Oi=ei.defaultParentIcon)):Oi=en||ei.defaultEndIcon);var lo=function(kr){Ho||Hi(rn);var Qn=dn&&(kr.shiftKey||kr.ctrlKey||kr.metaKey);pi&&!kr.defaultPrevented&&!(Qn&&Ro(rn))&&Dn(kr,rn),Qn?kr.shiftKey?Pi(kr,{end:rn}):ro(kr,rn,!0):ro(kr,rn),tn&&tn(kr)},ji=function(kr){(kr.shiftKey||kr.ctrlKey||kr.metaKey)&&kr.preventDefault(),Fi&&Fi(kr)},Fo=function(kr){return pi&&(li?wo(rn):Dn(kr)),!0},Ei=function(kr){if(li)return Dn(kr,rn),!0;var Qn=Ts(rn);return Qn?(Hi(Qn),!0):!1},Ss=function(kr){var Qn=!1,go=kr.key;if(!(kr.altKey||kr.currentTarget!==kr.target)){var ns=kr.ctrlKey||kr.metaKey;switch(go){case" ":Bn.current===kr.currentTarget&&(dn&&kr.shiftKey?Qn=Pi(kr,{end:rn}):dn?Qn=ro(kr,rn,!0):Qn=ro(kr,rn)),kr.stopPropagation();break;case"Enter":Bn.current===kr.currentTarget&&pi&&(Dn(kr),Qn=!0),kr.stopPropagation();break;case"ArrowDown":dn&&kr.shiftKey&&mo(kr,rn),wo(rn),Qn=!0;break;case"ArrowUp":dn&&kr.shiftKey&&Io(kr,rn),$o(rn),Qn=!0;break;case"ArrowRight":no.direction==="rtl"?Qn=Ei(kr):Qn=Fo(kr);break;case"ArrowLeft":no.direction==="rtl"?Qn=Fo(kr):Qn=Ei(kr);break;case"Home":dn&&ns&&kr.shiftKey&&ao(kr,rn),ci(),Qn=!0;break;case"End":dn&&ns&&kr.shiftKey&&Ps(kr,rn),Eo(),Qn=!0;break;default:go==="*"?(vs(kr,rn),Qn=!0):dn&&ns&&go.toLowerCase()==="a"?Qn=Hs(kr):!ns&&!kr.shiftKey&&fn(go)&&(fi(rn,go),Qn=!0)}Qn&&(kr.preventDefault(),kr.stopPropagation()),Ai&&Ai(kr)}},xo=function(kr){!Ho&&kr.currentTarget===kr.target&&Hi(rn),mi&&mi(kr)};o.useEffect(function(){if(zo){var _i=[];o.Children.forEach(Kt,function(kr){o.isValidElement(kr)&&kr.props.nodeId&&_i.push(kr.props.nodeId)}),zo(rn,_i)}},[Kt,rn,zo]),o.useEffect(function(){if(gi)return function(){gi(rn)}},[rn,gi]),o.useEffect(function(){Ti&&Yn&&Ti(rn,Oo.current.textContent.substring(0,1).toLowerCase())},[Ti,rn,Yn]),o.useEffect(function(){Ho&&Bn.current.focus()},[Ho]);var Jn;return dn?Jn=bs:bs&&(Jn=!0),o.createElement("li",(0,ar.Z)({className:(0,yr.default)(nr.root,Ur,li&&nr.expanded,bs&&nr.selected),role:"treeitem",onKeyDown:Ss,onFocus:xo,"aria-expanded":pi?li:null,"aria-selected":Jn,ref:Un,tabIndex:po?0:-1},Ri),o.createElement("div",{className:nr.content,onClick:lo,onMouseDown:ji,ref:Oo},o.createElement("div",{onClick:an,className:nr.iconContainer},Oi),o.createElement(j.Z,{onClick:Zn,component:"div",className:nr.label},Yn)),Kt&&o.createElement(Xn,(0,ar.Z)({unmountOnExit:!0,className:nr.group,in:li,component:"ul",role:"group"},_n),Kt))}),ln=(0,dr.Z)(Xr,{name:"MuiTreeItem"})(Nr),mn=l(65329),vn=l(25417),gn=l(24579),un=l(82726);const cn=(0,O.Z)(pt=>({code:{fontFamily:"Menlo, monospace",padding:pt.spacing(1),backgroundColor:pt.palette.type==="dark"?pt.palette.grey[700]:pt.palette.grey[300],display:"inline-block",borderRadius:5,border:`1px solid ${pt.palette.grey[500]}`,position:"relative"},codeRequired:{"&::after":{position:"absolute",content:'"*"',top:0,right:pt.spacing(.5),fontWeight:"bolder",color:pt.palette.error.light}}})),Yr=pt=>o.createElement(D.Z,{container:!0},pt.examples.map((He,Lt)=>o.createElement(o.Fragment,{key:`example-${Lt}`},o.createElement(D.Z,{item:!0,lg:3},o.createElement(_.Z,{padding:4},o.createElement(j.Z,null,He.description))),o.createElement(D.Z,{item:!0,lg:9},o.createElement(_.Z,{padding:1},o.createElement(Et.Oi,{text:He.example,showLineNumbers:!0,showCopyCodeButton:!0,language:"yaml"})))))),yn=()=>{const pt=(0,Ye.h_)(R.lc),He=cn(),{loading:Lt,value:Kt,error:nr}=(0,m.default)(async()=>pt.listActions()),[Ur,Fr]=(0,o.useState)({});if(Lt)return o.createElement(Et.Ex,null);if(nr)return o.createElement(Et.mf,{statusMessage:"Failed to load installed actions",status:"500"});const en=tn=>!tn||tn.length<1?o.createElement(j.Z,null,"No schema defined"):o.createElement($.Z,{component:I.Z},o.createElement(J.Z,{size:"small"},o.createElement(z.Z,null,o.createElement(ee.Z,null,o.createElement(te.Z,null,"Name"),o.createElement(te.Z,null,"Title"),o.createElement(te.Z,null,"Description"),o.createElement(te.Z,null,"Type"))),o.createElement(oe.Z,null,tn))),ai=tn=>{var Zn,an;return tn.type?tn.type!=="array"?[tn.type].flat():[`${tn.type}(${(an=(Zn=tn.items)==null?void 0:Zn.type)!=null?an:"unknown"})`]:["unknown"]},Hn=(tn,Zn)=>{const an=Zn==null?void 0:Zn.properties;if(an)return Object.entries(an).map(mi=>{var Ai,Fi,Qi;const[Xn]=mi,_n=`${tn}.${Xn}`,Ri=mi[1],An=Ge()(He.code,{[He.codeRequired]:(Ai=Zn.required)==null?void 0:Ai.includes(Xn)}),Vo=ai(Ri);return o.createElement(o.Fragment,{key:_n},o.createElement(ee.Z,{key:_n},o.createElement(te.Z,null,o.createElement("div",{className:An},Xn)),o.createElement(te.Z,null,Ri.title),o.createElement(te.Z,null,Ri.description),o.createElement(te.Z,null,Vo.map(Hi=>Hi.includes("object")?o.createElement(rr.Z,{label:Hi,key:Hi,icon:Ur[_n]?o.createElement(st.Z,null):o.createElement(ht.Z,null),variant:"outlined",onClick:()=>Fr(ci=>{const Eo={...ci};return Eo[_n]=!ci[_n],Eo})}):o.createElement(rr.Z,{label:Hi,key:Hi,variant:"outlined"})))),o.createElement(ee.Z,null,o.createElement(te.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6},o.createElement(ye.Z,{in:Ur[_n],timeout:"auto",unmountOnExit:!0},o.createElement(_.Z,{sx:{margin:1}},o.createElement(j.Z,{variant:"h6",component:"div"},Xn),en(Hn(_n,Ri.type==="array"?{properties:(Qi=(Fi=Ri.items)==null?void 0:Fi.properties)!=null?Qi:{}}:Ri)))))))})},Yn=(tn,Zn,an)=>{if(an)return o.createElement(o.Fragment,null,o.createElement(j.Z,{variant:"h6",component:"h4"},tn),an.map((mi,Ai)=>o.createElement("div",{key:Ai},en(Hn(`${Zn}.${Ai}`,mi)))))},rn=Kt==null?void 0:Kt.map(tn=>{var Zn,an,mi,Ai,Fi,Qi;if(tn.id.startsWith("legacy:"))return;const Xn=Yn("oneOf",`${tn.id}.input`,(an=(Zn=tn.schema)==null?void 0:Zn.input)==null?void 0:an.oneOf);return o.createElement(_.Z,{pb:4,key:tn.id},o.createElement(j.Z,{variant:"h4",component:"h2",className:He.code},tn.id),tn.description&&o.createElement(Et.SA,{content:tn.description}),((mi=tn.schema)==null?void 0:mi.input)&&o.createElement(_.Z,{pb:2},o.createElement(j.Z,{variant:"h5",component:"h3"},"Input"),en(Hn(`${tn.id}.input`,(Ai=tn==null?void 0:tn.schema)==null?void 0:Ai.input)),Xn),((Fi=tn.schema)==null?void 0:Fi.output)&&o.createElement(_.Z,{pb:2},o.createElement(j.Z,{variant:"h5",component:"h3"},"Output"),en(Hn(`${tn.id}.output`,(Qi=tn==null?void 0:tn.schema)==null?void 0:Qi.output))),tn.examples&&o.createElement(F.Z,null,o.createElement(Y.Z,{expandIcon:o.createElement(ht.Z,null)},o.createElement(j.Z,{variant:"h5",component:"h3"},"Examples")),o.createElement(ve.Z,null,o.createElement(_.Z,{pb:2},o.createElement(Yr,{examples:tn.examples})))))});return o.createElement(Et.T3,{themeId:"home"},o.createElement(Et.h4,{pageTitleOverride:"Create a New Component",title:"Installed actions",subtitle:"This is the collection of all installed actions"}),o.createElement(Et.VY,null,rn))},sn=(0,O.Z)(pt=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none",margin:pt.spacing(1,0,1,0)},title:{margin:pt.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:pt.palette.text.primary},menuItem:{minHeight:pt.spacing(6)},groupWrapper:{margin:pt.spacing(1,1,2,1)}}),{name:"ScaffolderReactOwnerListPicker"});function Qr(){return[{name:"Task Owner",items:[{id:"owned",label:"Owned",icon:mt.Z},{id:"all",label:"All",icon:Mt.Z}]}]}const En=pt=>{const{filter:He,onSelectOwner:Lt}=pt,Kt=sn(),nr=Qr();return o.createElement(se.Z,{className:Kt.root},nr.map(Ur=>o.createElement(o.Fragment,{key:Ur.name},o.createElement(j.Z,{variant:"subtitle2",component:"span",className:Kt.title},Ur.name),o.createElement(se.Z,{className:Kt.groupWrapper},o.createElement(me.Z,{disablePadding:!0,dense:!0,role:"menu"},Ur.items.map(Fr=>o.createElement(xe.Z,{key:Fr.id,button:!0,divider:!0,ContainerProps:{role:"menuitem"},onClick:()=>Lt(Fr.id),selected:Fr.id===He,className:Kt.menuItem,"data-testid":`owner-picker-${Fr.id}`},Fr.icon&&o.createElement(re.Z,{className:Kt.listIcon},o.createElement(Fr.icon,{fontSize:"small"})),o.createElement(M.Z,null,o.createElement(j.Z,{variant:"body1"},Fr.label)))))))))},bn=window.showDirectoryPicker;class oi{constructor(He,Lt){this.path=He,this.handle=Lt}file(){return this.handle.getFile()}async save(He){const Lt=await this.handle.createWritable();await Lt.write(He),await Lt.close()}}class Ki{constructor(He){this.handle=He}async listFiles(){const He=[];for await(const Lt of this.listDirectoryContents(this.handle))He.push(Lt);return He}async*listDirectoryContents(He,Lt=[]){for await(const Kt of He.values())if(Kt.kind==="file")yield new oi([...Lt,Kt.name].join("/"),Kt);else if(Kt.kind==="directory"){if(Kt.name===".git")continue;yield*this.listDirectoryContents(Kt,[...Lt,Kt.name])}}}class Pe{static isSupported(){return Boolean(bn)}static async requestDirectoryAccess(){if(!bn)throw new Error("File system access is not supported");const He=await bn();return new Ki(He)}constructor(){}}const y=64*1024,T=32*1024,V=(0,o.createContext)(void 0);function q(pt){if(pt.length>y)return window.btoa("<file too large>");try{return window.btoa(pt)}catch{const Lt=new TextEncoder().encode(pt),Kt=new Array;for(let nr=0;nr<Lt.length;nr+=T)Kt.push(String.fromCharCode(...Lt.slice(nr,nr+T)));return window.btoa(Kt.join(""))}}function we(pt){const He=(0,Ye.h_)(R.lc),[Lt,Kt]=(0,o.useState)({results:[],selectedResult:void 0}),nr=(0,o.useRef)(1),Ur=(0,o.useCallback)(Hn=>{Kt(Yn=>{const rn=Yn.results.find(tn=>tn.id===Hn);return rn===Yn.selectedResult?Yn:{results:Yn.results,selectedResult:rn}})},[]),Fr=(0,o.useCallback)(Hn=>{Kt(Yn=>{var rn;const tn=Yn.results.findIndex(mi=>mi.id===Hn);if(tn===-1)return Yn;const Zn=Yn.results.slice(),[an]=Zn.splice(tn,1);return{results:Zn,selectedResult:((rn=Yn.selectedResult)==null?void 0:rn.id)===an.id?Zn[0]:Yn.selectedResult}})},[]),en=(0,o.useCallback)(async Hn=>{if(!He.dryRun)throw new Error("Scaffolder API does not support dry-run");const Yn=ne.ZP.parse(Hn.templateContent),tn={...await He.dryRun({template:Yn,values:Hn.values,secrets:{},directoryContents:Hn.files.map(Zn=>({path:Zn.path,base64Content:q(Zn.content)}))}),id:nr.current++};Kt(Zn=>{var an;return{results:[...Zn.results,tn],selectedResult:(an=Zn.selectedResult)!=null?an:tn}})},[He]),ai=(0,o.useMemo)(()=>({...Lt,selectResult:Ur,deleteResult:Fr,execute:en}),[Lt,Ur,Fr,en]);return o.createElement(V.Provider,{value:ai},pt.children)}function ge(){const pt=(0,o.useContext)(V);if(!pt)throw new Error("must be used within a DryRunProvider");return pt}var Ve=(pt,He,Lt)=>{if(!He.has(pt))throw TypeError("Cannot "+Lt)},je=(pt,He,Lt)=>(Ve(pt,He,"read from private field"),Lt?Lt.call(pt):He.get(pt)),At=(pt,He,Lt)=>{if(He.has(pt))throw TypeError("Cannot add the same private member more than once");He instanceof WeakSet?He.add(pt):He.set(pt,Lt)},Ft=(pt,He,Lt,Kt)=>(Ve(pt,He,"write to private field"),Kt?Kt.call(pt,Lt):He.set(pt,Lt),Lt),Wt,Pr,mr,On,Mn,zn,Mi,$i,Cn;const Zo=1024*1024,So="This file is too large to be displayed";class ko{constructor(He,Lt){At(this,Wt,void 0),At(this,Pr,void 0),At(this,mr,void 0),At(this,On,void 0),Ft(this,Wt,He),Ft(this,Pr,Lt)}get path(){return je(this,Wt).path}get content(){var He;return(He=je(this,mr))!=null?He:So}updateContent(He){je(this,mr)!==void 0&&(Ft(this,mr,He),je(this,Pr).call(this))}get dirty(){return je(this,mr)!==je(this,On)}async save(){je(this,mr)!==void 0&&(await je(this,Wt).save(je(this,mr)),Ft(this,On,je(this,mr)),je(this,Pr).call(this))}async reload(){const He=await je(this,Wt).file();if(He.size>Zo){je(this,mr)!==void 0&&(Ft(this,mr,void 0),Ft(this,On,void 0),je(this,Pr).call(this));return}const Lt=await He.text();je(this,mr)!==Lt&&(Ft(this,mr,Lt),Ft(this,On,Lt),je(this,Pr).call(this))}}Wt=new WeakMap,Pr=new WeakMap,mr=new WeakMap,On=new WeakMap;class $n{constructor(He){At(this,Mn,void 0),At(this,zn,new Set),At(this,Mi,[]),At(this,$i,void 0),this.setSelectedFile=Lt=>{const Kt=je(this,$i),nr=je(this,Mi).find(Ur=>Ur.path===Lt);Kt!==nr&&(Ft(this,$i,nr),je(this,Cn).call(this))},At(this,Cn,()=>{je(this,zn).forEach(Lt=>Lt())}),Ft(this,Mn,He)}get files(){return je(this,Mi)}get selectedFile(){return je(this,$i)}get dirty(){return je(this,Mi).some(He=>He.dirty)}async save(){await Promise.all(je(this,Mi).map(He=>He.save()))}async reload(){var He;const Lt=(He=je(this,$i))==null?void 0:He.path,Kt=await je(this,Mn).listFiles(),nr=await Promise.all(Kt.map(async Ur=>{const Fr=new ko(Ur,je(this,Cn));return await Fr.reload(),Fr}));je(this,Mi).length=0,je(this,Mi).push(...nr),this.setSelectedFile(Lt),je(this,Cn).call(this)}subscribe(He){return je(this,zn).add(He),()=>{je(this,zn).delete(He)}}}Mn=new WeakMap,zn=new WeakMap,Mi=new WeakMap,$i=new WeakMap,Cn=new WeakMap;const Ii=(0,o.createContext)(void 0);function Mo(){const pt=(0,o.useContext)(Ii),He=bt();if((0,o.useEffect)(()=>pt==null?void 0:pt.subscribe(He),[pt,He]),!pt)throw new Error("must be used within a DirectoryEditorProvider");return pt}function Jt(pt){const{directory:He}=pt,[{result:Lt,error:Kt},{execute:nr}]=(0,et.r)(async Ur=>{const Fr=new $n(Ur);await Fr.reload();const en=Fr.files.find(ai=>ai.path.match(/\.ya?ml$/));return en&&Fr.setSelectedFile(en.path),Fr});return(0,o.useEffect)(()=>{nr(He)},[nr,He]),Kt?o.createElement(Et.yu,{error:Kt}):Lt?o.createElement(Ii.Provider,{value:Lt},pt.children):o.createElement(Et.Ex,null)}const be=(0,O.Z)(pt=>({root:{overflowY:"auto",background:pt.palette.background.default},iconSuccess:{minWidth:0,marginRight:pt.spacing(1),color:pt.palette.status.ok},iconFailure:{minWidth:0,marginRight:pt.spacing(1),color:pt.palette.status.error}}));function N(){const pt=be(),He=ge();return o.createElement(me.Z,{className:pt.root,dense:!0},He.results.map(Lt=>{var Kt;const nr=Lt.log.some(Ur=>Ur.body.status==="failed");return o.createElement(_e.Z,{button:!0,key:Lt.id,selected:((Kt=He.selectedResult)==null?void 0:Kt.id)===Lt.id,onClick:()=>He.selectResult(Lt.id)},o.createElement(re.Z,{className:nr?pt.iconFailure:pt.iconSuccess},nr?o.createElement(lt.Z,null):o.createElement(kt.Z,null)),o.createElement(M.Z,{primary:`Result ${Lt.id}`}),o.createElement(Xe.Z,null,o.createElement(Ne.Z,{edge:"end","aria-label":"delete",onClick:()=>He.deleteResult(Lt.id)},o.createElement(Qt.Z,null))))}))}const X=(0,O.Z)({root:{whiteSpace:"nowrap",overflowY:"auto"}});function Me(pt){const He={type:"directory",name:"",path:"",children:[]};for(const Lt of pt.slice().sort()){const Kt=Lt.split("/");let nr=He;for(let Ur=0;Ur<Kt.length;Ur++){const Fr=Kt[Ur];if(Fr==="")throw new Error("Invalid path part: ''");const en=Kt.slice(0,Ur+1).join("/"),ai=nr.children.find(Hn=>Hn.name===Fr);if((ai==null?void 0:ai.type)==="file")throw new Error(`Duplicate filename at '${en}'`);if(ai)nr=ai;else if(Ur<Kt.length-1){const Hn={type:"directory",name:Fr,path:en,children:[]},Yn=nr.children.findIndex(rn=>rn.type==="file");nr.children.splice(Yn,0,Hn),nr=Hn}else nr.children.push({type:"file",name:Fr,path:en})}}return He.children}function Fe({entry:pt}){return pt.type==="file"?o.createElement(ln,{nodeId:pt.path,label:pt.name}):o.createElement(ln,{nodeId:pt.path,label:pt.name},pt.children.map(He=>o.createElement(Fe,{key:He.path,entry:He})))}function nt(pt){const He=X(),Lt=(0,o.useMemo)(()=>Me(pt.filePaths),[pt.filePaths]);return o.createElement(_r,{selected:pt.selected,className:He.root,defaultCollapseIcon:o.createElement(ht.Z,null),defaultExpandIcon:o.createElement(Er.Z,null),onNodeSelect:(Kt,nr)=>{pt.onSelect&&pt.filePaths.includes(nr)&&pt.onSelect(nr)}},Lt.map(Kt=>o.createElement(Fe,{key:Kt.path,entry:Kt})))}const ct=(0,O.Z)(pt=>({root:{display:"grid",gridTemplateColumns:"280px auto 3fr",gridTemplateRows:"1fr"},child:{overflowY:"auto",height:"100%",minHeight:0},firstChild:{background:pt.palette.background.paper}}));function Bt(pt){const He=ct(),Lt=o.Children.toArray(pt.children);if(Lt.length!==2)throw new Error("must have exactly 2 children");return o.createElement("div",{className:He.root},o.createElement("div",{className:Ge()(He.child,He.firstChild)},Lt[0]),o.createElement(Ce.Z,{orientation:"horizontal"}),o.createElement("div",{className:He.child},Lt[1]))}const Nt=(0,O.Z)({root:{display:"flex",flexFlow:"column nowrap"},contentWrapper:{flex:1,position:"relative"},content:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex","& > *":{flex:1}},codeMirror:{height:"100%",overflowY:"auto"}});function Lr(){const pt=Nt(),{selectedResult:He}=ge(),[Lt,Kt]=(0,o.useState)(""),nr=He==null?void 0:He.directoryContents.find(Ur=>Ur.path===Lt);return(0,o.useEffect)(()=>{if(He){const[Ur]=He.directoryContents;Kt(Ur?Ur.path:"")}},[He]),He?o.createElement(Bt,null,o.createElement(nt,{selected:Lt,onSelect:Kt,filePaths:He.directoryContents.map(Ur=>Ur.path)}),o.createElement(xt.ZP,{className:pt.codeMirror,theme:"dark",height:"100%",extensions:[Yt.il.define(Ht.r)],readOnly:!0,value:nr!=null&&nr.base64Content?atob(nr.base64Content):""})):null}function Kr(){var pt,He;const{selectedResult:Lt}=ge(),[Kt,nr]=(0,o.useState)(),Ur=(0,o.useMemo)(()=>{var en;return Lt?(en=Lt.steps.map(ai=>{var Hn,Yn;const rn=Lt.log.filter(tn=>tn.body.stepId===ai.id);return{id:ai.id,name:ai.name,logString:rn.map(tn=>tn.body.message).join(`
`),status:(Yn=(Hn=rn[rn.length-1])==null?void 0:Hn.body.status)!=null?Yn:"completed"}}))!=null?en:[]:[]},[Lt]);if(!Lt)return null;const Fr=(pt=Ur.find(en=>en.id===Kt))!=null?pt:Ur[0];return o.createElement(Bt,null,o.createElement(jt.l,{steps:Ur,currentStepId:Fr.id,onUserStepChange:nr}),o.createElement(Et.nU,{text:(He=Fr==null?void 0:Fr.logString)!=null?He:""}))}function In(){var pt,He;const Lt=Nt(),{selectedResult:Kt}=ge();return Kt?o.createElement(Bt,null,o.createElement(_.Z,{pt:2},((He=(pt=Kt.output)==null?void 0:pt.links)==null?void 0:He.length)&&o.createElement(jt.n,{output:Kt.output})),o.createElement(xt.ZP,{className:Lt.codeMirror,theme:"dark",height:"100%",extensions:[Yt.il.define(Ht.r)],readOnly:!0,value:JSON.stringify(Kt.output,null,2)})):null}function wi(){const pt=Nt(),[He,Lt]=(0,o.useState)("files");return o.createElement("div",{className:pt.root},o.createElement(rt.Z,{value:He,onChange:(Kt,nr)=>Lt(nr)},o.createElement(Xt.Z,{value:"files",label:"Files"}),o.createElement(Xt.Z,{value:"log",label:"Log"}),o.createElement(Xt.Z,{value:"output",label:"Output"})),o.createElement(Ce.Z,null),o.createElement("div",{className:pt.contentWrapper},o.createElement("div",{className:pt.content},He==="files"&&o.createElement(Lr,null),He==="log"&&o.createElement(Kr,null),He==="output"&&o.createElement(In,null))))}const Ci=(0,O.Z)(pt=>({header:{height:48,minHeight:0,"&.Mui-expanded":{height:48,minHeight:0}},content:{display:"grid",background:pt.palette.background.default,gridTemplateColumns:"180px auto 1fr",gridTemplateRows:"1fr",padding:0,height:400}}));function si(){const pt=Ci(),He=ge(),[Lt,Kt]=(0,o.useState)(!1),[nr,Ur]=(0,o.useState)(!0),Fr=He.results.length,en=he(Fr);return(0,o.useEffect)(()=>{en===0&&Fr===1?(Ur(!1),Kt(!0)):en===1&&Fr===0&&Kt(!1)},[en,Fr]),o.createElement(o.Fragment,null,o.createElement(F.Z,{variant:"outlined",expanded:Lt,hidden:Fr===0&&nr,onChange:(ai,Hn)=>Kt(Hn),onTransitionEnd:()=>Fr===0&&Ur(!0)},o.createElement(Y.Z,{className:pt.header,expandIcon:o.createElement(st.Z,null)},o.createElement(j.Z,null,"Dry-run results")),o.createElement(Ce.Z,{orientation:"horizontal"}),o.createElement(ve.Z,{className:pt.content},o.createElement(N,null),o.createElement(Ce.Z,{orientation:"horizontal"}),o.createElement(wi,null))))}const Si=(0,O.Z)(pt=>({button:{padding:pt.spacing(1)},buttons:{display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"flex-start"},buttonsGap:{flex:"1 1 auto"},buttonsDivider:{marginBottom:pt.spacing(1)}}));function zi(pt){var He,Lt;const Kt=Si(),nr=Mo(),Ur=nr.files.filter(en=>en.dirty),Fr=()=>{pt.onClose&&(Ur.length>0&&!window.confirm("Are you sure? Unsaved changes will be lost")||pt.onClose())};return o.createElement(o.Fragment,null,o.createElement("div",{className:Kt.buttons},o.createElement(Ee.ZP,{title:"Save all files"},o.createElement(Ne.Z,{className:Kt.button,disabled:nr.files.every(en=>!en.dirty),onClick:()=>nr.save()},o.createElement(xr.Z,null))),o.createElement(Ee.ZP,{title:"Reload directory"},o.createElement(Ne.Z,{className:Kt.button,onClick:()=>nr.reload()},o.createElement(Or.Z,null))),o.createElement("div",{className:Kt.buttonsGap}),o.createElement(Ee.ZP,{title:"Close directory"},o.createElement(Ne.Z,{className:Kt.button,onClick:Fr},o.createElement(fr.Z,null)))),o.createElement(Ce.Z,{className:Kt.buttonsDivider}),o.createElement(nt,{selected:(Lt=(He=nr.selectedFile)==null?void 0:He.path)!=null?Lt:"",onSelect:nr.setSelectedFile,filePaths:nr.files.map(en=>en.path)}))}const ys=(0,O.Z)(pt=>({container:{position:"relative",width:"100%",height:"100%"},codeMirror:{position:"absolute",top:0,bottom:0,left:0,right:0},errorPanel:{color:pt.palette.error.main,lineHeight:2,margin:pt.spacing(0,1)},floatingButtons:{position:"absolute",top:pt.spacing(1),right:pt.spacing(3)},floatingButton:{padding:pt.spacing(1)}}));function rs(pt){const{errorText:He}=pt,Lt=ys(),Kt=(0,o.useMemo)(()=>{if(!He)return mn.mH.of(null);const nr=document.createElement("div");return nr.classList.add(Lt.errorPanel),nr.textContent=He,mn.mH.of(()=>({dom:nr,bottom:!0}))},[Lt,He]);return Q(nr=>nr.key==="s"&&(nr.ctrlKey||nr.metaKey),nr=>{nr.preventDefault(),pt.onSave&&pt.onSave()}),o.createElement("div",{className:Lt.container},o.createElement(xt.ZP,{className:Lt.codeMirror,theme:"dark",height:"100%",extensions:[Yt.il.define(Ht.r),Kt],value:pt.content,onChange:pt.onUpdate}),(pt.onSave||pt.onReload)&&o.createElement("div",{className:Lt.floatingButtons},o.createElement(I.Z,null,pt.onSave&&o.createElement(Ee.ZP,{title:"Save file"},o.createElement(Ne.Z,{className:Lt.floatingButton,onClick:()=>{var nr;return(nr=pt.onSave)==null?void 0:nr.call(pt)}},o.createElement(xr.Z,null))),pt.onReload&&o.createElement(Ee.ZP,{title:"Reload file"},o.createElement(Ne.Z,{className:Lt.floatingButton,onClick:()=>{var nr;return(nr=pt.onReload)==null?void 0:nr.call(pt)}},o.createElement(Or.Z,null))))))}function va(pt){var He,Lt;const Kt=Mo(),nr=(He=Kt.selectedFile)!=null&&He.dirty?{onSave:()=>Kt.save(),onReload:()=>Kt.reload()}:{onReload:()=>Kt.reload()};return o.createElement(rs,{errorText:pt.errorText,content:(Lt=Kt.selectedFile)==null?void 0:Lt.content,onUpdate:Ur=>{var Fr;return(Fr=Kt.selectedFile)==null?void 0:Fr.updateContent(Ur)},...nr})}rs.DirectoryEditor=va;const Uo=(0,O.Z)(pt=>({introText:{textAlign:"center",marginTop:pt.spacing(2)},card:{position:"relative",maxWidth:340,marginTop:pt.spacing(4),margin:pt.spacing(0,2)},infoIcon:{position:"absolute",top:pt.spacing(1),right:pt.spacing(1)}}));function zs(pt){const He=Uo(),Lt=Pe.isSupported(),Kt=o.createElement(se.Z,{className:He.card,elevation:4},o.createElement(vn.Z,{disabled:!Lt,onClick:()=>{var Fr;return(Fr=pt.onSelect)==null?void 0:Fr.call(pt,"local")}},o.createElement(gn.Z,null,o.createElement(j.Z,{variant:"h4",component:"h3",gutterBottom:!0,color:Lt?void 0:"textSecondary",style:{display:"flex",flexFlow:"row nowrap"}},"Load Template Directory"),o.createElement(j.Z,{variant:"body1",color:Lt?void 0:"textSecondary"},"Load a local template directory, allowing you to both edit and try executing your own template."))),!Lt&&o.createElement("div",{className:He.infoIcon},o.createElement(Ee.ZP,{placement:"top",title:"Only supported in some Chromium-based browsers"},o.createElement(un.Z,null)))),nr=o.createElement(se.Z,{className:He.card,elevation:4},o.createElement(vn.Z,{onClick:()=>{var Fr;return(Fr=pt.onSelect)==null?void 0:Fr.call(pt,"form")}},o.createElement(gn.Z,null,o.createElement(j.Z,{variant:"h4",component:"h3",gutterBottom:!0},"Edit Template Form"),o.createElement(j.Z,{variant:"body1"},"Preview and edit a template form, either using a sample template or by loading a template from the catalog.")))),Ur=o.createElement(se.Z,{className:He.card,elevation:4},o.createElement(vn.Z,{onClick:()=>{var Fr;return(Fr=pt.onSelect)==null?void 0:Fr.call(pt,"field-explorer")}},o.createElement(gn.Z,null,o.createElement(j.Z,{variant:"h4",component:"h3",gutterBottom:!0},"Custom Field Explorer"),o.createElement(j.Z,{variant:"body1"},"View and play around with available installed custom field extensions."))));return o.createElement("div",{style:pt.style},o.createElement(j.Z,{variant:"h4",component:"h2",className:He.introText},"Get started by choosing one of the options below"),o.createElement("div",{style:{display:"flex",flexFlow:"row wrap",alignItems:"flex-start",justifyContent:"center",alignContent:"flex-start"}},Lt&&Kt,nr,!Lt&&Kt,Ur))}},34812:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");S.Z=_},22983:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");S.Z=_},16715:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");S.Z=_},82726:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");S.Z=_},5075:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List");S.Z=_},34063:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PanoramaFishEye");S.Z=_},49423:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");S.Z=_},71140:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutline");S.Z=_},96401:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");S.Z=_},27057:function(Te,S,l){"use strict";var o,m=l(71600),R=l(34590);o={value:!0},S.Z=void 0;var O=R(l(2784)),D=m(l(50175)),_=(0,D.default)(O.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"}),"Web");S.Z=_},51967:function(Te,S,l){"use strict";l.d(S,{r:function(){return D}});var o=l(2784),m=l(78887),R=l(77246),O=function(){return O=Object.assign||function(_){for(var j,$=1,I=arguments.length;$<I;$++){j=arguments[$];for(var J in j)Object.prototype.hasOwnProperty.call(j,J)&&(_[J]=j[J])}return _},O.apply(this,arguments)};function D(_,j){var $=(0,m.F)({status:"not-executed",error:void 0,result:j}),I=$[0],J=$[1],z=(0,o.useRef)(),ee=(0,o.useRef)(),te=(0,R.x)({execute:function(){for(var oe=[],ye=0;ye<arguments.length;ye++)oe[ye]=arguments[ye];ee.current=oe;var F=_.apply(void 0,oe);return z.current=F,J(function(Y){return O(O({},Y),{status:"loading"})}),F.then(function(Y){F===z.current&&J(function(ve){return O(O({},ve),{status:"success",error:void 0,result:Y})})},function(Y){F===z.current&&J(function(ve){return O(O({},ve),{status:"error",error:Y})})}),F},reset:function(){J({status:"not-executed",error:void 0,result:j}),z.current=void 0,ee.current=void 0}});return[I,(0,o.useMemo)(function(){return{reset:function(){te.current.reset()},execute:function(){for(var oe,ye=[],F=0;F<arguments.length;F++)ye[F]=arguments[F];return(oe=te.current).execute.apply(oe,ye)}}},[]),{promise:z.current,lastArgs:ee.current}]}},78887:function(Te,S,l){"use strict";l.d(S,{F:function(){return R}});var o=l(2784),m=l(29862);function R(O){var D=(0,o.useState)(O),_=D[0],j=D[1],$=(0,m.t)(!0);return[_,(0,o.useCallback)(function(I){$()&&j(I)},[])]}},74182:function(Te,S,l){"use strict";l.d(S,{ZP:function(){return Ha},P6:function(){return o},Zz:function(){return ul}});var o={};l.r(o),l.d(o,{jk:function(){return Wo},TE:function(){return za},mH:function(){return js},Rc:function(){return Co},OP:function(){return qn},qt:function(){return Ct},Tx:function(){return ca},c6:function(){return Yi},ON:function(){return wa},Ek:function(){return co},f_:function(){return cs},LI:function(){return Cs},us:function(){return Xo},sm:function(){return qo},H7:function(){return Ma},nb:function(){return Qo},FZ:function(){return Bs},qX:function(){return fa},Kn:function(){return xi},pA:function(){return Ls},_4:function(){return kn},PM:function(){return fs},pp:function(){return hs},$2:function(){return ds},vk:function(){return Tn},xk:function(){return Br},um:function(){return vi},u6:function(){return C},iE:function(){return bi},N0:function(){return or},tC:function(){return Sn},iZ:function(){return vr},J2:function(){return Ar},Yp:function(){return Kn}});var m=l(2784),R=l(13888),O=l.n(R),D=l(72579),_=l.n(D),j=l(45455),$=l.n(j);function I(s){var h=s.errors;return m.createElement("div",{className:"panel panel-danger errors"},m.createElement("div",{className:"panel-heading"},m.createElement("h3",{className:"panel-title"},"Errors")),m.createElement("ul",{className:"list-group"},h.map(function(x,g){return m.createElement("li",{key:g,className:"list-group-item text-danger"},x.stack)})))}var J=l(38294),z=l(76485),ee=l.n(z),te=l(29320),oe=l.n(te),ye=l(26139),F=l.n(ye),Y=l(404);function ve(){return ve=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ve.apply(this,arguments)}function se(s,h){if(s==null)return{};var x=me(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function me(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function xe(s){var h=s.type,x=h===void 0?"default":h,g=s.icon,L=s.className,pe=se(s,["type","icon","className"]);return m.createElement("button",ve({type:"button",className:"btn btn-".concat(x," ").concat(L)},pe),m.createElement("i",{className:"glyphicon glyphicon-".concat(g)}))}function re(s){var h=s.className,x=s.onClick,g=s.disabled;return m.createElement("div",{className:"row"},m.createElement("p",{className:"col-xs-3 col-xs-offset-9 text-right ".concat(h)},m.createElement(xe,{type:"info",icon:"plus",className:"btn-add col-xs-12","aria-label":"Add",tabIndex:"0",onClick:x,disabled:g})))}var M=l(5594),Ee=l.n(M),Ne=l(13980),Ce=l.n(Ne),ze=Ce().shape({ArrayFieldTemplate:Ce().elementType,FieldTemplate:Ce().elementType,ObjectFieldTemplate:Ce().elementType,definitions:Ce().object.isRequired,rootSchema:Ce().object,fields:Ce().objectOf(Ce().elementType).isRequired,formContext:Ce().object.isRequired,widgets:Ce().objectOf(Ce().oneOfType([Ce().func,Ce().object])).isRequired}),Ge={autofocus:Ce().bool,disabled:Ce().bool,errorSchema:Ce().object,formData:Ce().any,idSchema:Ce().object,onBlur:Ce().func,onChange:Ce().func.isRequired,onFocus:Ce().func,rawErrors:Ce().arrayOf(Ce().string),readonly:Ce().bool,registry:ze.isRequired,required:Ce().bool,schema:Ce().object.isRequired,uiSchema:Ce().shape({"ui:options":Ce().shape({addable:Ce().bool,orderable:Ce().bool,removable:Ce().bool})})},ht=l(37164);function st(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?st=function(x){return typeof x}:st=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},st(s)}function Ye(s,h){if(s==null)return{};var x=Et(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function Et(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function rr(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Ue(s,L,x[L])})}return s}function mt(s){return Ze(s)||gt(s)||Mt()}function Mt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function gt(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function Ze(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function bt(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function et(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function he(s,h,x){return h&&et(s.prototype,h),x&&et(s,x),s}function Ie(s,h){return h&&(st(h)==="object"||typeof h=="function")?h:_t(s)}function ft(s){return ft=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},ft(s)}function _t(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Vt(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Cr(s,h)}function Cr(s,h){return Cr=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Cr(s,h)}function Ue(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function K(s){var h=s.TitleField,x=s.idSchema,g=s.title,L=s.required;if(!g)return null;var pe="".concat(x.$id,"__title");return m.createElement(h,{id:pe,title:g,required:L})}function Z(s){var h=s.DescriptionField,x=s.idSchema,g=s.description;if(!g)return null;var L="".concat(x.$id,"__description");return m.createElement(h,{id:L,description:g})}function Q(s){var h={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return m.createElement("div",{key:s.key,className:s.className},m.createElement("div",{className:s.hasToolbar?"col-xs-9":"col-xs-12"},s.children),s.hasToolbar&&m.createElement("div",{className:"col-xs-3 array-item-toolbox"},m.createElement("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"}},(s.hasMoveUp||s.hasMoveDown)&&m.createElement(xe,{icon:"arrow-up","aria-label":"Move up",className:"array-item-move-up",tabIndex:"-1",style:h,disabled:s.disabled||s.readonly||!s.hasMoveUp,onClick:s.onReorderClick(s.index,s.index-1)}),(s.hasMoveUp||s.hasMoveDown)&&m.createElement(xe,{icon:"arrow-down",className:"array-item-move-down","aria-label":"Move down",tabIndex:"-1",style:h,disabled:s.disabled||s.readonly||!s.hasMoveDown,onClick:s.onReorderClick(s.index,s.index+1)}),s.hasRemove&&m.createElement(xe,{type:"danger",icon:"remove","aria-label":"Remove",className:"array-item-remove",tabIndex:"-1",style:h,disabled:s.disabled||s.readonly,onClick:s.onDropIndexClick(s.index)}))))}function ne(s){return m.createElement("fieldset",{className:s.className,id:s.idSchema.$id},m.createElement(K,{key:"array-field-title-".concat(s.idSchema.$id),TitleField:s.TitleField,idSchema:s.idSchema,title:s.uiSchema["ui:title"]||s.title,required:s.required}),(s.uiSchema["ui:description"]||s.schema.description)&&m.createElement("div",{className:"field-description",key:"field-description-".concat(s.idSchema.$id)},s.uiSchema["ui:description"]||s.schema.description),m.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(s.idSchema.$id)},s.items&&s.items.map(Q)),s.canAdd&&m.createElement(re,{className:"array-item-add",onClick:s.onAddClick,disabled:s.disabled||s.readonly}))}function _e(s){return m.createElement("fieldset",{className:s.className,id:s.idSchema.$id},m.createElement(K,{key:"array-field-title-".concat(s.idSchema.$id),TitleField:s.TitleField,idSchema:s.idSchema,title:s.uiSchema["ui:title"]||s.title,required:s.required}),(s.uiSchema["ui:description"]||s.schema.description)&&m.createElement(Z,{key:"array-field-description-".concat(s.idSchema.$id),DescriptionField:s.DescriptionField,idSchema:s.idSchema,description:s.uiSchema["ui:description"]||s.schema.description}),m.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(s.idSchema.$id)},s.items&&s.items.map(function(h){return Q(h)})),s.canAdd&&m.createElement(re,{className:"array-item-add",onClick:s.onAddClick,disabled:s.disabled||s.readonly}))}function Xe(){return(0,ht.x0)()}function lt(s){return Array.isArray(s)?s.map(function(h){return{key:Xe(),item:h}}):[]}function kt(s){return s.map(function(h){return h.item})}var Qt=function(s){Vt(h,s);function h(x){var g;bt(this,h),g=Ie(this,ft(h).call(this,x)),Ue(_t(g),"_getNewFormDataRow",function(){var Qe=g.props,tt=Qe.schema,ut=Qe.registry,wt=ut===void 0?Yi():ut,Ot=wt.rootSchema,a=tt.items;return Bs(tt)&&za(tt)&&(a=tt.additionalItems),ca(a,void 0,Ot)}),Ue(_t(g),"onAddClick",function(Qe){Qe&&Qe.preventDefault();var tt=g.props.onChange,ut={key:Xe(),item:g._getNewFormDataRow()},wt=[].concat(mt(g.state.keyedFormData),[ut]);g.setState({keyedFormData:wt,updatedKeyedFormData:!0},function(){return tt(kt(wt))})}),Ue(_t(g),"onAddIndexClick",function(Qe){return function(tt){tt&&tt.preventDefault();var ut=g.props.onChange,wt={key:Xe(),item:g._getNewFormDataRow()},Ot=mt(g.state.keyedFormData);Ot.splice(Qe,0,wt),g.setState({keyedFormData:Ot,updatedKeyedFormData:!0},function(){return ut(kt(Ot))})}}),Ue(_t(g),"onDropIndexClick",function(Qe){return function(tt){tt&&tt.preventDefault();var ut=g.props.onChange,wt=g.state.keyedFormData,Ot;if(g.props.errorSchema){Ot={};var a=g.props.errorSchema;for(var e in a)e=parseInt(e),e<Qe?Ot[e]=a[e]:e>Qe&&(Ot[e-1]=a[e])}var t=wt.filter(function(r,u){return u!==Qe});g.setState({keyedFormData:t,updatedKeyedFormData:!0},function(){return ut(kt(t),Ot)})}}),Ue(_t(g),"onReorderClick",function(Qe,tt){return function(ut){ut&&(ut.preventDefault(),ut.target.blur());var wt=g.props.onChange,Ot;if(g.props.errorSchema){Ot={};var a=g.props.errorSchema;for(var e in a)e==Qe?Ot[tt]=a[Qe]:e==tt?Ot[Qe]=a[tt]:Ot[e]=a[e]}var t=g.state.keyedFormData;function r(){var v=t.slice();return v.splice(Qe,1),v.splice(tt,0,t[Qe]),v}var u=r();g.setState({keyedFormData:u},function(){return wt(kt(u),Ot)})}}),Ue(_t(g),"onChangeForIndex",function(Qe){return function(tt,ut){var wt=g.props,Ot=wt.formData,a=wt.onChange,e=Ot.map(function(t,r){var u=typeof tt=="undefined"?null:tt;return Qe===r?u:t});a(e,ut&&g.props.errorSchema&&rr({},g.props.errorSchema,Ue({},Qe,ut)))}}),Ue(_t(g),"onSelectChange",function(Qe){g.props.onChange(Qe)});var L=x.formData,pe=lt(L);return g.state={keyedFormData:pe,updatedKeyedFormData:!1},g}return he(h,[{key:"isItemRequired",value:function(g){return Array.isArray(g.type)?!Ee()(g.type,"null"):g.type!=="null"}},{key:"canAddItem",value:function(g){var L=this.props,pe=L.schema,Qe=L.uiSchema,tt=Cs(Qe),ut=tt.addable;return ut!==!1&&(pe.maxItems!==void 0?ut=g.length<pe.maxItems:ut=!0),ut}},{key:"render",value:function(){var g=this.props,L=g.schema,pe=g.uiSchema,Qe=g.idSchema,tt=g.registry,ut=tt===void 0?Yi():tt,wt=ut.rootSchema;if(!L.hasOwnProperty("items")){var Ot=ut.fields,a=Ot.UnsupportedField;return m.createElement(a,{schema:L,idSchema:Qe,reason:"Missing items definition"})}return Bs(L)?this.renderFixedArray():Qo(L,pe,wt)?this.renderFiles():fa(L,wt)?this.renderMultiSelect():this.renderNormalArray()}},{key:"renderNormalArray",value:function(){var g=this,L=this.props,pe=L.schema,Qe=L.uiSchema,tt=L.errorSchema,ut=L.idSchema,wt=L.name,Ot=L.required,a=L.disabled,e=L.readonly,t=L.autofocus,r=L.registry,u=r===void 0?Yi():r,v=L.onBlur,A=L.onFocus,B=L.idPrefix,G=L.rawErrors,de=pe.title===void 0?wt:pe.title,fe=u.ArrayFieldTemplate,ke=u.rootSchema,ot=u.fields,dt=u.formContext,Pt=ot.TitleField,zt=ot.DescriptionField,Zt=C(pe.items,ke),sr=kt(this.state.keyedFormData),qt={canAdd:this.canAddItem(sr),items:this.state.keyedFormData.map(function(Dr,nn){var qr=Dr.key,hi=Dr.item,to=C(pe.items,ke,hi),ho=tt?tt[nn]:void 0,As=ut.$id+"_"+nn,na=vr(to,As,ke,hi,B);return g.renderArrayFieldItem({key:qr,index:nn,canMoveUp:nn>0,canMoveDown:nn<sr.length-1,itemSchema:to,itemIdSchema:na,itemErrorSchema:ho,itemData:hi,itemUiSchema:Qe.items,autofocus:t&&nn===0,onBlur:v,onFocus:A})}),className:"field field-array field-array-of-".concat(Zt.type),DescriptionField:zt,disabled:a,idSchema:ut,uiSchema:Qe,onAddClick:this.onAddClick,readonly:e,required:Ot,schema:pe,title:de,TitleField:Pt,formContext:dt,formData:sr,rawErrors:G,registry:u},hn=Qe["ui:ArrayFieldTemplate"]||fe||_e;return m.createElement(hn,qt)}},{key:"renderMultiSelect",value:function(){var g=this.props,L=g.schema,pe=g.idSchema,Qe=g.uiSchema,tt=g.formData,ut=g.disabled,wt=g.readonly,Ot=g.required,a=g.placeholder,e=g.autofocus,t=g.onBlur,r=g.onFocus,u=g.registry,v=u===void 0?Yi():u,A=g.rawErrors,B=g.name,G=this.props.formData,de=v.widgets,fe=v.rootSchema,ke=v.formContext,ot=C(L.items,fe,tt),dt=L.title||B,Pt=hs(ot),zt=rr({},Cs(Qe),{enumOptions:Pt}),Zt=zt.widget,sr=Zt===void 0?"select":Zt,qt=Ye(zt,["widget"]),hn=Xo(L,sr,de);return m.createElement(hn,{id:pe&&pe.$id,multiple:!0,onChange:this.onSelectChange,onBlur:t,onFocus:r,options:qt,schema:L,registry:v,value:G,disabled:ut,readonly:wt,required:Ot,label:dt,placeholder:a,formContext:ke,autofocus:e,rawErrors:A})}},{key:"renderFiles",value:function(){var g=this.props,L=g.schema,pe=g.uiSchema,Qe=g.idSchema,tt=g.name,ut=g.disabled,wt=g.readonly,Ot=g.autofocus,a=g.onBlur,e=g.onFocus,t=g.registry,r=t===void 0?Yi():t,u=g.rawErrors,v=L.title||tt,A=this.props.formData,B=r.widgets,G=r.formContext,de=Cs(pe),fe=de.widget,ke=fe===void 0?"files":fe,ot=Ye(de,["widget"]),dt=Xo(L,ke,B);return m.createElement(dt,{options:ot,id:Qe&&Qe.$id,multiple:!0,onChange:this.onSelectChange,onBlur:a,onFocus:e,schema:L,title:v,value:A,disabled:ut,readonly:wt,formContext:G,autofocus:Ot,rawErrors:u})}},{key:"renderFixedArray",value:function(){var g=this,L=this.props,pe=L.schema,Qe=L.uiSchema,tt=L.formData,ut=L.errorSchema,wt=L.idPrefix,Ot=L.idSchema,a=L.name,e=L.required,t=L.disabled,r=L.readonly,u=L.autofocus,v=L.registry,A=v===void 0?Yi():v,B=L.onBlur,G=L.onFocus,de=L.rawErrors,fe=pe.title||a,ke=this.props.formData,ot=A.ArrayFieldTemplate,dt=A.rootSchema,Pt=A.fields,zt=A.formContext,Zt=Pt.TitleField,sr=pe.items.map(function(nn,qr){return C(nn,dt,tt[qr])}),qt=za(pe)?C(pe.additionalItems,dt,tt):null;(!ke||ke.length<sr.length)&&(ke=ke||[],ke=ke.concat(new Array(sr.length-ke.length)));var hn={canAdd:this.canAddItem(ke)&&qt,className:"field field-array field-array-fixed-items",disabled:t,idSchema:Ot,formData:tt,items:this.state.keyedFormData.map(function(nn,qr){var hi=nn.key,to=nn.item,ho=qr>=sr.length,As=ho?C(pe.additionalItems,dt,to):sr[qr],na=Ot.$id+"_"+qr,Us=vr(As,na,dt,to,wt),Na=ho?Qe.additionalItems||{}:Array.isArray(Qe.items)?Qe.items[qr]:Qe.items||{},Vs=ut?ut[qr]:void 0;return g.renderArrayFieldItem({key:hi,index:qr,canRemove:ho,canMoveUp:qr>=sr.length+1,canMoveDown:ho&&qr<ke.length-1,itemSchema:As,itemData:to,itemUiSchema:Na,itemIdSchema:Us,itemErrorSchema:Vs,autofocus:u&&qr===0,onBlur:B,onFocus:G})}),onAddClick:this.onAddClick,readonly:r,required:e,schema:pe,uiSchema:Qe,title:fe,TitleField:Zt,formContext:zt,rawErrors:de},Dr=Qe["ui:ArrayFieldTemplate"]||ot||ne;return m.createElement(Dr,hn)}},{key:"renderArrayFieldItem",value:function(g){var L=g.key,pe=g.index,Qe=g.canRemove,tt=Qe===void 0?!0:Qe,ut=g.canMoveUp,wt=ut===void 0?!0:ut,Ot=g.canMoveDown,a=Ot===void 0?!0:Ot,e=g.itemSchema,t=g.itemData,r=g.itemUiSchema,u=g.itemIdSchema,v=g.itemErrorSchema,A=g.autofocus,B=g.onBlur,G=g.onFocus,de=g.rawErrors,fe=this.props,ke=fe.disabled,ot=fe.readonly,dt=fe.uiSchema,Pt=fe.registry,zt=Pt===void 0?Yi():Pt,Zt=zt.fields.SchemaField,sr=rr({orderable:!0,removable:!0},dt["ui:options"]),qt=sr.orderable,hn=sr.removable,Dr={moveUp:qt&&wt,moveDown:qt&&a,remove:hn&&tt};return Dr.toolbar=Object.keys(Dr).some(function(nn){return Dr[nn]}),{children:m.createElement(Zt,{index:pe,schema:e,uiSchema:r,formData:t,errorSchema:v,idSchema:u,required:this.isItemRequired(e),onChange:this.onChangeForIndex(pe),onBlur:B,onFocus:G,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,autofocus:A,rawErrors:de}),className:"array-item",disabled:ke,hasToolbar:Dr.toolbar,hasMoveUp:Dr.moveUp,hasMoveDown:Dr.moveDown,hasRemove:Dr.remove,index:pe,key:L,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:ot}}},{key:"itemTitle",get:function(){var g=this.props.schema;return g.items.title||g.items.description||"Item"}}],[{key:"getDerivedStateFromProps",value:function(g,L){if(L.updatedKeyedFormData)return{updatedKeyedFormData:!1};var pe=g.formData||[],Qe=L.keyedFormData||[],tt=pe.length===Qe.length?Qe.map(function(ut,wt){return{key:ut.key,item:pe[wt]}}):lt(pe);return{keyedFormData:tt}}}]),h}(m.Component);Ue(Qt,"defaultProps",{uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1});var Yt=Qt;function Ht(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Xt(s,L,x[L])})}return s}function Xt(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function rt(s,h){if(s==null)return{};var x=xt(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function xt(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function jt(s){var h=s.schema,x=s.name,g=s.uiSchema,L=s.idSchema,pe=s.formData,Qe=s.registry,tt=Qe===void 0?Yi():Qe,ut=s.required,wt=s.disabled,Ot=s.readonly,a=s.autofocus,e=s.onChange,t=s.onFocus,r=s.onBlur,u=s.rawErrors,v=h.title,A=tt.widgets,B=tt.formContext,G=tt.fields,de=Cs(g),fe=de.widget,ke=fe===void 0?"checkbox":fe,ot=rt(de,["widget"]),dt=Xo(h,ke,A),Pt;return Array.isArray(h.oneOf)?Pt=hs({oneOf:h.oneOf.map(function(zt){return Ht({},zt,{title:zt.title||(zt.const===!0?"Yes":"No")})})}):Pt=hs({enum:h.enum||[!0,!1],enumNames:h.enumNames||(h.enum&&h.enum[0]===!1?["No","Yes"]:["Yes","No"])}),m.createElement(dt,{options:Ht({},ot,{enumOptions:Pt}),schema:h,uiSchema:g,id:L&&L.$id,onChange:e,onFocus:t,onBlur:r,label:v===void 0?x:v,value:pe,required:ut,disabled:wt,readonly:Ot,registry:tt,formContext:B,autofocus:a,rawErrors:u,DescriptionField:G.DescriptionField})}jt.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var fr=jt;function Or(s){var h=s.id,x=s.description;return x?typeof x=="string"?m.createElement("p",{id:h,className:"field-description"},x):m.createElement("div",{id:h,className:"field-description"},x):null}var xr=Or;function ar(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ar=function(x){return typeof x}:ar=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},ar(s)}function Rt(){return Rt=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Rt.apply(this,arguments)}function jr(s,h){if(s==null)return{};var x=yr(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function yr(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function dr(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function pr(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function cr(s,h,x){return h&&pr(s.prototype,h),x&&pr(s,x),s}function Wr(s,h){return h&&(ar(h)==="object"||typeof h=="function")?h:Le(s)}function Tr(s){return Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Tr(s)}function Le(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Gt(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&ir(s,h)}function ir(s,h){return ir=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},ir(s,h)}function lr(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var Sr=function(s){Gt(h,s);function h(x){var g;dr(this,h),g=Wr(this,Tr(h).call(this,x)),lr(Le(g),"onOptionChange",function(tt){var ut=parseInt(tt,10),wt=g.props,Ot=wt.formData,a=wt.onChange,e=wt.options,t=wt.registry,r=t.rootSchema,u=C(e[ut],r,Ot),v=void 0;if(qo(Ot)==="object"&&(u.type==="object"||u.properties)){v=Object.assign({},Ot);var A=e.slice();A.splice(ut,1);var B=!0,G=!1,de=void 0;try{for(var fe=A[Symbol.iterator](),ke;!(B=(ke=fe.next()).done);B=!0){var ot=ke.value;if(ot.properties)for(var dt in ot.properties)v.hasOwnProperty(dt)&&delete v[dt]}}catch(Pt){G=!0,de=Pt}finally{try{!B&&fe.return!=null&&fe.return()}finally{if(G)throw de}}}a(ca(e[ut],v,r)),g.setState({selectedOption:parseInt(tt,10)})});var L=g.props,pe=L.formData,Qe=L.options;return g.state={selectedOption:g.getMatchingOption(pe,Qe)},g}return cr(h,[{key:"componentDidUpdate",value:function(g,L){if(!Ct(this.props.formData,g.formData)&&this.props.idSchema.$id===g.idSchema.$id){var pe=this.getMatchingOption(this.props.formData,this.props.options);if(!L||pe===this.state.selectedOption)return;this.setState({selectedOption:pe})}}},{key:"getMatchingOption",value:function(g,L){var pe=this.props.registry.rootSchema,Qe=co(g,L,pe);return Qe!==0?Qe:this&&this.state?this.state.selectedOption:0}},{key:"render",value:function(){var g=this.props,L=g.baseType,pe=g.disabled,Qe=g.errorSchema,tt=g.formData,ut=g.idPrefix,wt=g.idSchema,Ot=g.onBlur,a=g.onChange,e=g.onFocus,t=g.options,r=g.registry,u=g.uiSchema,v=g.schema,A=r.fields.SchemaField,B=r.widgets,G=this.state.selectedOption,de=Cs(u),fe=de.widget,ke=fe===void 0?"select":fe,ot=jr(de,["widget"]),dt=Xo({type:"number"},ke,B),Pt=t[G]||null,zt;Pt&&(zt=Pt.type?Pt:Object.assign({},Pt,{type:L}));var Zt=t.map(function(sr,qt){return{label:sr.title||"Option ".concat(qt+1),value:qt}});return m.createElement("div",{className:"panel panel-default panel-body"},m.createElement("div",{className:"form-group"},m.createElement(dt,Rt({id:"".concat(wt.$id).concat(v.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:Ot,onFocus:e,value:G,options:{enumOptions:Zt}},ot))),Pt!==null&&m.createElement(A,{schema:zt,uiSchema:u,errorSchema:Qe,idSchema:wt,idPrefix:ut,formData:tt,onChange:a,onBlur:Ot,onFocus:e,registry:r,disabled:pe}))}}]),h}(m.Component);Sr.defaultProps={disabled:!1,errorSchema:{},idSchema:{},uiSchema:{}};var _r=Sr;function Er(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Er=function(x){return typeof x}:Er=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Er(s)}function Zr(){return Zr=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Zr.apply(this,arguments)}function Ir(s,h){if(s==null)return{};var x=Rr(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function Rr(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function Xr(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function fn(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Nr(s,h,x){return h&&fn(s.prototype,h),x&&fn(s,x),s}function ln(s,h){return h&&(Er(h)==="object"||typeof h=="function")?h:vn(s)}function mn(s){return mn=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},mn(s)}function vn(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function gn(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&un(s,h)}function un(s,h){return un=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},un(s,h)}function cn(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var Yr=/\.([0-9]*0)*$/,yn=/[0.]0*$/,sn=function(s){gn(h,s);function h(x){var g;return Xr(this,h),g=ln(this,mn(h).call(this,x)),cn(vn(g),"handleChange",function(L){g.setState({lastValue:L}),"".concat(L).charAt(0)==="."&&(L="0".concat(L));var pe=typeof L=="string"&&L.match(Yr)?js(L.replace(yn,"")):js(L);g.props.onChange(pe)}),g.state={lastValue:x.value},g}return Nr(h,[{key:"render",value:function(){var g=this.props.registry.fields.StringField,L=this.props,pe=L.formData,Qe=Ir(L,["formData"]),tt=this.state.lastValue,ut=pe;if(typeof tt=="string"&&typeof ut=="number"){var wt=new RegExp("".concat(ut).replace(".","\\.")+"\\.?0*$");tt.match(wt)&&(ut=tt)}return m.createElement(g,Zr({},Qe,{formData:ut,onChange:this.handleChange}))}}]),h}(m.Component);sn.defaultProps={uiSchema:{}};var Qr=sn;function En(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?En=function(x){return typeof x}:En=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},En(s)}function bn(){return bn=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},bn.apply(this,arguments)}function oi(s){return y(s)||Pe(s)||Ki()}function Ki(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Pe(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function y(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function T(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Wt(s,L,x[L])})}return s}function V(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function q(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function we(s,h,x){return h&&q(s.prototype,h),x&&q(s,x),s}function ge(s,h){return h&&(En(h)==="object"||typeof h=="function")?h:je(s)}function Ve(s){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Ve(s)}function je(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function At(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Ft(s,h)}function Ft(s,h){return Ft=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Ft(s,h)}function Wt(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Pr(s){var h=s.TitleField,x=s.DescriptionField;return m.createElement("fieldset",{id:s.idSchema.$id},(s.uiSchema["ui:title"]||s.title)&&m.createElement(h,{id:"".concat(s.idSchema.$id,"__title"),title:s.title||s.uiSchema["ui:title"],required:s.required,formContext:s.formContext}),s.description&&m.createElement(x,{id:"".concat(s.idSchema.$id,"__description"),description:s.description,formContext:s.formContext}),s.properties.map(function(g){return g.content}),Co(s.schema,s.uiSchema,s.formData)&&m.createElement(re,{className:"object-property-expand",onClick:s.onAddClick(s.schema),disabled:s.disabled||s.readonly}))}var mr=function(s){At(h,s);function h(){var x,g;V(this,h);for(var L=arguments.length,pe=new Array(L),Qe=0;Qe<L;Qe++)pe[Qe]=arguments[Qe];return g=ge(this,(x=Ve(h)).call.apply(x,[this].concat(pe))),Wt(je(g),"state",{wasPropertyKeyModified:!1,additionalProperties:{}}),Wt(je(g),"onPropertyChange",function(tt){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function(wt,Ot){wt===void 0&&ut&&(wt="");var a=T({},g.props.formData,Wt({},tt,wt));g.props.onChange(a,Ot&&g.props.errorSchema&&T({},g.props.errorSchema,Wt({},tt,Ot)))}}),Wt(je(g),"onDropPropertyClick",function(tt){return function(ut){ut.preventDefault();var wt=g.props,Ot=wt.onChange,a=wt.formData,e=T({},a);delete e[tt],Ot(e)}}),Wt(je(g),"getAvailableKey",function(tt,ut){for(var wt=0,Ot=tt;ut.hasOwnProperty(Ot);)Ot="".concat(tt,"-").concat(++wt);return Ot}),Wt(je(g),"onKeyChange",function(tt){return function(ut,wt){if(tt!==ut){ut=g.getAvailableKey(ut,g.props.formData);var Ot=T({},g.props.formData),a=Wt({},tt,ut),e=Object.keys(Ot).map(function(r){var u=a[r]||r;return Wt({},u,Ot[r])}),t=Object.assign.apply(Object,[{}].concat(oi(e)));g.setState({wasPropertyKeyModified:!0}),g.props.onChange(t,wt&&g.props.errorSchema&&T({},g.props.errorSchema,Wt({},ut,wt)))}}}),Wt(je(g),"handleAddClick",function(tt){return function(){var ut=tt.additionalProperties.type,wt=T({},g.props.formData);if(tt.additionalProperties.hasOwnProperty("$ref")){var Ot=g.props.registry,a=Ot===void 0?Yi():Ot,e=C({$ref:tt.additionalProperties.$ref},a.rootSchema,g.props.formData);ut=e.type}wt[g.getAvailableKey("newKey",wt)]=g.getDefaultValue(ut),g.props.onChange(wt)}}),g}return we(h,[{key:"isRequired",value:function(g){var L=this.props.schema;return Array.isArray(L.required)&&L.required.indexOf(g)!==-1}},{key:"getDefaultValue",value:function(g){switch(g){case"string":return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return"New Value"}}},{key:"render",value:function(){var g=this,L=this.props,pe=L.uiSchema,Qe=L.formData,tt=L.errorSchema,ut=L.idSchema,wt=L.name,Ot=L.required,a=L.disabled,e=L.readonly,t=L.idPrefix,r=L.onBlur,u=L.onFocus,v=L.registry,A=v===void 0?Yi():v,B=A.rootSchema,G=A.fields,de=A.formContext,fe=G.SchemaField,ke=G.TitleField,ot=G.DescriptionField,dt=C(this.props.schema,B,Qe),Pt=dt.title===void 0?wt:dt.title,zt=pe["ui:description"]||dt.description,Zt;try{var sr=Object.keys(dt.properties||{});Zt=ds(sr,pe["ui:order"])}catch(Dr){return m.createElement("div",null,m.createElement("p",{className:"config-error",style:{color:"red"}},"Invalid ",wt||"root"," object field configuration:",m.createElement("em",null,Dr.message),"."),m.createElement("pre",null,JSON.stringify(dt)))}var qt=pe["ui:ObjectFieldTemplate"]||A.ObjectFieldTemplate||Pr,hn={title:pe["ui:title"]||Pt,description:zt,TitleField:ke,DescriptionField:ot,properties:Zt.map(function(Dr){var nn=dt.properties[Dr].hasOwnProperty(Wo),qr=nn?pe.additionalProperties:pe[Dr],hi=qr&&qr["ui:widget"]==="hidden";return{content:m.createElement(fe,{key:Dr,name:Dr,required:g.isRequired(Dr),schema:dt.properties[Dr],uiSchema:qr,errorSchema:tt[Dr],idSchema:ut[Dr],idPrefix:t,formData:(Qe||{})[Dr],wasPropertyKeyModified:g.state.wasPropertyKeyModified,onKeyChange:g.onKeyChange(Dr),onChange:g.onPropertyChange(Dr,nn),onBlur:r,onFocus:u,registry:A,disabled:a,readonly:e,onDropPropertyClick:g.onDropPropertyClick}),name:Dr,readonly:e,disabled:a,required:Ot,hidden:hi}}),readonly:e,disabled:a,required:Ot,idSchema:ut,uiSchema:pe,schema:dt,formData:Qe,formContext:de,registry:A};return m.createElement(qt,bn({},hn,{onAddClick:this.handleAddClick}))}}]),h}(m.Component);Wt(mr,"defaultProps",{uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1});var On=mr;function Mn(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mn=function(x){return typeof x}:Mn=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Mn(s)}function zn(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Mi(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function $i(s,h,x){return h&&Mi(s.prototype,h),x&&Mi(s,x),s}function Cn(s,h){return h&&(Mn(h)==="object"||typeof h=="function")?h:Zo(s)}function Zo(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function So(s){return So=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},So(s)}function ko(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&$n(s,h)}function $n(s,h){return $n=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},$n(s,h)}function Ii(){return Ii=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Ii.apply(this,arguments)}function Mo(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Jt(s,L,x[L])})}return s}function Jt(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function be(s,h){if(s==null)return{};var x=N(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function N(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}var X="*",Me={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function Fe(s,h,x,g){var L=h["ui:field"];if(typeof L=="function")return L;if(typeof L=="string"&&L in g)return g[L];var pe=Me[cs(s)];return!pe&&(s.anyOf||s.oneOf)?function(){return null}:pe in g?g[pe]:function(){var Qe=g.UnsupportedField;return m.createElement(Qe,{schema:s,idSchema:x,reason:"Unknown field type ".concat(s.type)})}}function nt(s){var h=s.label,x=s.required,g=s.id;return h?m.createElement("label",{className:"control-label",htmlFor:g},h,x&&m.createElement("span",{className:"required"},X)):null}function ct(s){var h=s.id,x=s.label,g=s.onChange;return m.createElement("input",{className:"form-control",type:"text",id:h,onBlur:function(pe){return g(pe.target.value)},defaultValue:x})}function Bt(s){var h=s.id,x=s.help;return x?typeof x=="string"?m.createElement("p",{id:h,className:"help-block"},x):m.createElement("div",{id:h,className:"help-block"},x):null}function Nt(s){var h=s.errors,x=h===void 0?[]:h;return x.length===0?null:m.createElement("div",null,m.createElement("ul",{className:"error-detail bs-callout bs-callout-info"},x.filter(function(g){return!!g}).map(function(g,L){return m.createElement("li",{className:"text-danger",key:L},g)})))}function Lr(s){var h=s.id,x=s.label,g=s.children,L=s.errors,pe=s.help,Qe=s.description,tt=s.hidden,ut=s.required,wt=s.displayLabel;return tt?m.createElement("div",{className:"hidden"},g):m.createElement(Kr,s,wt&&m.createElement(nt,{label:x,required:ut,id:h}),wt&&Qe?Qe:null,g,L,pe)}Lr.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};function Kr(s){var h=s.id,x=s.classNames,g=s.disabled,L=s.label,pe=s.onKeyChange,Qe=s.onDropPropertyClick,tt=s.readonly,ut=s.required,wt=s.schema,Ot="".concat(L," Key"),a=wt.hasOwnProperty(Wo);return a?m.createElement("div",{className:x},m.createElement("div",{className:"row"},m.createElement("div",{className:"col-xs-5 form-additional"},m.createElement("div",{className:"form-group"},m.createElement(nt,{label:Ot,required:ut,id:"".concat(h,"-key")}),m.createElement(ct,{label:L,required:ut,id:"".concat(h,"-key"),onChange:pe}))),m.createElement("div",{className:"form-additional form-group col-xs-5"},s.children),m.createElement("div",{className:"col-xs-2"},m.createElement(xe,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:g||tt,onClick:Qe(L)})))):m.createElement("div",{className:x},s.children)}function In(s){var h=s.uiSchema,x=s.formData,g=s.errorSchema,L=s.idPrefix,pe=s.name,Qe=s.onChange,tt=s.onKeyChange,ut=s.onDropPropertyClick,wt=s.required,Ot=s.registry,a=Ot===void 0?Yi():Ot,e=s.wasPropertyKeyModified,t=e===void 0?!1:e,r=a.rootSchema,u=a.fields,v=a.formContext,A=h["ui:FieldTemplate"]||a.FieldTemplate||Lr,B=s.idSchema,G=C(s.schema,r,x);B=fs(vr(G,null,r,x,L),B);var de=Fe(G,h,B,u),fe=u.DescriptionField,ke=Boolean(s.disabled||h["ui:disabled"]),ot=Boolean(s.readonly||h["ui:readonly"]||s.schema.readOnly||G.readOnly),dt=Boolean(s.autofocus||h["ui:autofocus"]);if(Object.keys(G).length===0)return null;var Pt=wa(G,h,r),zt=g.__errors,Zt=be(g,["__errors"]),sr=m.createElement(de,Ii({},s,{idSchema:B,schema:G,uiSchema:Mo({},h,{classNames:void 0}),disabled:ke,readonly:ot,autofocus:dt,errorSchema:Zt,formContext:v,rawErrors:zt})),qt=B.$id,hn;t?hn=pe:hn=h["ui:title"]||s.schema.title||G.title||pe;var Dr=h["ui:description"]||s.schema.description||G.description,nn=zt,qr=h["ui:help"],hi=h["ui:widget"]==="hidden",to=["form-group","field","field-".concat(G.type),nn&&nn.length>0?"field-error has-error has-danger":"",h.classNames].join(" ").trim(),ho={description:m.createElement(fe,{id:qt+"__description",description:Dr,formContext:v}),rawDescription:Dr,help:m.createElement(Bt,{id:qt+"__help",help:qr}),rawHelp:typeof qr=="string"?qr:void 0,errors:m.createElement(Nt,{errors:nn}),rawErrors:nn,id:qt,label:hn,hidden:hi,onChange:Qe,onKeyChange:tt,onDropPropertyClick:ut,required:wt,disabled:ke,readonly:ot,displayLabel:Pt,classNames:to,formContext:v,formData:x,fields:u,schema:G,uiSchema:h,registry:a},As=a.fields.AnyOfField,na=a.fields.OneOfField;return m.createElement(A,ho,m.createElement(m.Fragment,null,sr,G.anyOf&&!Ls(G)&&m.createElement(As,{disabled:ke,errorSchema:g,formData:x,idPrefix:L,idSchema:B,onBlur:s.onBlur,onChange:s.onChange,onFocus:s.onFocus,options:G.anyOf.map(function(Us){return C(Us,r,x)}),baseType:G.type,registry:a,schema:G,uiSchema:h}),G.oneOf&&!Ls(G)&&m.createElement(na,{disabled:ke,errorSchema:g,formData:x,idPrefix:L,idSchema:B,onBlur:s.onBlur,onChange:s.onChange,onFocus:s.onFocus,options:G.oneOf.map(function(Us){return C(Us,r,x)}),baseType:G.type,registry:a,schema:G,uiSchema:h})))}var wi=function(s){ko(h,s);function h(){return zn(this,h),Cn(this,So(h).apply(this,arguments))}return $i(h,[{key:"shouldComponentUpdate",value:function(g,L){return!Ct(this.props,g)}},{key:"render",value:function(){return In(this.props)}}]),h}(m.Component);wi.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1};var Ci=wi;function si(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Si(s,L,x[L])})}return s}function Si(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function zi(s,h){if(s==null)return{};var x=ys(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function ys(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function rs(s){var h=s.schema,x=s.name,g=s.uiSchema,L=s.idSchema,pe=s.formData,Qe=s.required,tt=s.disabled,ut=s.readonly,wt=s.autofocus,Ot=s.onChange,a=s.onBlur,e=s.onFocus,t=s.registry,r=t===void 0?Yi():t,u=s.rawErrors,v=h.title,A=h.format,B=r.widgets,G=r.formContext,de=Ls(h)&&hs(h),fe=de?"select":"text";A&&Ma(h,A,B)&&(fe=A);var ke=Cs(g),ot=ke.widget,dt=ot===void 0?fe:ot,Pt=ke.placeholder,zt=Pt===void 0?"":Pt,Zt=zi(ke,["widget","placeholder"]),sr=Xo(h,dt,B);return m.createElement(sr,{options:si({},Zt,{enumOptions:de}),schema:h,uiSchema:g,id:L&&L.$id,label:v===void 0?x:v,value:pe,onChange:Ot,onBlur:a,onFocus:e,required:Qe,disabled:tt,readonly:ut,formContext:G,autofocus:wt,registry:r,placeholder:zt,rawErrors:u})}rs.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var va=rs,Uo="*";function zs(s){var h=s.id,x=s.title,g=s.required;return m.createElement("legend",{id:h},x,g&&m.createElement("span",{className:"required"},Uo))}var pt=zs;function He(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?He=function(x){return typeof x}:He=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},He(s)}function Lt(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Kt(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function nr(s,h,x){return h&&Kt(s.prototype,h),x&&Kt(s,x),s}function Ur(s,h){return h&&(He(h)==="object"||typeof h=="function")?h:Fr(s)}function Fr(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function en(s){return en=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},en(s)}function ai(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Hn(s,h)}function Hn(s,h){return Hn=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Hn(s,h)}var Yn=function(s){ai(h,s);function h(){return Lt(this,h),Ur(this,en(h).apply(this,arguments))}return nr(h,[{key:"componentDidMount",value:function(){this.props.formData===void 0&&this.props.onChange(null)}},{key:"render",value:function(){return null}}]),h}(m.Component),rn=Yn;function tn(s){var h=s.schema,x=s.idSchema,g=s.reason;return m.createElement("div",{className:"unsupported-field"},m.createElement("p",null,"Unsupported field schema",x&&x.$id&&m.createElement("span",null," for"," field ",m.createElement("code",null,x.$id)),g&&m.createElement("em",null,": ",g),"."),h&&m.createElement("pre",null,JSON.stringify(h,null,2)))}var Zn=tn,an={AnyOfField:_r,ArrayField:Yt,BooleanField:fr,DescriptionField:xr,NumberField:Qr,ObjectField:On,OneOfField:_r,SchemaField:Ci,StringField:va,TitleField:pt,NullField:rn,UnsupportedField:Zn};function mi(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mi=function(x){return typeof x}:mi=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},mi(s)}function Ai(){return Ai=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Ai.apply(this,arguments)}function Fi(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Qi(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Xn(s,h,x){return h&&Qi(s.prototype,h),x&&Qi(s,x),s}function _n(s,h){return h&&(mi(h)==="object"||typeof h=="function")?h:An(s)}function Ri(s){return Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Ri(s)}function An(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Vo(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Hi(s,h)}function Hi(s,h){return Hi=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Hi(s,h)}function ci(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Eo(s,h){for(var x=[],g=s;g<=h;g++)x.push({value:g,label:Tn(g,2)});return x}function wo(s){return Object.keys(s).every(function(h){return s[h]!==-1})}function $o(s){var h=s.type,x=s.range,g=s.value,L=s.select,pe=s.rootId,Qe=s.disabled,tt=s.readonly,ut=s.autofocus,wt=s.registry,Ot=s.onBlur,a=pe+"_"+h,e=wt.widgets.SelectWidget;return m.createElement(e,{schema:{type:"integer"},id:a,className:"form-control",options:{enumOptions:Eo(x[0],x[1])},placeholder:h,value:g,disabled:Qe,readonly:tt,autofocus:ut,onChange:function(r){return L(h,r)},onBlur:Ot})}var fi=function(s){Vo(h,s);function h(x){var g;return Fi(this,h),g=_n(this,Ri(h).call(this,x)),ci(An(g),"onChange",function(L,pe){g.setState(ci({},L,typeof pe=="undefined"?-1:pe),function(){wo(g.state)&&g.props.onChange(Sn(g.state,g.props.time))})}),ci(An(g),"setNow",function(L){L.preventDefault();var pe=g.props,Qe=pe.time,tt=pe.disabled,ut=pe.readonly,wt=pe.onChange;if(!(tt||ut)){var Ot=Br(new Date().toJSON(),Qe);g.setState(Ot,function(){return wt(Sn(g.state,Qe))})}}),ci(An(g),"clear",function(L){L.preventDefault();var pe=g.props,Qe=pe.time,tt=pe.disabled,ut=pe.readonly,wt=pe.onChange;tt||ut||g.setState(Br("",Qe),function(){return wt(void 0)})}),g.state=Br(x.value,x.time),g}return Xn(h,[{key:"componentDidUpdate",value:function(g,L){g.value&&g.value!==Br(this.props.value,this.props.time)&&this.setState(Br(this.props.value,this.props.time))}},{key:"shouldComponentUpdate",value:function(g,L){return or(this,g,L)}},{key:"render",value:function(){var g=this,L=this.props,pe=L.id,Qe=L.disabled,tt=L.readonly,ut=L.autofocus,wt=L.registry,Ot=L.onBlur,a=L.options;return m.createElement("ul",{className:"list-inline"},this.dateElementProps.map(function(e,t){return m.createElement("li",{key:t},m.createElement($o,Ai({rootId:pe,select:g.onChange},e,{disabled:Qe,readonly:tt,registry:wt,onBlur:Ot,autofocus:ut&&t===0})))}),(a.hideNowButton!=="undefined"?!a.hideNowButton:!0)&&m.createElement("li",null,m.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow},"Now")),(a.hideClearButton!=="undefined"?!a.hideClearButton:!0)&&m.createElement("li",null,m.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear},"Clear")))}},{key:"dateElementProps",get:function(){var g=this.props,L=g.time,pe=g.options,Qe=this.state,tt=Qe.year,ut=Qe.month,wt=Qe.day,Ot=Qe.hour,a=Qe.minute,e=Qe.second,t=[{type:"year",range:pe.yearsRange,value:tt},{type:"month",range:[1,12],value:ut},{type:"day",range:[1,31],value:wt}];return L&&t.push({type:"hour",range:[0,23],value:Ot},{type:"minute",range:[0,59],value:a},{type:"second",range:[0,59],value:e}),t}}]),h}(m.Component);ci(fi,"defaultProps",{time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,new Date().getFullYear()+2]}});var ro=fi;function Pi(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){mo(s,L,x[L])})}return s}function mo(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Io(){return Io=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Io.apply(this,arguments)}function ao(s){var h=s.registry.widgets.AltDateWidget;return m.createElement(h,Io({time:!0},s))}ao.defaultProps=Pi({},ro.defaultProps,{time:!0});var Ps=ao;function Hs(s){return Ro(s)||Dn(s)||vs()}function vs(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Dn(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function Ro(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function Ji(){return Ji=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Ji.apply(this,arguments)}function Ko(s,h){if(s==null)return{};var x=qi(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function qi(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function dn(s){if(!s.id)throw console.log("No id for",s),new Error("no id for props ".concat(JSON.stringify(s)));var h=s.value,x=s.readonly,g=s.disabled,L=s.autofocus,pe=s.onBlur,Qe=s.onFocus,tt=s.options,ut=s.schema,wt=s.uiSchema,Ot=s.formContext,a=s.registry,e=s.rawErrors,t=Ko(s,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","uiSchema","formContext","registry","rawErrors"]);tt.inputType?t.type=tt.inputType:t.type||(ut.type==="number"?(t.type="number",t.step="any"):ut.type==="integer"?(t.type="number",t.step="1"):t.type="text"),tt.autocomplete&&(t.autoComplete=tt.autocomplete),ut.multipleOf&&(t.step=ut.multipleOf),typeof ut.minimum!="undefined"&&(t.min=ut.minimum),typeof ut.maximum!="undefined"&&(t.max=ut.maximum);var r=function(v){var A=v.target.value;return s.onChange(A===""?tt.emptyValue:A)};return[m.createElement("input",Ji({key:t.id,className:"form-control",readOnly:x,disabled:g,autoFocus:L,value:h==null?"":h},t,{list:ut.examples?"examples_".concat(t.id):null,onChange:r,onBlur:pe&&function(u){return pe(t.id,u.target.value)},onFocus:Qe&&function(u){return Qe(t.id,u.target.value)}})),ut.examples?m.createElement("datalist",{key:"datalist_".concat(t.id),id:"examples_".concat(t.id)},Hs(new Set(ut.examples.concat(ut.default?[ut.default]:[]))).map(function(u){return m.createElement("option",{key:u,value:u})})):null]}dn.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};var Ts=dn;function Ti(s){var h=s.schema,x=s.id,g=s.value,L=s.disabled,pe=s.readonly,Qe=s.label,tt=s.autofocus,ut=s.onBlur,wt=s.onFocus,Ot=s.onChange,a=s.DescriptionField,e=bi(h);return m.createElement("div",{className:"checkbox ".concat(L||pe?"disabled":"")},h.description&&m.createElement(a,{description:h.description}),m.createElement("label",null,m.createElement("input",{type:"checkbox",id:x,checked:typeof g=="undefined"?!1:g,required:e,disabled:L||pe,autoFocus:tt,onChange:function(r){return Ot(r.target.checked)},onBlur:ut&&function(t){return ut(x,t.target.checked)},onFocus:wt&&function(t){return wt(x,t.target.checked)}}),m.createElement("span",null,Qe)))}Ti.defaultProps={autofocus:!1};var zo=Ti;function gi(s,h,x){var g=x.indexOf(s),L=h.slice(0,g).concat(s,h.slice(g));return L.sort(function(pe,Qe){return x.indexOf(pe)>x.indexOf(Qe)})}function Bn(s,h){return h.filter(function(x){return x!==s})}function Oo(s){var h=s.id,x=s.disabled,g=s.options,L=s.value,pe=s.autofocus,Qe=s.readonly,tt=s.onChange,ut=g.enumOptions,wt=g.enumDisabled,Ot=g.inline;return m.createElement("div",{className:"checkboxes",id:h},ut.map(function(a,e){var t=L.indexOf(a.value)!==-1,r=wt&&wt.indexOf(a.value)!=-1,u=x||r||Qe?"disabled":"",v=m.createElement("span",null,m.createElement("input",{type:"checkbox",id:"".concat(h,"_").concat(e),checked:t,disabled:x||r||Qe,autoFocus:pe&&e===0,onChange:function(B){var G=ut.map(function(de){var fe=de.value;return fe});B.target.checked?tt(gi(a.value,L,G)):tt(Bn(a.value,L))}}),m.createElement("span",null,a.label));return Ot?m.createElement("label",{key:e,className:"checkbox-inline ".concat(u)},v):m.createElement("div",{key:e,className:"checkbox ".concat(u)},m.createElement("label",null,v))}))}Oo.defaultProps={autofocus:!1,options:{inline:!1}};var Un=Oo;function Oi(){return Oi=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Oi.apply(this,arguments)}function pi(s){var h=s.disabled,x=s.readonly,g=s.registry.widgets.BaseInput;return m.createElement(g,Oi({type:"color"},s,{disabled:h||x}))}var li=pi;function Ho(){return Ho=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Ho.apply(this,arguments)}function po(s){var h=s.onChange,x=s.registry.widgets.BaseInput;return m.createElement(x,Ho({type:"date"},s,{onChange:function(L){return h(L||void 0)}}))}var bs=po;function ei(){return ei=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ei.apply(this,arguments)}function no(s){var h=s.value,x=s.onChange,g=s.registry.widgets.BaseInput;return m.createElement(g,ei({type:"datetime-local"},s,{value:Kn(h),onChange:function(pe){return x(kn(pe))}}))}var lo=no;function ji(){return ji=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ji.apply(this,arguments)}function Fo(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,ji({type:"email"},s))}var Ei=Fo;function Ss(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(x){return typeof x}:Ss=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Ss(s)}function xo(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Jn(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function _i(s,h,x){return h&&Jn(s.prototype,h),x&&Jn(s,x),s}function kr(s,h){return h&&(Ss(h)==="object"||typeof h=="function")?h:go(s)}function Qn(s){return Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Qn(s)}function go(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function ns(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Js(s,h)}function Js(s,h){return Js=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Js(s,h)}function Fn(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function is(s,h){return s.replace(";base64",";name=".concat(encodeURIComponent(h),";base64"))}function os(s){var h=s.name,x=s.size,g=s.type;return new Promise(function(L,pe){var Qe=new window.FileReader;Qe.onerror=pe,Qe.onload=function(tt){L({dataURL:is(tt.target.result,h),name:h,size:x,type:g})},Qe.readAsDataURL(s)})}function ss(s){return Promise.all([].map.call(s,os))}function _s(s){var h=s.filesInfo;return h.length===0?null:m.createElement("ul",{className:"file-info"},h.map(function(x,g){var L=x.name,pe=x.size,Qe=x.type;return m.createElement("li",{key:g},m.createElement("strong",null,L)," (",Qe,", ",pe," bytes)")}))}function Ds(s){return s.filter(function(h){return typeof h!="undefined"}).map(function(h){var x=qn(h),g=x.blob,L=x.name;return{name:L,size:g.size,type:g.type}})}var vt=function(s){ns(h,s);function h(x){var g;xo(this,h),g=kr(this,Qn(h).call(this,x)),Fn(go(g),"onChange",function(Qe){var tt=g.props,ut=tt.multiple,wt=tt.onChange;ss(Qe.target.files).then(function(Ot){var a={values:Ot.map(function(e){return e.dataURL}),filesInfo:Ot};g.setState(a,function(){wt(ut?a.values:a.values[0])})})});var L=x.value,pe=Array.isArray(L)?L:[L];return g.state={values:pe,filesInfo:Ds(pe)},g}return _i(h,[{key:"shouldComponentUpdate",value:function(g,L){return or(this,g,L)}},{key:"render",value:function(){var g=this,L=this.props,pe=L.multiple,Qe=L.id,tt=L.readonly,ut=L.disabled,wt=L.autofocus,Ot=L.options,a=this.state.filesInfo;return m.createElement("div",null,m.createElement("p",null,m.createElement("input",{ref:function(t){return g.inputRef=t},id:Qe,type:"file",disabled:tt||ut,onChange:this.onChange,defaultValue:"",autoFocus:wt,multiple:pe,accept:Ot.accept})),m.createElement(_s,{filesInfo:a}))}}]),h}(m.Component);vt.defaultProps={autofocus:!1};var it=vt;function Zi(s){var h=s.id,x=s.value;return m.createElement("input",{type:"hidden",id:h,value:typeof x=="undefined"?"":x})}var Ni=Zi;function zr(){return zr=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},zr.apply(this,arguments)}function wr(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,zr({type:"password"},s))}var gr=wr;function Hr(s){var h=s.options,x=s.value,g=s.required,L=s.disabled,pe=s.readonly,Qe=s.autofocus,tt=s.onBlur,ut=s.onFocus,wt=s.onChange,Ot=s.id,a=Math.random().toString(),e=h.enumOptions,t=h.enumDisabled,r=h.inline;return m.createElement("div",{className:"field-radio-group",id:Ot},e.map(function(u,v){var A=u.value===x,B=t&&t.indexOf(u.value)!=-1,G=L||B||pe?"disabled":"",de=m.createElement("span",null,m.createElement("input",{type:"radio",checked:A,name:a,required:g,value:u.value,disabled:L||B||pe,autoFocus:Qe&&v===0,onChange:function(ke){return wt(u.value)},onBlur:tt&&function(fe){return tt(Ot,fe.target.value)},onFocus:ut&&function(fe){return ut(Ot,fe.target.value)}}),m.createElement("span",null,u.label));return r?m.createElement("label",{key:v,className:"radio-inline ".concat(G)},de):m.createElement("div",{key:v,className:"radio ".concat(G)},m.createElement("label",null,de))}))}Hr.defaultProps={autofocus:!1};var wn=Hr;function xn(){return xn=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},xn.apply(this,arguments)}function di(s){var h=s.schema,x=s.value,g=s.registry.widgets.BaseInput;return m.createElement("div",{className:"field-range-wrapper"},m.createElement(g,xn({type:"range"},s,vi(h))),m.createElement("span",{className:"range-view"},x))}var yi=di,yo=new Set(["number","integer"]);function jn(s,h){var x=s.type,g=s.items;if(h!==""){{if(x==="array"&&g&&yo.has(g.type))return h.map(js);if(x==="boolean")return h==="true";if(x==="number")return js(h)}if(s.enum){if(s.enum.every(function(L){return qo(L)==="number"}))return js(h);if(s.enum.every(function(L){return qo(L)==="boolean"}))return h==="true"}return h}}function Vn(s,h){return h?[].slice.call(s.target.options).filter(function(x){return x.selected}).map(function(x){return x.value}):s.target.value}function ks(s){var h=s.schema,x=s.id,g=s.options,L=s.value,pe=s.required,Qe=s.disabled,tt=s.readonly,ut=s.multiple,wt=s.autofocus,Ot=s.onChange,a=s.onBlur,e=s.onFocus,t=s.placeholder,r=g.enumOptions,u=g.enumDisabled,v=ut?[]:"";return m.createElement("select",{id:x,multiple:ut,className:"form-control",value:typeof L=="undefined"?v:L,required:pe,disabled:Qe||tt,autoFocus:wt,onBlur:a&&function(A){var B=Vn(A,ut);a(x,jn(h,B))},onFocus:e&&function(A){var B=Vn(A,ut);e(x,jn(h,B))},onChange:function(B){var G=Vn(B,ut);Ot(jn(h,G))}},!ut&&h.default===void 0&&m.createElement("option",{value:""},t),r.map(function(A,B){var G=A.value,de=A.label,fe=u&&u.indexOf(G)!=-1;return m.createElement("option",{key:B,value:G,disabled:fe},de)}))}ks.defaultProps={autofocus:!1};var Gs=ks;function Jo(s){var h=s.id,x=s.options,g=s.placeholder,L=s.value,pe=s.required,Qe=s.disabled,tt=s.readonly,ut=s.autofocus,wt=s.onChange,Ot=s.onBlur,a=s.onFocus,e=function(r){var u=r.target.value;return wt(u===""?x.emptyValue:u)};return m.createElement("textarea",{id:h,className:"form-control",value:L||"",placeholder:g,required:pe,disabled:Qe,readOnly:tt,autoFocus:ut,rows:x.rows,onBlur:Ot&&function(t){return Ot(h,t.target.value)},onFocus:a&&function(t){return a(h,t.target.value)},onChange:e})}Jo.defaultProps={autofocus:!1,options:{}};var Ms=Jo;function Ya(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,s)}var Ys=Ya;function jo(){return jo=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},jo.apply(this,arguments)}function vo(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,jo({type:"url"},s))}var eo=vo;function as(){return as=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},as.apply(this,arguments)}function Xs(s){var h=s.registry.widgets.BaseInput;return m.createElement(h,as({type:"number"},s,vi(s.schema)))}var No=Xs,Wa={BaseInput:Ts,PasswordWidget:gr,RadioWidget:wn,UpDownWidget:No,RangeWidget:yi,SelectWidget:Gs,TextWidget:Ys,DateWidget:bs,DateTimeWidget:lo,AltDateWidget:ro,AltDateTimeWidget:Ps,EmailWidget:Ei,URLWidget:eo,TextareaWidget:Ms,HiddenWidget:Ni,ColorWidget:li,FileWidget:it,CheckboxWidget:zo,CheckboxesWidget:Un},Ta=l(25497),$s=l.n(Ta),Es=l(84778),ba=l.n(Es);function Lo(s){return Sa(s)||_a(s)||Za()}function Za(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _a(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function Sa(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function ls(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Is(s,L,x[L])})}return s}function Is(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var uo=Rs(),ws=null,aa=null,la="__rjsf_rootSchema";function Rs(){var s=new(ba())({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return s.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),s.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),s}function Os(s){return s.length?s.reduce(function(h,x){var g=x.property,L=x.message,pe=$s()(g),Qe=h;pe.length>0&&pe[0]===""&&pe.splice(0,1);var tt=!0,ut=!1,wt=void 0;try{for(var Ot=pe.slice(0)[Symbol.iterator](),a;!(tt=(a=Ot.next()).done);tt=!0){var e=a.value;e in Qe||(Qe[e]={}),Qe=Qe[e]}}catch(t){ut=!0,wt=t}finally{try{!tt&&Ot.return!=null&&Ot.return()}finally{if(ut)throw wt}}return Array.isArray(Qe.__errors)?Qe.__errors=Qe.__errors.concat(L):L&&(Qe.__errors=[L]),h},{}):{}}function Bo(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",x=[];return"__errors"in s&&(x=x.concat(s.__errors.map(function(g){return{stack:"".concat(h,": ").concat(g)}}))),Object.keys(s).reduce(function(g,L){return L!=="__errors"&&(g=g.concat(Bo(s[L],L))),g},x)}function Qs(s){var h={__errors:[],addError:function(g){this.__errors.push(g)}};return xi(s)?Object.keys(s).reduce(function(x,g){return ls({},x,Is({},g,Qs(s[g])))},h):Array.isArray(s)?s.reduce(function(x,g,L){return ls({},x,Is({},L,Qs(g)))},h):h}function Ua(s){return Object.keys(s).reduce(function(h,x){return x==="addError"?h:x==="__errors"?ls({},h,Is({},x,s[x])):ls({},h,Is({},x,Ua(s[x])))},{})}function Ea(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s===null?[]:s.map(function(h){var x=h.dataPath,g=h.keyword,L=h.message,pe=h.params,Qe=h.schemaPath,tt="".concat(x);return{name:g,property:tt,message:L,params:pe,stack:"".concat(tt," ").concat(L).trim(),schemaPath:Qe}})}function qs(s,h,x,g){var L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],pe=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},Qe=h;s=ca(h,s,Qe,!0);var tt=!Ct(aa,L),ut=!Ct(ws,pe);(tt||ut)&&(uo=Rs()),L&&tt&&Array.isArray(L)&&(uo.addMetaSchema(L),aa=L),pe&&ut&&xi(pe)&&(Object.keys(pe).forEach(function(A){uo.addFormat(A,pe[A])}),ws=pe);var wt=null;try{uo.validate(h,s)}catch(A){wt=A}var Ot=Ea(uo.errors);uo.errors=null;var a=wt&&wt.message&&typeof wt.message=="string"&&wt.message.includes("no schema with key or ref ");a&&(Ot=[].concat(Lo(Ot),[{stack:wt.message}])),typeof g=="function"&&(Ot=g(Ot));var e=Os(Ot);if(a&&(e=ls({},e,{$schema:{__errors:[wt.message]}})),typeof x!="function")return{errors:Ot,errorSchema:e};var t=x(s,Qs(s)),r=Ua(t),u=fs(e,r,!0),v=Bo(u);return{errors:v,errorSchema:u}}function Go(s){var h=s;if(s.constructor===Object){h=ls({},s);for(var x in h){var g=h[x];x==="$ref"&&typeof g=="string"&&g.startsWith("#")?h[x]=la+g:h[x]=Go(g)}}else if(Array.isArray(s)){h=Lo(s);for(var L=0;L<h.length;L++)h[L]=Go(h[L])}return h}function io(s,h,x){try{return uo.addSchema(x,la).validate(Go(s),h)}catch{return!1}finally{uo.removeSchema(la)}}function us(s){var h=Xa(s,"string");return oo(h)==="symbol"?h:String(h)}function Xa(s,h){if(oo(s)!=="object"||s===null)return s;var x=s[Symbol.toPrimitive];if(x!==void 0){var g=x.call(s,h||"default");if(oo(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(s)}function Fs(s){return Va(s)||Li(s)||ua()}function ua(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Li(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function Va(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function oo(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oo=function(x){return typeof x}:oo=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},oo(s)}function ea(){return ea=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ea.apply(this,arguments)}function Gi(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Da(s,L,x[L])})}return s}function Da(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Yo(s,h){if(s==null)return{};var x=ta(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function ta(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}var Wo="__additional_property",ka={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Co(s,h,x){if(!s.additionalProperties)return!1;var g=Cs(h),L=g.expandable;return L===!1?L:s.maxProperties!==void 0?Object.keys(x).length<s.maxProperties:!0}function Yi(){return{fields:an,widgets:Wa,definitions:{},rootSchema:{},formContext:{}}}function cs(s){var h=s.type;return!h&&s.const?qo(s.const):!h&&s.enum?"string":!h&&(s.properties||s.additionalProperties)?"object":h instanceof Array&&h.length===2&&h.includes("null")?h.find(function(x){return x!=="null"}):h}function Xo(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=cs(s);function L(tt){if(!tt.MergedWidget){var ut=tt.defaultProps&&tt.defaultProps.options||{};tt.MergedWidget=function(wt){var Ot=wt.options,a=Ot===void 0?{}:Ot,e=Yo(wt,["options"]);return m.createElement(tt,ea({options:Gi({},ut,a)},e))}}return tt.MergedWidget}if(typeof h=="function"||J.isForwardRef(m.createElement(h))||J.isMemo(h))return L(h);if(typeof h!="string")throw new Error("Unsupported widget definition: ".concat(oo(h)));if(x.hasOwnProperty(h)){var pe=x[h];return Xo(s,pe,x)}if(!ka.hasOwnProperty(g))throw new Error('No widget for type "'.concat(g,'"'));if(ka[g].hasOwnProperty(h)){var Qe=x[ka[g][h]];return Xo(s,Qe,x)}throw new Error('No widget "'.concat(h,'" for type "').concat(g,'"'))}function Ma(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return Xo(s,h,x),!0}catch(g){if(g.message&&(g.message.startsWith("No widget")||g.message.startsWith("Unsupported widget")))return!1;throw g}}function xs(s,h,x){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,pe=xi(s)?s:{},Qe=xi(g)?g:{},tt=h;if(xi(tt)&&xi(pe.default))tt=fs(tt,pe.default);else if("default"in pe)tt=pe.default;else if("$ref"in pe){var ut=bo(pe.$ref,x);return xs(ut,tt,x,Qe,L)}else if("dependencies"in pe){var wt=U(pe,x,Qe);return xs(wt,tt,x,Qe,L)}else Bs(pe)?tt=pe.items.map(function(r,u){return xs(r,Array.isArray(h)?h[u]:void 0,x,Qe,L)}):"oneOf"in pe?pe=pe.oneOf[co(void 0,pe.oneOf,x)]:"anyOf"in pe&&(pe=pe.anyOf[co(void 0,pe.anyOf,x)]);switch(typeof tt=="undefined"&&(tt=pe.default),cs(pe)){case"object":return Object.keys(pe.properties||{}).reduce(function(r,u){var v=xs(pe.properties[u],(tt||{})[u],x,(Qe||{})[u],L);return(L||v!==void 0)&&(r[u]=v),r},{});case"array":if(Array.isArray(tt)&&(tt=tt.map(function(r,u){return xs(pe.items[u]||pe.additionalItems||{},r,x)})),Array.isArray(g)&&(tt=g.map(function(r,u){return xs(pe.items,(tt||{})[u],x,r)})),pe.minItems){if(fa(pe,x))return tt||[];var Ot=tt?tt.length:0;if(pe.minItems>Ot){var a=tt||[],e=Array.isArray(pe.items)?pe.additionalItems:pe.items,t=oe()(new Array(pe.minItems-Ot),xs(e,e.defaults,x));return a.concat(t)}}}return tt}function ca(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xi(s))throw new Error("Invalid schema: "+s);var L=C(s,x,h),pe=xs(L,s.default,x,h,g);return typeof h=="undefined"?pe:xi(h)||Array.isArray(h)?Ka(pe,h):h===0||h===!1||h===""?h:h||pe}function Ka(s,h){if(Array.isArray(h))return Array.isArray(s)||(s=[]),h.map(function(g,L){return s[L]?Ka(s[L],g):g});if(xi(h)){var x=Object.assign({},s);return Object.keys(h).reduce(function(g,L){return g[L]=Ka(s?s[L]:{},h[L]),g},x)}else return h}function Cs(s){return Object.keys(s).filter(function(h){return h.indexOf("ui:")===0}).reduce(function(h,x){var g=s[x];return x==="ui:widget"&&xi(g)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),Gi({},h,g.options||{},{widget:g.component})):x==="ui:options"&&xi(g)?Gi({},h,g):Gi({},h,Da({},x.substring(3),g))},{})}function wa(s,h,x){var g=Cs(h),L=g.label,pe=L===void 0?!0:L,Qe=cs(s);return Qe==="array"&&(pe=fa(s,x)||Qo(s,h,x)),Qe==="object"&&(pe=!1),Qe==="boolean"&&!h["ui:widget"]&&(pe=!1),h["ui:field"]&&(pe=!1),pe}function xi(s){return typeof File!="undefined"&&s instanceof File?!1:oo(s)==="object"&&s!==null&&!Array.isArray(s)}function fs(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=Object.assign({},s);return Object.keys(h).reduce(function(L,pe){var Qe=s?s[pe]:{},tt=h[pe];return s&&s.hasOwnProperty(pe)&&xi(tt)?L[pe]=fs(Qe,tt,x):x&&Array.isArray(Qe)&&Array.isArray(tt)?L[pe]=Qe.concat(tt):L[pe]=tt,L},g)}function js(s){if(s!==""){if(s===null)return null;if(/\.$/.test(s)||/\.0$/.test(s))return s;var h=Number(s),x=typeof h=="number"&&!Number.isNaN(h);return/\.\d*0$/.test(s)?s:x?h:s}}function ds(s,h){if(!Array.isArray(h))return s;var x=function(a){return a.reduce(function(e,t){return e[t]=!0,e},{})},g=function(a){return a.length>1?"properties '".concat(a.join("', '"),"'"):"property '".concat(a[0],"'")},L=x(s),pe=h.filter(function(Ot){return Ot==="*"||L[Ot]}),Qe=x(pe),tt=s.filter(function(Ot){return!Qe[Ot]}),ut=pe.indexOf("*");if(ut===-1){if(tt.length)throw new Error("uiSchema order list does not contain ".concat(g(tt)));return pe}if(ut!==pe.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var wt=Fs(pe);return wt.splice.apply(wt,[ut,1].concat(Fs(tt))),wt}function $a(s){return Array.isArray(s.enum)&&s.enum.length===1||s.hasOwnProperty("const")}function Ns(s){if(Array.isArray(s.enum)&&s.enum.length===1)return s.enum[0];if(s.hasOwnProperty("const"))return s.const;throw new Error("schema cannot be inferred as a constant")}function Ls(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=C(s,h),g=x.oneOf||x.anyOf;return Array.isArray(x.enum)?!0:Array.isArray(g)?g.every(function(L){return $a(L)}):!1}function fa(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!s.uniqueItems||!s.items?!1:Ls(s.items,h)}function Qo(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(h["ui:widget"]==="files")return!0;if(s.items){var g=C(s.items,x);return g.type==="string"&&g.format==="data-url"}return!1}function Bs(s){return Array.isArray(s.items)&&s.items.length>0&&s.items.every(function(h){return xi(h)})}function za(s){return s.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),xi(s.additionalItems)}function hs(s){if(s.enum)return s.enum.map(function(x,g){var L=s.enumNames&&s.enumNames[g]||String(x);return{label:L,value:x}});var h=s.oneOf||s.anyOf;return h.map(function(x,g){var L=Ns(x),pe=x.title||String(L);return{schema:x,label:pe,value:L}})}function bo(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=s;if(s.startsWith("#"))s=decodeURIComponent(s.substring(1));else throw new Error("Could not find a definition for ".concat(x,"."));var g=Y.get(h,s);if(g===void 0)throw new Error("Could not find a definition for ".concat(x,"."));return g.hasOwnProperty("$ref")?bo(g.$ref,h):g}var qo=function(h){if(Array.isArray(h))return"array";if(typeof h=="string")return"string";if(h==null)return"null";if(typeof h=="boolean")return"boolean";if(isNaN(h)){if(oo(h)==="object")return"object"}else return"number";return"string"};function da(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=Gi({},s,{properties:Gi({},s.properties)}),x=xi(x)?x:{},Object.keys(x).forEach(function(g){if(!s.properties.hasOwnProperty(g)){var L;s.additionalProperties.hasOwnProperty("$ref")?L=C({$ref:s.additionalProperties.$ref},h,x):s.additionalProperties.hasOwnProperty("type")?L=Gi({},s.additionalProperties):L={type:qo(x[g])},s.properties[g]=L,s.properties[g][Wo]=!0}}),s}function Oa(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s.hasOwnProperty("$ref"))return Ws(s,h,x);if(s.hasOwnProperty("dependencies")){var g=U(s,h,x);return C(g,h,x)}else return s.hasOwnProperty("allOf")?Gi({},s,{allOf:s.allOf.map(function(L){return C(L,h,x)})}):s}function Ws(s,h,x){var g=bo(s.$ref,h),L=s.$ref,pe=Yo(s,["$ref"]);return C(Gi({},g,pe),h,x)}function C(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!xi(s))return{};var g=Oa(s,h,x);if("allOf"in s)try{g=ee()(Gi({},g,{allOf:g.allOf}))}catch(ut){console.warn(`could not merge subschemas in allOf:
`+ut);var L=g,pe=L.allOf,Qe=Yo(L,["allOf"]);return Qe}var tt=g.hasOwnProperty("additionalProperties")&&g.additionalProperties!==!1;return tt?da(g,h,x):g}function U(s,h,x){var g=s.dependencies,L=g===void 0?{}:g,pe=Yo(s,["dependencies"]);return"oneOf"in pe?pe=pe.oneOf[co(x,pe.oneOf,h)]:"anyOf"in pe&&(pe=pe.anyOf[co(x,pe.anyOf,h)]),ie(L,pe,h,x)}function ie(s,h,x,g){for(var L in s)if(g[L]!==void 0&&!(h.properties&&!(L in h.properties))){var pe=s[L],Qe=Yo(s,[L].map(us));return Array.isArray(pe)?h=Oe(h,pe):xi(pe)&&(h=De(h,x,g,L,pe)),ie(Qe,h,x,g)}return h}function Oe(s,h){if(!h)return s;var x=Array.isArray(s.required)?Array.from(new Set([].concat(Fs(s.required),Fs(h)))):h;return Gi({},s,{required:x})}function De(s,h,x,g,L){var pe=C(L,h,x),Qe=pe.oneOf,tt=Yo(pe,["oneOf"]);if(s=at(s,tt),Qe===void 0)return s;if(!Array.isArray(Qe))throw new Error("invalid: it is some ".concat(oo(Qe)," instead of an array"));var ut=Qe.map(function(wt){return wt.hasOwnProperty("$ref")?Ws(wt,h,x):wt});return Re(s,h,x,g,ut)}function Re(s,h,x,g,L){var pe=L.filter(function(a){if(!a.properties)return!1;var e=a.properties[g];if(e){var t={type:"object",properties:Da({},g,e)},r=qs(x,t),u=r.errors;return u.length===0}});if(pe.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),s;var Qe=pe[0],tt=Qe.properties,ut=tt[g],wt=Yo(tt,[g].map(us)),Ot=Gi({},Qe,{properties:wt});return at(s,C(Ot,h,x))}function at(s,h){var x=Object.assign({},s);return Object.keys(h).reduce(function(g,L){var pe=s?s[L]:{},Qe=h[L];return s&&s.hasOwnProperty(L)&&xi(Qe)?g[L]=at(pe,Qe):s&&h&&(cs(s)==="object"||cs(h)==="object")&&L==="required"&&Array.isArray(pe)&&Array.isArray(Qe)?g[L]=F()(pe,Qe):g[L]=Qe,g},x)}function It(s){return Object.prototype.toString.call(s)==="[object Arguments]"}function Ct(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(s===h)return!0;if(typeof s=="function"||typeof h=="function")return!0;if(oo(s)!=="object"||oo(h)!=="object")return!1;if(s===null||h===null)return!1;if(s instanceof Date&&h instanceof Date)return s.getTime()===h.getTime();if(s instanceof RegExp&&h instanceof RegExp)return s.source===h.source&&s.global===h.global&&s.multiline===h.multiline&&s.lastIndex===h.lastIndex&&s.ignoreCase===h.ignoreCase;if(It(s)||It(h)){if(!(It(s)&&It(h)))return!1;var L=Array.prototype.slice;return Ct(L.call(s),L.call(h),x,g)}else{if(s.constructor!==h.constructor)return!1;var pe=Object.keys(s),Qe=Object.keys(h);if(pe.length===0&&Qe.length===0)return!0;if(pe.length!==Qe.length)return!1;for(var tt=x.length;tt--;)if(x[tt]===s)return g[tt]===h;x.push(s),g.push(h),pe.sort(),Qe.sort();for(var ut=pe.length-1;ut>=0;ut--)if(pe[ut]!==Qe[ut])return!1;for(var wt,Ot=pe.length-1;Ot>=0;Ot--)if(wt=pe[Ot],!Ct(s[wt],h[wt],x,g))return!1;return x.pop(),g.pop(),!0}}function or(s,h,x){var g=s.props,L=s.state;return!Ct(g,h)||!Ct(L,x)}function vr(s,h,x){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"root",pe={$id:h||L};if("$ref"in s||"dependencies"in s||"allOf"in s){var Qe=C(s,x,g);return vr(Qe,h,x,g,L)}if("items"in s&&!s.items.$ref)return vr(s.items,h,x,g,L);if(s.type!=="object")return pe;for(var tt in s.properties||{}){var ut=s.properties[tt],wt=pe.$id+"_"+tt;pe[tt]=vr(xi(ut)?ut:{},wt,x,(g||{})[tt],L)}return pe}function Ar(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=arguments.length>2?arguments[2]:void 0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},L={$name:h.replace(/^\./,"")};if("$ref"in s||"dependencies"in s||"allOf"in s){var pe=C(s,x,g);return Ar(pe,h,x,g)}if(s.hasOwnProperty("additionalProperties")&&(L.__rjsf_additionalProperties=!0),s.hasOwnProperty("items")&&Array.isArray(g))g.forEach(function(tt,ut){L[ut]=Ar(s.items,"".concat(h,".").concat(ut),x,tt)});else if(s.hasOwnProperty("properties"))for(var Qe in s.properties)L[Qe]=Ar(s.properties[Qe],"".concat(h,".").concat(Qe),x,(g||{})[Qe]);return L}function Br(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!s)return{year:-1,month:-1,day:-1,hour:h?-1:0,minute:h?-1:0,second:h?-1:0};var x=new Date(s);if(Number.isNaN(x.getTime()))throw new Error("Unable to parse date "+s);return{year:x.getUTCFullYear(),month:x.getUTCMonth()+1,day:x.getUTCDate(),hour:h?x.getUTCHours():0,minute:h?x.getUTCMinutes():0,second:h?x.getUTCSeconds():0}}function Sn(s){var h=s.year,x=s.month,g=s.day,L=s.hour,pe=L===void 0?0:L,Qe=s.minute,tt=Qe===void 0?0:Qe,ut=s.second,wt=ut===void 0?0:ut,Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=Date.UTC(h,x-1,g,pe,tt,wt),e=new Date(a).toJSON();return Ot?e:e.slice(0,10)}function Kn(s){if(!s)return"";var h=new Date(s),x=Tn(h.getFullYear(),4),g=Tn(h.getMonth()+1,2),L=Tn(h.getDate(),2),pe=Tn(h.getHours(),2),Qe=Tn(h.getMinutes(),2),tt=Tn(h.getSeconds(),2),ut=Tn(h.getMilliseconds(),3);return"".concat(x,"-").concat(g,"-").concat(L,"T").concat(pe,":").concat(Qe,":").concat(tt,".").concat(ut)}function kn(s){if(s)return new Date(s).toJSON()}function Tn(s,h){for(var x=String(s);x.length<h;)x="0"+x;return x}function qn(s){var h=s.split(","),x=h[0].split(";"),g=x[0].replace("data:",""),L=x.filter(function(Ot){return Ot.split("=")[0]==="name"}),pe;L.length!==1?pe="unknown":pe=L[0].split("=")[1];for(var Qe=atob(h[1]),tt=[],ut=0;ut<Qe.length;ut++)tt.push(Qe.charCodeAt(ut));var wt=new window.Blob([new Uint8Array(tt)],{type:g});return{blob:wt,name:pe}}function vi(s){var h={};return s.multipleOf&&(h.step=s.multipleOf),(s.minimum||s.minimum===0)&&(h.min=s.minimum),(s.maximum||s.maximum===0)&&(h.max=s.maximum),h}function co(s,h,x){for(var g=0;g<h.length;g++){var L=h[g];if(L.properties){var pe={anyOf:Object.keys(L.properties).map(function(ut){return{required:[ut]}})},Qe=void 0;if(L.anyOf){var tt=ea({},L);tt.allOf?tt.allOf=tt.allOf.slice():tt.allOf=[],tt.allOf.push(pe),Qe=tt}else Qe=Object.assign({},L,pe);if(delete Qe.required,io(Qe,s,x))return g}else if(io(L,s,x))return g}return 0}function bi(s){return s.const||s.enum&&s.enum.length===1&&s.enum[0]===!0?!0:s.anyOf&&s.anyOf.length===1?bi(s.anyOf[0]):s.oneOf&&s.oneOf.length===1?bi(s.oneOf[0]):s.allOf?s.allOf.some(bi):!1}function so(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){es(s,L,x[L])})}return s}function Gn(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gn=function(x){return typeof x}:Gn=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Gn(s)}function Bi(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Zs(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function ha(s,h,x){return h&&Zs(s.prototype,h),x&&Zs(s,x),s}function Pn(s,h){return h&&(Gn(h)==="object"||typeof h=="function")?h:ms(s)}function ra(s){return ra=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},ra(s)}function ms(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Ia(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&el(s,h)}function el(s,h){return el=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},el(s,h)}function es(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var Ra=function(s){Ia(h,s);function h(x){var g;return Bi(this,h),g=Pn(this,ra(h).call(this,x)),es(ms(g),"getUsedFormData",function(L,pe){if(pe.length===0&&Gn(L)!=="object")return L;var Qe=O()(L,pe);return Array.isArray(L)?Object.keys(Qe).map(function(tt){return Qe[tt]}):Qe}),es(ms(g),"getFieldNames",function(L,pe){var Qe=function tt(ut){var wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[""];return Object.keys(ut).forEach(function(a){if(Gn(ut[a])==="object"){var e=Ot.map(function(t){return"".concat(t,".").concat(a)});ut[a].__rjsf_additionalProperties&&ut[a].$name!==""?wt.push(ut[a].$name):tt(ut[a],wt,e)}else a==="$name"&&ut[a]!==""&&Ot.forEach(function(t){t=t.replace(/^\./,"");var r=_()(pe,t);(Gn(r)!=="object"||$()(r))&&wt.push(t)})}),wt};return Qe(L)}),es(ms(g),"onChange",function(L,pe){if(xi(L)||Array.isArray(L)){var Qe=g.getStateFromProps(g.props,L);L=Qe.formData}var tt=!g.props.noValidate&&g.props.liveValidate,ut={formData:L},wt=L;if(g.props.omitExtraData===!0&&g.props.liveOmit===!0){var Ot=C(g.state.schema,g.state.schema,L),a=Ar(Ot,"",g.state.schema,L),e=g.getFieldNames(a,L);wt=g.getUsedFormData(L,e),ut={formData:wt}}if(tt){var t=g.validate(wt),r=t.errors,u=t.errorSchema,v=r,A=u;g.props.extraErrors&&(u=fs(u,g.props.extraErrors,!0),r=Bo(u)),ut={formData:wt,errors:r,errorSchema:u,schemaValidationErrors:v,schemaValidationErrorSchema:A}}else if(!g.props.noValidate&&pe){var B=g.props.extraErrors?fs(pe,g.props.extraErrors,!0):pe;ut={formData:wt,errorSchema:B,errors:Bo(B)}}g.setState(ut,function(){return g.props.onChange&&g.props.onChange(g.state)})}),es(ms(g),"onBlur",function(){if(g.props.onBlur){var L;(L=g.props).onBlur.apply(L,arguments)}}),es(ms(g),"onFocus",function(){if(g.props.onFocus){var L;(L=g.props).onFocus.apply(L,arguments)}}),es(ms(g),"onSubmit",function(L){if(L.preventDefault(),L.target===L.currentTarget){L.persist();var pe=g.state.formData;if(g.props.omitExtraData===!0){var Qe=C(g.state.schema,g.state.schema,pe),tt=Ar(Qe,"",g.state.schema,pe),ut=g.getFieldNames(tt,pe);pe=g.getUsedFormData(pe,ut)}if(!g.props.noValidate){var wt=g.validate(pe),Ot=wt.errors,a=wt.errorSchema,e=Ot,t=a;if(Object.keys(Ot).length>0){g.props.extraErrors&&(a=fs(a,g.props.extraErrors,!0),Ot=Bo(a)),g.setState({errors:Ot,errorSchema:a,schemaValidationErrors:e,schemaValidationErrorSchema:t},function(){g.props.onError?g.props.onError(Ot):console.error("Form validation failed",Ot)});return}}var r,u;g.props.extraErrors?(r=g.props.extraErrors,u=Bo(r)):(r={},u=[]),g.setState({formData:pe,errors:u,errorSchema:r,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){g.props.onSubmit&&g.props.onSubmit(so({},g.state,{formData:pe,status:"submitted"}),L)})}}),g.state=g.getStateFromProps(x,x.formData),g.props.onChange&&!Ct(g.state.formData,g.props.formData)&&g.props.onChange(g.state),g.formElement=null,g}return ha(h,[{key:"UNSAFE_componentWillReceiveProps",value:function(g){var L=this.getStateFromProps(g,g.formData);!Ct(L.formData,g.formData)&&!Ct(L.formData,this.state.formData)&&this.props.onChange&&this.props.onChange(L),this.setState(L)}},{key:"getStateFromProps",value:function(g,L){var pe=this.state||{},Qe="schema"in g?g.schema:this.props.schema,tt="uiSchema"in g?g.uiSchema:this.props.uiSchema,ut=typeof L!="undefined",wt="liveValidate"in g?g.liveValidate:this.props.liveValidate,Ot=ut&&!g.noValidate&&wt,a=Qe,e=ca(Qe,L,a),t=C(Qe,a,e),r=g.customFormats,u=g.additionalMetaSchemas,v=function(){return g.noValidate?{errors:[],errorSchema:{}}:g.liveValidate?{errors:pe.errors||[],errorSchema:pe.errorSchema||{}}:{errors:pe.schemaValidationErrors||[],errorSchema:pe.schemaValidationErrorSchema||{}}},A,B,G,de;if(Ot){var fe=this.validate(e,Qe,u,r);A=fe.errors,B=fe.errorSchema,G=A,de=B}else{var ke=v();A=ke.errors,B=ke.errorSchema,G=pe.schemaValidationErrors,de=pe.schemaValidationErrorSchema}g.extraErrors&&(B=fs(B,g.extraErrors,!0),A=Bo(B));var ot=vr(t,tt["ui:rootFieldId"],a,e,g.idPrefix),dt={schema:Qe,uiSchema:tt,idSchema:ot,formData:e,edit:ut,errors:A,errorSchema:B,additionalMetaSchemas:u};return G&&(dt.schemaValidationErrors=G,dt.schemaValidationErrorSchema=de),dt}},{key:"shouldComponentUpdate",value:function(g,L){return or(this,g,L)}},{key:"validate",value:function(g){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.schema,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.props.additionalMetaSchemas,Qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.props.customFormats,tt=this.props,ut=tt.validate,wt=tt.transformErrors,Ot=this.getRegistry(),a=Ot.rootSchema,e=C(L,a,g);return qs(g,e,ut,wt,pe,Qe)}},{key:"renderErrors",value:function(){var g=this.state,L=g.errors,pe=g.errorSchema,Qe=g.schema,tt=g.uiSchema,ut=this.props,wt=ut.ErrorList,Ot=ut.showErrorList,a=ut.formContext;return L.length&&Ot!=!1?m.createElement(wt,{errors:L,errorSchema:pe,schema:Qe,uiSchema:tt,formContext:a}):null}},{key:"getRegistry",value:function(){var g=Yi(),L=g.fields,pe=g.widgets;return{fields:so({},L,this.props.fields),widgets:so({},pe,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},rootSchema:this.props.schema,formContext:this.props.formContext||{}}}},{key:"submit",value:function(){this.formElement&&this.formElement.dispatchEvent(new CustomEvent("submit",{cancelable:!0}))}},{key:"render",value:function(){var g=this,L=this.props,pe=L.children,Qe=L.id,tt=L.idPrefix,ut=L.className,wt=L.tagName,Ot=L.name,a=L.method,e=L.target,t=L.action,r=L.autocomplete,u=L.autoComplete,v=L.enctype,A=L.acceptcharset,B=L.noHtml5Validate,G=L.disabled,de=L.readonly,fe=L.formContext,ke=this.state,ot=ke.schema,dt=ke.uiSchema,Pt=ke.formData,zt=ke.errorSchema,Zt=ke.idSchema,sr=this.getRegistry(),qt=sr.fields.SchemaField,hn=wt||"form";r&&console.warn("Using autocomplete property of Form is deprecated, use autoComplete instead.");var Dr=u||r;return m.createElement(hn,{className:ut||"rjsf",id:Qe,name:Ot,method:a,target:e,action:t,autoComplete:Dr,encType:v,acceptCharset:A,noValidate:B,onSubmit:this.onSubmit,ref:function(qr){g.formElement=qr}},this.renderErrors(),m.createElement(qt,{schema:ot,uiSchema:dt,errorSchema:zt,idSchema:Zt,idPrefix:tt,formContext:fe,formData:Pt,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:sr,disabled:G,readonly:de}),pe||m.createElement("div",null,m.createElement("button",{type:"submit",className:"btn btn-info"},"Submit")))}}]),h}(m.Component);es(Ra,"defaultProps",{uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,readonly:!1,noHtml5Validate:!1,ErrorList:I,omitExtraData:!1});function Fa(){return Fa=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Fa.apply(this,arguments)}function fo(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Vr(s,L,x[L])})}return s}function Vr(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function ma(s,h){if(s==null)return{};var x=ja(s,h),g,L;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(L=0;L<pe.length;L++)g=pe[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function ja(s,h){if(s==null)return{};var x={},g=Object.keys(s),L,pe;for(pe=0;pe<g.length;pe++)L=g[pe],!(h.indexOf(L)>=0)&&(x[L]=s[L]);return x}function Ao(s){return(0,m.forwardRef)(function(h,x){var g=h.fields,L=h.widgets,pe=ma(h,["fields","widgets"]);return g=fo({},s.fields,g),L=fo({},s.widgets,L),m.createElement(Ha,Fa({},s,pe,{fields:g,widgets:L,ref:x}))})}Ao.propTypes={widgets:Ce().object,fields:Ce().object};var ul=Ao,Ha=Ra},76485:function(Te,S,l){var o=l(9850),m=l(93503),R=l(73198),O=l(19003),D=l(35676),_=l(68632),j=l(30898),$=l(74186),I=l(18149),J=l(97030),z=l(78911),ee=l(829),te=l(59756),oe=l(75652),ye=l(39642),F=l(67304),Y=(rt,...xt)=>F.apply(null,[rt].concat(D(xt))),ve=rt=>me(Xe,rt),se=rt=>me(lt,rt),me=(rt,xt)=>rt.indexOf(xt)!==-1,xe=rt=>!Ie(rt).length&&rt!==!1&&rt!==!0,re=rt=>J(rt)||rt===!0||rt===!1,M=rt=>rt===!1,Ee=rt=>rt===!0,Ne=(rt,xt,jt)=>jt(rt),Ce=rt=>ee(oe(_(rt))),ze=rt=>rt!==void 0,Ge=rt=>oe(_(rt.map(Ie))),ht=rt=>rt[0],st=rt=>Ce(rt),Ye=rt=>Math.max.apply(Math,rt),Et=rt=>Math.min.apply(Math,rt),rr=rt=>rt.some(Ee),mt=rt=>ye(D(rt),I);function Mt(rt){return function(xt,jt){return m({[rt]:xt},{[rt]:jt})}}function gt(rt){if(Array.isArray(rt.allOf)){var xt=rt.allOf;return delete rt.allOf,[rt].concat(xt.map(function(jt){return gt(jt)}))}else return[rt]}function Ze(rt,xt){return rt.map(function(jt){return jt&&jt[xt]})}function bt(rt,xt){return rt.map(function(jt){if(jt)if(Array.isArray(jt.items)){var fr=jt.items[xt];if(re(fr))return fr;if(jt.hasOwnProperty("additionalItems"))return jt.additionalItems}else return jt.items})}function et(rt,xt){return rt.map(function(jt,fr){try{return xt(jt,fr)}catch{return}}).filter(ze)}function he(rt){return rt.map(function(xt){if(xt)return Array.isArray(xt.items)?xt.additionalItems:xt.items})}function Ie(rt){return J(rt)||Array.isArray(rt)?Object.keys(rt):[]}function ft(rt,xt){if(xt=xt||[],!rt.length)return xt;var jt=rt.slice(0).shift(),fr=rt.slice(1);return xt.length?ft(fr,D(xt.map(Or=>jt.map(xr=>[xr].concat(Or))))):ft(fr,jt.map(Or=>Or))}function _t(rt,xt){return Array.isArray(rt)?(rt.splice.apply(rt,[0,0].concat(xt)),rt):xt}function Vt(rt,xt){var jt;try{jt=rt.map(function(fr){return JSON.stringify(fr,null,2)}).join(`
`)}catch{jt=rt.join(", ")}throw new Error('Could not resolve values for path:"'+xt.join(".")+`". They are probably incompatible. Values: 
`+jt)}function Cr(rt){for(var xt in rt)rt.hasOwnProperty(xt)&&xe(rt[xt])&&delete rt[xt];return rt}function Ue(rt,xt,jt){return function(fr,Or){if(Or===void 0)throw new Error("You need to call merger with a key for the property name or index if array.");return Or=String(Or),rt(fr,null,jt.concat(xt,Or))}}function K(rt,xt,jt,fr,Or,xr){if(rt.length){var ar=Or.resolvers[xt];if(!ar)throw new Error("No resolver found for "+xt);var Rt=ye(jt.map(function(pr){return rt.reduce(function(cr,Wr){return pr[Wr]!==void 0&&(cr[Wr]=pr[Wr]),cr},{})}).filter(ze),m),jr=xt==="properties"?Xe:lt,yr=jr.reduce(function(pr,cr){return me(kt,cr)?pr[cr]=Ue(fr,cr,xr):pr[cr]=function(Wr){return fr(Wr,null,xr.concat(cr))},pr},{});xt==="items"&&(yr.itemsArray=Ue(fr,"items",xr),yr.items=function(pr){return fr(pr,null,xr.concat("items"))});var dr=ar(Rt,xr.concat(xt),yr,Or);return J(dr)||Vt(Rt,xr.concat(xt)),Cr(dr)}}function Z(rt,xt,jt){var fr=Ge(jt||rt),Or=jt?bt:Ze;return fr.reduce(function(xr,ar){var Rt=Or(rt,ar),jr=ye(Rt.filter(ze),m);return xr[ar]=xt(jr,ar),xr},jt?[]:{})}function Q(rt){te(rt,function(xt,jt){xt===!1&&delete rt[jt]})}function ne(rt){te(rt,function(xt,jt){xt===!1&&rt.splice(jt,1)})}function _e(rt){return{required:rt}}var Xe=["properties","patternProperties","additionalProperties"],lt=["items","additionalItems"],kt=["properties","patternProperties","definitions","dependencies"],Qt=["anyOf","oneOf"],Yt=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Ht={type(rt){if(rt.some(Array.isArray)){var xt=rt.map(function(fr){return Array.isArray(fr)?fr:[fr]}),jt=j.apply(null,xt);if(jt.length===1)return jt[0];if(jt.length>1)return oe(jt)}},properties(rt,xt,jt,fr){fr.ignoreAdditionalProperties||(rt.forEach(function(xr){var ar=rt.filter(dr=>dr!==xr),Rt=Ie(xr.properties),jr=Ie(xr.patternProperties),yr=jr.map(dr=>new RegExp(dr));ar.forEach(function(dr){var pr=Ie(dr.properties),cr=pr.filter(Tr=>yr.some(Le=>Le.test(Tr))),Wr=Y(pr,Rt,cr);Wr.forEach(function(Tr){dr.properties[Tr]=jt.properties([dr.properties[Tr],xr.additionalProperties],Tr)})})}),rt.forEach(function(xr){var ar=rt.filter(jr=>jr!==xr),Rt=Ie(xr.patternProperties);xr.additionalProperties===!1&&ar.forEach(function(jr){var yr=Ie(jr.patternProperties),dr=Y(yr,Rt);dr.forEach(pr=>delete jr.patternProperties[pr])})}));var Or={additionalProperties:jt.additionalProperties(rt.map(xr=>xr.additionalProperties)),patternProperties:Z(rt.map(xr=>xr.patternProperties),jt.patternProperties),properties:Z(rt.map(xr=>xr.properties),jt.properties)};return Or.additionalProperties===!1&&Q(Or.properties),Or},dependencies(rt,xt,jt){var fr=Ge(rt);return fr.reduce(function(Or,xr){var ar=Ze(rt,xr),Rt=ye(ar.filter(ze),I),jr=Rt.filter(Array.isArray);if(jr.length){if(jr.length===Rt.length)Or[xr]=Ce(Rt);else{var yr=Rt.filter(re),dr=jr.map(_e);Or[xr]=jt(yr.concat(dr),xr)}return Or}return Rt=ye(Rt,m),Or[xr]=jt(Rt,xr),Or},{})},items(rt,xt,jt){var fr=rt.map(Rt=>Rt.items),Or=fr.filter(ze),xr={};Or.every(re)?xr.items=jt.items(fr):xr.items=Z(rt,jt.itemsArray,fr);var ar;return Or.every(Array.isArray)?ar=rt.map(Rt=>Rt.additionalItems):Or.some(Array.isArray)&&(ar=he(rt)),ar&&(xr.additionalItems=jt.additionalItems(ar)),xr.additionalItems===!1&&Array.isArray(xr.items)&&ne(xr.items),xr},oneOf(rt,xt,jt){var fr=ft(o(rt)),Or=et(fr,jt),xr=ye(Or,m);if(xr.length)return xr},not(rt){return{anyOf:rt}},pattern(rt,xt,jt,fr,Or){var xr=xt.pop();Or(rt.map(function(ar){return{[xr]:ar}}))},multipleOf(rt){for(var xt=rt.slice(0),jt=1;xt.some(fr=>!Number.isInteger(fr));)xt=xt.map(fr=>fr*10),jt=jt*10;return R(xt)/jt},enum(rt){var xt=$.apply(null,rt.concat(I));if(xt.length)return ee(xt)}};Ht.$id=ht,Ht.$ref=ht,Ht.$schema=ht,Ht.additionalItems=Ne,Ht.additionalProperties=Ne,Ht.anyOf=Ht.oneOf,Ht.contains=Ne,Ht.default=ht,Ht.definitions=Ht.dependencies,Ht.description=ht,Ht.examples=mt,Ht.exclusiveMaximum=Et,Ht.exclusiveMinimum=Ye,Ht.maximum=Et,Ht.maxItems=Et,Ht.maxLength=Et,Ht.maxProperties=Et,Ht.minimum=Ye,Ht.minItems=Ye,Ht.minLength=Ye,Ht.minProperties=Ye,Ht.propertyNames=Ne,Ht.required=st,Ht.title=ht,Ht.uniqueItems=rr;function Xt(rt,xt,jt){jt=jt||[],xt=O(xt,{ignoreAdditionalProperties:!1,resolvers:Ht});function fr(ar,Rt,jr){ar=o(ar.filter(ze)),jr=jr||[];var yr=J(Rt)?Rt:{};if(!ar.length)return;if(ar.some(M))return!1;if(ar.every(Ee))return!0;ar=ar.filter(J);var dr=Ge(ar);if(me(dr,"allOf"))return Xt({allOf:ar},xt,jt);var pr=dr.filter(ve);z(dr,pr);var cr=dr.filter(se);z(dr,cr),dr.forEach(function(Tr){var Le=Ze(ar,Tr),Gt=ye(Le.filter(ze),Mt(Tr));if(Gt.length===1&&me(Qt,Tr))yr[Tr]=Gt[0].map(function(_r){return fr([_r],_r)});else if(Gt.length===1&&!me(kt,Tr)&&!me(Yt,Tr))yr[Tr]=Gt[0];else{var ir=xt.resolvers[Tr]||xt.resolvers.defaultResolver;if(!ir)throw new Error("No resolver found for key "+Tr+". You can provide a resolver for this keyword in the options, or provide a default resolver.");var lr;me(kt,Tr)||me(Qt,Tr)?lr=Ue(fr,Tr,jr):lr=function(_r){return fr(_r,null,jr.concat(Tr))};var Sr=!1;yr[Tr]=ir(Gt,jr.concat(Tr),lr,xt,function(_r){return Sr=Array.isArray(_r),Wr(_r)}),yr[Tr]===void 0&&!Sr?Vt(Gt,jr.concat(Tr)):yr[Tr]===void 0&&delete yr[Tr]}}),Object.assign(yr,K(pr,"properties",ar,fr,xt,jr)),Object.assign(yr,K(cr,"items",ar,fr,xt,jr));function Wr(Tr){yr.allOf=_t(yr.allOf,Tr)}return yr}var Or=_(gt(rt)),xr=fr(Or,rt);return xr}Xt.options={resolvers:Ht},Te.exports=Xt},69914:function(Te,S){"use strict";var l;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=typeof Symbol=="function"&&Symbol.for,m=o?Symbol.for("react.element"):60103,R=o?Symbol.for("react.portal"):60106,O=o?Symbol.for("react.fragment"):60107,D=o?Symbol.for("react.strict_mode"):60108,_=o?Symbol.for("react.profiler"):60114,j=o?Symbol.for("react.provider"):60109,$=o?Symbol.for("react.context"):60110,I=o?Symbol.for("react.async_mode"):60111,J=o?Symbol.for("react.concurrent_mode"):60111,z=o?Symbol.for("react.forward_ref"):60112,ee=o?Symbol.for("react.suspense"):60113,te=o?Symbol.for("react.suspense_list"):60120,oe=o?Symbol.for("react.memo"):60115,ye=o?Symbol.for("react.lazy"):60116,F=o?Symbol.for("react.block"):60121,Y=o?Symbol.for("react.fundamental"):60117,ve=o?Symbol.for("react.responder"):60118,se=o?Symbol.for("react.scope"):60119;function me(re){if(typeof re=="object"&&re!==null){var M=re.$$typeof;switch(M){case m:switch(re=re.type,re){case I:case J:case O:case _:case D:case ee:return re;default:switch(re=re&&re.$$typeof,re){case $:case z:case ye:case oe:case j:return re;default:return M}}case R:return M}}}function xe(re){return me(re)===J}l=I,l=J,l=$,l=j,l=m,l=z,l=O,l=ye,l=oe,l=R,l=_,l=D,l=ee,l=function(re){return xe(re)||me(re)===I},l=xe,l=function(re){return me(re)===$},l=function(re){return me(re)===j},l=function(re){return typeof re=="object"&&re!==null&&re.$$typeof===m},S.isForwardRef=function(re){return me(re)===z},l=function(re){return me(re)===O},l=function(re){return me(re)===ye},S.isMemo=function(re){return me(re)===oe},l=function(re){return me(re)===R},l=function(re){return me(re)===_},l=function(re){return me(re)===D},l=function(re){return me(re)===ee},l=function(re){return typeof re=="string"||typeof re=="function"||re===O||re===J||re===_||re===D||re===ee||re===te||typeof re=="object"&&re!==null&&(re.$$typeof===ye||re.$$typeof===oe||re.$$typeof===j||re.$$typeof===$||re.$$typeof===z||re.$$typeof===Y||re.$$typeof===ve||re.$$typeof===se||re.$$typeof===F)},l=me},38294:function(Te,S,l){"use strict";Te.exports=l(69914)},80070:function(Te,S,l){"use strict";l.d(S,{Q2:function(){return cr}});var o=l(74182),m=l(52322),R=l(65549),O=l(61837),D=l(27292),_=l(95544),j=l(60905),$=l(27556),I=l(86619),J=l(90436),z=l(16715),ee=l(11776),te=l(38402),oe=l(86136),ye=l(49378),F=l(90324),Y=l(70595),ve=l(19353),se=l(17373),me=l(74828),xe=l(42494),re=l(77277),M=l(85256),Ee=l(21324),Ne=l(5806),Ce=l(64326),ze=l(84899),Ge=l(44962),ht=l(2682),st=l(11433),Ye=l(12231);function Et(){return Et=Object.assign?Object.assign.bind():function(Le){for(var Gt=1;Gt<arguments.length;Gt++){var ir=arguments[Gt];for(var lr in ir)Object.prototype.hasOwnProperty.call(ir,lr)&&(Le[lr]=ir[lr])}return Le},Et.apply(this,arguments)}function rr(Le,Gt){if(Le==null)return{};var ir={},lr=Object.keys(Le),Sr,_r;for(_r=0;_r<lr.length;_r++)Sr=lr[_r],!(Gt.indexOf(Sr)>=0)&&(ir[Sr]=Le[Sr]);return ir}var mt=["uiSchema","registry"];function Mt(Le){var Gt=Le.registry,ir=rr(Le,mt),lr=Gt.translateString;return(0,m.jsx)(O.Z,Et({title:lr(D.g8.AddItemButton)},ir,{color:"primary",children:(0,m.jsx)(R.Z,{})}))}function gt(Le){var Gt=Le.children,ir=Le.disabled,lr=Le.hasToolbar,Sr=Le.hasCopy,_r=Le.hasMoveDown,Er=Le.hasMoveUp,Zr=Le.hasRemove,Ir=Le.index,Rr=Le.onCopyIndexClick,Xr=Le.onDropIndexClick,fn=Le.onReorderClick,Nr=Le.readonly,ln=Le.uiSchema,mn=Le.registry,vn=mn.templates.ButtonTemplates,gn=vn.CopyButton,un=vn.MoveDownButton,cn=vn.MoveUpButton,Yr=vn.RemoveButton,yn={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return(0,m.jsxs)(j.Z,{container:!0,alignItems:"center",children:[(0,m.jsx)(j.Z,{item:!0,xs:!0,style:{overflow:"auto"},children:(0,m.jsx)(_.Z,{mb:2,children:(0,m.jsx)($.Z,{elevation:2,children:(0,m.jsx)(_.Z,{p:2,children:Gt})})})}),lr&&(0,m.jsxs)(j.Z,{item:!0,children:[(Er||_r)&&(0,m.jsx)(cn,{style:yn,disabled:ir||Nr||!Er,onClick:fn(Ir,Ir-1),uiSchema:ln,registry:mn}),(Er||_r)&&(0,m.jsx)(un,{style:yn,disabled:ir||Nr||!_r,onClick:fn(Ir,Ir+1),uiSchema:ln,registry:mn}),Sr&&(0,m.jsx)(gn,{style:yn,disabled:ir||Nr,onClick:Rr(Ir),uiSchema:ln,registry:mn}),Zr&&(0,m.jsx)(Yr,{style:yn,disabled:ir||Nr,onClick:Xr(Ir),uiSchema:ln,registry:mn})]})]})}var Ze=["key"];function bt(Le){var Gt=Le.canAdd,ir=Le.disabled,lr=Le.idSchema,Sr=Le.uiSchema,_r=Le.items,Er=Le.onAddClick,Zr=Le.readonly,Ir=Le.registry,Rr=Le.required,Xr=Le.schema,fn=Le.title,Nr=(0,D.LI)(Sr),ln=(0,D.t4)("ArrayFieldDescriptionTemplate",Ir,Nr),mn=(0,D.t4)("ArrayFieldItemTemplate",Ir,Nr),vn=(0,D.t4)("ArrayFieldTitleTemplate",Ir,Nr),gn=Ir.templates.ButtonTemplates.AddButton;return(0,m.jsx)($.Z,{elevation:2,children:(0,m.jsxs)(_.Z,{p:2,children:[(0,m.jsx)(vn,{idSchema:lr,title:Nr.title||fn,schema:Xr,uiSchema:Sr,required:Rr,registry:Ir}),(0,m.jsx)(ln,{idSchema:lr,description:Nr.description||Xr.description,schema:Xr,uiSchema:Sr,registry:Ir}),(0,m.jsxs)(j.Z,{container:!0,children:[_r&&_r.map(function(un){var cn=un.key,Yr=rr(un,Ze);return(0,m.jsx)(mn,Et({},Yr),cn)}),Gt&&(0,m.jsx)(j.Z,{container:!0,justifyContent:"flex-end",children:(0,m.jsx)(j.Z,{item:!0,children:(0,m.jsx)(_.Z,{mt:2,children:(0,m.jsx)(gn,{className:"array-item-add",onClick:Er,disabled:ir||Zr,uiSchema:Sr,registry:Ir})})})})]},"array-item-list-"+lr.$id)]})})}var et=["id","name","placeholder","required","readonly","disabled","type","label","hideLabel","value","onChange","onChangeOverride","onBlur","onFocus","autofocus","options","schema","uiSchema","rawErrors","formContext","registry","InputLabelProps"],he=["step","min","max"],Ie=["date","datetime-local","file","time"];function ft(Le){var Gt=Le.id,ir=Le.placeholder,lr=Le.required,Sr=Le.readonly,_r=Le.disabled,Er=Le.type,Zr=Le.label,Ir=Le.hideLabel,Rr=Le.value,Xr=Le.onChange,fn=Le.onChangeOverride,Nr=Le.onBlur,ln=Le.onFocus,mn=Le.autofocus,vn=Le.options,gn=Le.schema,un=Le.rawErrors,cn=un===void 0?[]:un,Yr=Le.InputLabelProps,yn=rr(Le,et),sn=(0,D.TC)(gn,Er,vn),Qr=sn.step,En=sn.min,bn=sn.max,oi=rr(sn,he),Ki=Et({inputProps:Et({step:Qr,min:En,max:bn},gn.examples?{list:(0,D.RS)(Gt)}:void 0)},oi),Pe=function(we){var ge=we.target.value;return Xr(ge===""?vn.emptyValue:ge)},y=function(we){var ge=we.target.value;return Nr(Gt,ge)},T=function(we){var ge=we.target.value;return ln(Gt,ge)},V=Ie.includes(Er)?Et({},Yr,{shrink:!0}):Yr;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.Z,Et({id:Gt,name:Gt,placeholder:ir,label:(0,D.RY)(Zr||void 0,Ir,!1),autoFocus:mn,required:lr,disabled:_r||Sr},Ki,{value:Rr||Rr===0?Rr:"",error:cn.length>0,onChange:fn||Pe,onBlur:y,onFocus:T,InputLabelProps:V},yn,{"aria-describedby":(0,D.Jx)(Gt,!!gn.examples)})),Array.isArray(gn.examples)&&(0,m.jsx)("datalist",{id:(0,D.RS)(Gt),children:gn.examples.concat(gn.default&&!gn.examples.includes(gn.default)?[gn.default]:[]).map(function(q){return(0,m.jsx)("option",{value:q},q)})})]})}function _t(Le){var Gt=Le.id,ir=Le.description;return ir?(0,m.jsx)(J.Z,{id:Gt,variant:"subtitle2",style:{marginTop:"5px"},children:ir}):null}function Vt(Le){var Gt=Le.errors,ir=Le.registry,lr=ir.translateString;return(0,m.jsx)($.Z,{elevation:2,children:(0,m.jsxs)(_.Z,{mb:2,p:2,children:[(0,m.jsx)(J.Z,{variant:"h6",children:lr(D.g8.ErrorsLabel)}),(0,m.jsx)(ee.Z,{dense:!0,children:Gt.map(function(Sr,_r){return(0,m.jsxs)(te.Z,{children:[(0,m.jsx)(oe.Z,{children:(0,m.jsx)(z.Z,{color:"error"})}),(0,m.jsx)(ye.Z,{primary:Sr.stack})]},_r)})})]})})}var Cr=["icon","color","uiSchema","registry"],Ue=["iconType"];function K(Le){var Gt=Le.icon,ir=Le.color,lr=rr(Le,Cr);return(0,m.jsx)(O.Z,Et({},lr,{size:"small",color:ir,children:Gt}))}function Z(Le){var Gt=Le.registry.translateString;return(0,m.jsx)(K,Et({title:Gt(D.g8.CopyButton)},Le,{icon:(0,m.jsx)(ve.Z,{fontSize:"small"})}))}function Q(Le){var Gt=Le.registry.translateString;return(0,m.jsx)(K,Et({title:Gt(D.g8.MoveDownButton)},Le,{icon:(0,m.jsx)(Y.Z,{fontSize:"small"})}))}function ne(Le){var Gt=Le.registry.translateString;return(0,m.jsx)(K,Et({title:Gt(D.g8.MoveUpButton)},Le,{icon:(0,m.jsx)(F.Z,{fontSize:"small"})}))}function _e(Le){var Gt=Le.iconType,ir=rr(Le,Ue),lr=ir.registry.translateString;return(0,m.jsx)(K,Et({title:lr(D.g8.RemoveButton)},ir,{color:"secondary",icon:(0,m.jsx)(se.Z,{fontSize:Gt==="default"?"medium":"small"})}))}function Xe(Le){var Gt=Le.errors,ir=Gt===void 0?[]:Gt,lr=Le.idSchema;if(ir.length===0)return null;var Sr=(0,D.UR)(lr);return(0,m.jsx)(ee.Z,{dense:!0,disablePadding:!0,children:ir.map(function(_r,Er){return(0,m.jsx)(te.Z,{disableGutters:!0,children:(0,m.jsx)(me.Z,{id:Sr,children:_r})},Er)})})}function lt(Le){var Gt=Le.idSchema,ir=Le.help;if(!ir)return null;var lr=(0,D.JL)(Gt);return(0,m.jsx)(me.Z,{id:lr,children:ir})}function kt(Le){var Gt=Le.id,ir=Le.children,lr=Le.classNames,Sr=Le.style,_r=Le.disabled,Er=Le.displayLabel,Zr=Le.hidden,Ir=Le.label,Rr=Le.onDropPropertyClick,Xr=Le.onKeyChange,fn=Le.readonly,Nr=Le.required,ln=Le.rawErrors,mn=ln===void 0?[]:ln,vn=Le.errors,gn=Le.help,un=Le.rawDescription,cn=Le.schema,Yr=Le.uiSchema,yn=Le.registry,sn=(0,D.LI)(Yr),Qr=(0,D.t4)("WrapIfAdditionalTemplate",yn,sn);return Zr?(0,m.jsx)("div",{style:{display:"none"},children:ir}):(0,m.jsx)(Qr,{classNames:lr,style:Sr,disabled:_r,id:Gt,label:Ir,onDropPropertyClick:Rr,onKeyChange:Xr,readonly:fn,required:Nr,schema:cn,uiSchema:Yr,registry:yn,children:(0,m.jsxs)(xe.Z,{fullWidth:!0,error:!!mn.length,required:Nr,children:[ir,Er&&un?(0,m.jsx)(J.Z,{variant:"caption",color:"textSecondary",children:un}):null,vn,gn]})})}function Qt(Le){var Gt=Le.description,ir=Le.title,lr=Le.properties,Sr=Le.required,_r=Le.disabled,Er=Le.readonly,Zr=Le.uiSchema,Ir=Le.idSchema,Rr=Le.schema,Xr=Le.formData,fn=Le.onAddClick,Nr=Le.registry,ln=(0,D.LI)(Zr),mn=(0,D.t4)("TitleFieldTemplate",Nr,ln),vn=(0,D.t4)("DescriptionFieldTemplate",Nr,ln),gn=Nr.templates.ButtonTemplates.AddButton;return(0,m.jsxs)(m.Fragment,{children:[ir&&(0,m.jsx)(mn,{id:(0,D.Vt)(Ir),title:ir,required:Sr,schema:Rr,uiSchema:Zr,registry:Nr}),Gt&&(0,m.jsx)(vn,{id:(0,D.Si)(Ir),description:Gt,schema:Rr,uiSchema:Zr,registry:Nr}),(0,m.jsxs)(j.Z,{container:!0,spacing:2,style:{marginTop:"10px"},children:[lr.map(function(un,cn){return un.hidden?un.content:(0,m.jsx)(j.Z,{item:!0,xs:12,style:{marginBottom:"10px"},children:un.content},cn)}),(0,D.Rc)(Rr,Zr,Xr)&&(0,m.jsx)(j.Z,{container:!0,justifyContent:"flex-end",children:(0,m.jsx)(j.Z,{item:!0,children:(0,m.jsx)(gn,{className:"object-property-expand",onClick:fn(Rr),disabled:_r||Er,uiSchema:Zr,registry:Nr})})})]})]})}function Yt(Le){var Gt=Le.uiSchema,ir=(0,D.rF)(Gt),lr=ir.submitText,Sr=ir.norender,_r=ir.props,Er=_r===void 0?{}:_r;return Sr?null:(0,m.jsx)(_.Z,{marginTop:3,children:(0,m.jsx)(re.Z,Et({type:"submit",variant:"contained",color:"primary"},Er,{children:lr}))})}function Ht(Le){var Gt=Le.id,ir=Le.title;return(0,m.jsxs)(_.Z,{id:Gt,mb:1,mt:1,children:[(0,m.jsx)(J.Z,{variant:"h5",children:ir}),(0,m.jsx)(M.Z,{})]})}function Xt(Le){var Gt=Le.children,ir=Le.classNames,lr=Le.style,Sr=Le.disabled,_r=Le.id,Er=Le.label,Zr=Le.onDropPropertyClick,Ir=Le.onKeyChange,Rr=Le.readonly,Xr=Le.required,fn=Le.schema,Nr=Le.uiSchema,ln=Le.registry,mn=ln.templates,vn=ln.translateString,gn=mn.ButtonTemplates.RemoveButton,un=vn(D.g8.KeyLabel,[Er]),cn=D.jk in fn,Yr={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!cn)return(0,m.jsx)("div",{className:ir,style:lr,children:Gt});var yn=function(Qr){var En=Qr.target;return Ir(En.value)};return(0,m.jsxs)(j.Z,{container:!0,alignItems:"center",spacing:2,className:ir,style:lr,children:[(0,m.jsx)(j.Z,{item:!0,xs:!0,children:(0,m.jsx)(I.Z,{fullWidth:!0,required:Xr,label:un,defaultValue:Er,disabled:Sr||Rr,id:_r+"-key",name:_r+"-key",onBlur:Rr?void 0:yn,type:"text"})}),(0,m.jsx)(j.Z,{item:!0,xs:!0,children:Gt}),(0,m.jsx)(j.Z,{item:!0,children:(0,m.jsx)(gn,{iconType:"default",style:Yr,disabled:Sr||Rr,onClick:Zr(Er),uiSchema:Nr,registry:ln})})]},_r+"-key")}function rt(){return{ArrayFieldItemTemplate:gt,ArrayFieldTemplate:bt,BaseInputTemplate:ft,ButtonTemplates:{AddButton:Mt,CopyButton:Z,MoveDownButton:Q,MoveUpButton:ne,RemoveButton:_e,SubmitButton:Yt},DescriptionFieldTemplate:_t,ErrorListTemplate:Vt,FieldErrorTemplate:Xe,FieldHelpTemplate:lt,FieldTemplate:kt,ObjectFieldTemplate:Qt,TitleFieldTemplate:Ht,WrapIfAdditionalTemplate:Xt}}var xt=null;function jt(Le){var Gt,ir=Le.schema,lr=Le.id,Sr=Le.value,_r=Le.disabled,Er=Le.readonly,Zr=Le.label,Ir=Zr===void 0?"":Zr,Rr=Le.hideLabel,Xr=Le.autofocus,fn=Le.onChange,Nr=Le.onBlur,ln=Le.onFocus,mn=Le.registry,vn=Le.options,gn=Le.uiSchema,un=(0,D.t4)("DescriptionFieldTemplate",mn,vn),cn=(0,D.iE)(ir),Yr=function(bn,oi){return fn(oi)},yn=function(bn){var oi=bn.target.value;return Nr(lr,oi)},sn=function(bn){var oi=bn.target.value;return ln(lr,oi)},Qr=(Gt=vn.description)!=null?Gt:ir.description;return(0,m.jsxs)(m.Fragment,{children:[!Rr&&!!Qr&&(0,m.jsx)(un,{id:(0,D.Si)(lr),description:Qr,schema:ir,uiSchema:gn,registry:mn}),(0,m.jsx)(Ne.Z,{control:(0,m.jsx)(Ee.Z,{id:lr,name:lr,checked:typeof Sr=="undefined"?!1:Boolean(Sr),required:cn,disabled:_r||Er,autoFocus:Xr,onChange:Yr,onBlur:yn,onFocus:sn,"aria-describedby":(0,D.Jx)(lr)}),label:(0,D.RY)(Ir,Rr,!1)})]})}function fr(Le){var Gt=Le.label,ir=Le.hideLabel,lr=Le.id,Sr=Le.disabled,_r=Le.options,Er=Le.value,Zr=Le.autofocus,Ir=Le.readonly,Rr=Le.required,Xr=Le.onChange,fn=Le.onBlur,Nr=Le.onFocus,ln=_r.enumOptions,mn=_r.enumDisabled,vn=_r.inline,gn=_r.emptyValue,un=Array.isArray(Er)?Er:[Er],cn=function(Qr){return function(En){var bn=En.target.checked;Xr(bn?(0,D.U3)(Qr,un,ln):(0,D.aI)(Qr,un,ln))}},Yr=function(Qr){var En=Qr.target.value;return fn(lr,(0,D.QP)(En,ln,gn))},yn=function(Qr){var En=Qr.target.value;return Nr(lr,(0,D.QP)(En,ln,gn))};return(0,m.jsxs)(m.Fragment,{children:[(0,D.RY)((0,m.jsx)(ze.Z,{required:Rr,htmlFor:lr,children:Gt||void 0}),ir),(0,m.jsx)(Ce.Z,{id:lr,row:!!vn,children:Array.isArray(ln)&&ln.map(function(sn,Qr){var En=(0,D.TR)(sn.value,un),bn=Array.isArray(mn)&&mn.indexOf(sn.value)!==-1,oi=(0,m.jsx)(Ee.Z,{id:(0,D.DK)(lr,Qr),name:lr,checked:En,disabled:Sr||bn||Ir,autoFocus:Zr&&Qr===0,onChange:cn(Qr),onBlur:Yr,onFocus:yn,"aria-describedby":(0,D.Jx)(lr)});return(0,m.jsx)(Ne.Z,{control:oi,label:sn.label},Qr)})})]})}function Or(Le){var Gt,ir=Le.id,lr=Le.options,Sr=Le.value,_r=Le.required,Er=Le.disabled,Zr=Le.readonly,Ir=Le.label,Rr=Le.hideLabel,Xr=Le.onChange,fn=Le.onBlur,Nr=Le.onFocus,ln=lr.enumOptions,mn=lr.enumDisabled,vn=lr.emptyValue,gn=function(Qr,En){return Xr((0,D.QP)(En,ln,vn))},un=function(Qr){var En=Qr.target.value;return fn(ir,(0,D.QP)(En,ln,vn))},cn=function(Qr){var En=Qr.target.value;return Nr(ir,(0,D.QP)(En,ln,vn))},Yr=lr?lr.inline:!1,yn=(Gt=(0,D.Rt)(Sr,ln))!=null?Gt:null;return(0,m.jsxs)(m.Fragment,{children:[(0,D.RY)((0,m.jsx)(ze.Z,{required:_r,htmlFor:ir,children:Ir||void 0}),Rr),(0,m.jsx)(ht.Z,{id:ir,name:ir,value:yn,row:Yr,onChange:gn,onBlur:un,onFocus:cn,"aria-describedby":(0,D.Jx)(ir),children:Array.isArray(ln)&&ln.map(function(sn,Qr){var En=Array.isArray(mn)&&mn.indexOf(sn.value)!==-1,bn=(0,m.jsx)(Ne.Z,{control:(0,m.jsx)(Ge.Z,{name:ir,id:(0,D.DK)(ir,Qr),color:"primary"}),label:sn.label,value:String(Qr),disabled:Er||En||Zr},Qr);return bn})})]})}function xr(Le){var Gt=Le.value,ir=Le.readonly,lr=Le.disabled,Sr=Le.onBlur,_r=Le.onFocus,Er=Le.options,Zr=Le.schema,Ir=Le.onChange,Rr=Le.required,Xr=Le.label,fn=Le.hideLabel,Nr=Le.id,ln=Et({value:Gt,label:Xr,id:Nr,name:Nr},(0,D.um)(Zr)),mn=function(cn,Yr){Ir(Yr!=null?Yr:Er.emptyValue)},vn=function(cn){var Yr=cn.target.value;return Sr(Nr,Yr)},gn=function(cn){var Yr=cn.target.value;return _r(Nr,Yr)};return(0,m.jsxs)(m.Fragment,{children:[(0,D.RY)((0,m.jsx)(ze.Z,{required:Rr,htmlFor:Nr,children:Xr||void 0}),fn),(0,m.jsx)(st.Z,Et({disabled:lr||ir,onChange:mn,onBlur:vn,onFocus:gn,valueLabelDisplay:"auto"},ln,{"aria-describedby":(0,D.Jx)(Nr)}))]})}var ar=["schema","id","name","options","label","hideLabel","required","disabled","readonly","placeholder","value","multiple","autofocus","onChange","onBlur","onFocus","rawErrors","registry","uiSchema","hideError","formContext"];function Rt(Le){var Gt=Le.id,ir=Le.options,lr=Le.label,Sr=Le.hideLabel,_r=Le.required,Er=Le.disabled,Zr=Le.readonly,Ir=Le.placeholder,Rr=Le.value,Xr=Le.multiple,fn=Le.autofocus,Nr=Le.onChange,ln=Le.onBlur,mn=Le.onFocus,vn=Le.rawErrors,gn=vn===void 0?[]:vn,un=rr(Le,ar),cn=ir.enumOptions,Yr=ir.enumDisabled,yn=ir.emptyValue;Xr=typeof Xr=="undefined"?!1:!!Xr;var sn=Xr?[]:"",Qr=typeof Rr=="undefined"||Xr&&Rr.length<1||!Xr&&Rr===sn,En=function(y){var T=y.target.value;return Nr((0,D.QP)(T,cn,yn))},bn=function(y){var T=y.target.value;return ln(Gt,(0,D.QP)(T,cn,yn))},oi=function(y){var T=y.target.value;return mn(Gt,(0,D.QP)(T,cn,yn))},Ki=(0,D.Rt)(Rr,cn,Xr);return(0,m.jsx)(I.Z,Et({id:Gt,name:Gt,label:(0,D.RY)(lr,Sr||!lr,!1),value:Qr?sn:Ki,required:_r,disabled:Er||Zr,autoFocus:fn,placeholder:Ir,error:gn.length>0,onChange:En,onBlur:bn,onFocus:oi},un,{select:!0,InputLabelProps:Et({},un.InputLabelProps,{shrink:!Qr}),SelectProps:Et({},un.SelectProps,{multiple:Xr}),"aria-describedby":(0,D.Jx)(Gt),children:Array.isArray(cn)&&cn.map(function(Pe,y){var T=Pe.value,V=Pe.label,q=Array.isArray(Yr)&&Yr.indexOf(T)!==-1;return(0,m.jsx)(Ye.Z,{value:String(y),disabled:q,children:V},y)})}))}function jr(Le){var Gt=Le.options,ir=Le.registry,lr=(0,D.t4)("BaseInputTemplate",ir,Gt),Sr=5;return(typeof Gt.rows=="string"||typeof Gt.rows=="number")&&(Sr=Gt.rows),(0,m.jsx)(lr,Et({},Le,{multiline:!0,rows:Sr}))}function yr(){return{CheckboxWidget:jt,CheckboxesWidget:fr,RadioWidget:Or,RangeWidget:xr,SelectWidget:Rt,TextareaWidget:jr}}var dr=null;function pr(){return{templates:rt(),widgets:yr()}}var cr=pr();function Wr(){return withTheme(pr())}var Tr=null},27292:function(Te,S,l){"use strict";l.d(S,{jk:function(){return Bn},F8:function(){return Oi},M9:function(){return ei},BO:function(){return no},YU:function(){return lo},PK:function(){return ji},If:function(){return Fo},MA:function(){return Ei},Sr:function(){return Jn},g$:function(){return _i},dW:function(){return kr},t5:function(){return xo},g8:function(){return Ws},J1:function(){return Js},ji:function(){return ns},TE:function(){return Ro},Jx:function(){return ca},mH:function(){return Ji},Rc:function(){return is},v$:function(){return os},hf:function(){return Qs},OP:function(){return Ua},qt:function(){return ss},Si:function(){return Yi},XG:function(){return qs},aI:function(){return io},Rt:function(){return Xa},TR:function(){return us},U3:function(){return Fs},QP:function(){return Go},UR:function(){return cs},RS:function(){return Xo},Tx:function(){return Za},TC:function(){return Va},f_:function(){return Ni},rF:function(){return ea},t4:function(){return Gi},LI:function(){return Fn},us:function(){return Wo},H7:function(){return ka},JL:function(){return Ma},A7:function(){return _a},FZ:function(){return eo},Kn:function(){return Dn},RY:function(){return Cs},_4:function(){return wa},PM:function(){return Xs},DK:function(){return Ka},pp:function(){return fs},$2:function(){return js},vk:function(){return ds},xk:function(){return $a},um:function(){return Li},iE:function(){return Ns},N0:function(){return Ls},Vt:function(){return xs},tC:function(){return fa},mp:function(){return Qo},y5:function(){return Bs},yv:function(){return za},Yp:function(){return hs},J0:function(){return bo},RQ:function(){return Oa}});var o=l(65255),m=l(46218),R=l(43703),O="__lodash_hash_undefined__";function D(C){return this.__data__.set(C,O),this}var _=D;function j(C){return this.__data__.has(C)}var $=j;function I(C){var U=-1,ie=C==null?0:C.length;for(this.__data__=new R.Z;++U<ie;)this.add(C[U])}I.prototype.add=I.prototype.push=_,I.prototype.has=$;var J=I;function z(C,U){for(var ie=-1,Oe=C==null?0:C.length;++ie<Oe;)if(U(C[ie],ie,C))return!0;return!1}var ee=z;function te(C,U){return C.has(U)}var oe=te,ye=1,F=2;function Y(C,U,ie,Oe,De,Re){var at=ie&ye,It=C.length,Ct=U.length;if(It!=Ct&&!(at&&Ct>It))return!1;var or=Re.get(C),vr=Re.get(U);if(or&&vr)return or==U&&vr==C;var Ar=-1,Br=!0,Sn=ie&F?new J:void 0;for(Re.set(C,U),Re.set(U,C);++Ar<It;){var Kn=C[Ar],kn=U[Ar];if(Oe)var Tn=at?Oe(kn,Kn,Ar,U,C,Re):Oe(Kn,kn,Ar,C,U,Re);if(Tn!==void 0){if(Tn)continue;Br=!1;break}if(Sn){if(!ee(U,function(qn,vi){if(!oe(Sn,vi)&&(Kn===qn||De(Kn,qn,ie,Oe,Re)))return Sn.push(vi)})){Br=!1;break}}else if(!(Kn===kn||De(Kn,kn,ie,Oe,Re))){Br=!1;break}}return Re.delete(C),Re.delete(U),Br}var ve=Y,se=l(187),me=l(88282),xe=l(78804);function re(C){var U=-1,ie=Array(C.size);return C.forEach(function(Oe,De){ie[++U]=[De,Oe]}),ie}var M=re;function Ee(C){var U=-1,ie=Array(C.size);return C.forEach(function(Oe){ie[++U]=Oe}),ie}var Ne=Ee,Ce=1,ze=2,Ge="[object Boolean]",ht="[object Date]",st="[object Error]",Ye="[object Map]",Et="[object Number]",rr="[object RegExp]",mt="[object Set]",Mt="[object String]",gt="[object Symbol]",Ze="[object ArrayBuffer]",bt="[object DataView]",et=se.Z?se.Z.prototype:void 0,he=et?et.valueOf:void 0;function Ie(C,U,ie,Oe,De,Re,at){switch(ie){case bt:if(C.byteLength!=U.byteLength||C.byteOffset!=U.byteOffset)return!1;C=C.buffer,U=U.buffer;case Ze:return!(C.byteLength!=U.byteLength||!Re(new me.Z(C),new me.Z(U)));case Ge:case ht:case Et:return(0,xe.Z)(+C,+U);case st:return C.name==U.name&&C.message==U.message;case rr:case Mt:return C==U+"";case Ye:var It=M;case mt:var Ct=Oe&Ce;if(It||(It=Ne),C.size!=U.size&&!Ct)return!1;var or=at.get(C);if(or)return or==U;Oe|=ze,at.set(C,U);var vr=ve(It(C),It(U),Oe,De,Re,at);return at.delete(C),vr;case gt:if(he)return he.call(C)==he.call(U)}return!1}var ft=Ie,_t=l(37245),Vt=1,Cr=Object.prototype,Ue=Cr.hasOwnProperty;function K(C,U,ie,Oe,De,Re){var at=ie&Vt,It=(0,_t.Z)(C),Ct=It.length,or=(0,_t.Z)(U),vr=or.length;if(Ct!=vr&&!at)return!1;for(var Ar=Ct;Ar--;){var Br=It[Ar];if(!(at?Br in U:Ue.call(U,Br)))return!1}var Sn=Re.get(C),Kn=Re.get(U);if(Sn&&Kn)return Sn==U&&Kn==C;var kn=!0;Re.set(C,U),Re.set(U,C);for(var Tn=at;++Ar<Ct;){Br=It[Ar];var qn=C[Br],vi=U[Br];if(Oe)var co=at?Oe(vi,qn,Br,U,C,Re):Oe(qn,vi,Br,C,U,Re);if(!(co===void 0?qn===vi||De(qn,vi,ie,Oe,Re):co)){kn=!1;break}Tn||(Tn=Br=="constructor")}if(kn&&!Tn){var bi=C.constructor,so=U.constructor;bi!=so&&"constructor"in C&&"constructor"in U&&!(typeof bi=="function"&&bi instanceof bi&&typeof so=="function"&&so instanceof so)&&(kn=!1)}return Re.delete(C),Re.delete(U),kn}var Z=K,Q=l(57210),ne=l(97885),_e=l(74975),Xe=l(98127),lt=1,kt="[object Arguments]",Qt="[object Array]",Yt="[object Object]",Ht=Object.prototype,Xt=Ht.hasOwnProperty;function rt(C,U,ie,Oe,De,Re){var at=(0,ne.Z)(C),It=(0,ne.Z)(U),Ct=at?Qt:(0,Q.Z)(C),or=It?Qt:(0,Q.Z)(U);Ct=Ct==kt?Yt:Ct,or=or==kt?Yt:or;var vr=Ct==Yt,Ar=or==Yt,Br=Ct==or;if(Br&&(0,_e.Z)(C)){if(!(0,_e.Z)(U))return!1;at=!0,vr=!1}if(Br&&!vr)return Re||(Re=new m.Z),at||(0,Xe.Z)(C)?ve(C,U,ie,Oe,De,Re):ft(C,U,Ct,ie,Oe,De,Re);if(!(ie&lt)){var Sn=vr&&Xt.call(C,"__wrapped__"),Kn=Ar&&Xt.call(U,"__wrapped__");if(Sn||Kn){var kn=Sn?C.value():C,Tn=Kn?U.value():U;return Re||(Re=new m.Z),De(kn,Tn,ie,Oe,Re)}}return Br?(Re||(Re=new m.Z),Z(C,U,ie,Oe,De,Re)):!1}var xt=rt,jt=l(43391);function fr(C,U,ie,Oe,De){return C===U?!0:C==null||U==null||!(0,jt.Z)(C)&&!(0,jt.Z)(U)?C!==C&&U!==U:xt(C,U,ie,Oe,fr,De)}var Or=fr;function xr(C,U,ie){ie=typeof ie=="function"?ie:void 0;var Oe=ie?ie(C,U):void 0;return Oe===void 0?Or(C,U,void 0,ie):!!Oe}var ar=xr,Rt=l(90772),jr=l(7279),yr=l(404),dr=l(39075),pr=l(6279),cr=l(93122),Wr=l(1284);function Tr(C,U,ie,Oe){var De=-1,Re=C==null?0:C.length;for(Oe&&Re&&(ie=C[++De]);++De<Re;)ie=U(ie,C[De],De,C);return ie}var Le=Tr;function Gt(C){return function(U,ie,Oe){for(var De=-1,Re=Object(U),at=Oe(U),It=at.length;It--;){var Ct=at[C?It:++De];if(ie(Re[Ct],Ct,Re)===!1)break}return U}}var ir=Gt,lr=ir(),Sr=lr,_r=l(20649);function Er(C,U){return C&&Sr(C,U,_r.Z)}var Zr=Er,Ir=l(63282);function Rr(C,U){return function(ie,Oe){if(ie==null)return ie;if(!(0,Ir.Z)(ie))return C(ie,Oe);for(var De=ie.length,Re=U?De:-1,at=Object(ie);(U?Re--:++Re<De)&&Oe(at[Re],Re,at)!==!1;);return ie}}var Xr=Rr,fn=Xr(Zr),Nr=fn,ln=1,mn=2;function vn(C,U,ie,Oe){var De=ie.length,Re=De,at=!Oe;if(C==null)return!Re;for(C=Object(C);De--;){var It=ie[De];if(at&&It[2]?It[1]!==C[It[0]]:!(It[0]in C))return!1}for(;++De<Re;){It=ie[De];var Ct=It[0],or=C[Ct],vr=It[1];if(at&&It[2]){if(or===void 0&&!(Ct in C))return!1}else{var Ar=new m.Z;if(Oe)var Br=Oe(or,vr,Ct,C,U,Ar);if(!(Br===void 0?Or(vr,or,ln|mn,Oe,Ar):Br))return!1}}return!0}var gn=vn;function un(C){return C===C&&!(0,cr.Z)(C)}var cn=un;function Yr(C){for(var U=(0,_r.Z)(C),ie=U.length;ie--;){var Oe=U[ie],De=C[Oe];U[ie]=[Oe,De,cn(De)]}return U}var yn=Yr;function sn(C,U){return function(ie){return ie==null?!1:ie[C]===U&&(U!==void 0||C in Object(ie))}}var Qr=sn;function En(C){var U=yn(C);return U.length==1&&U[0][2]?Qr(U[0][0],U[0][1]):function(ie){return ie===C||gn(ie,C,U)}}var bn=En,oi=l(12930),Ki=l(23502),Pe=l(57969),y=1,T=2;function V(C,U){return(0,Ki.Z)(C)&&cn(U)?Qr((0,Pe.Z)(C),U):function(ie){var Oe=(0,Rt.Z)(ie,C);return Oe===void 0&&Oe===U?(0,oi.Z)(ie,C):Or(U,Oe,y|T)}}var q=V,we=l(89930);function ge(C){return function(U){return U==null?void 0:U[C]}}var Ve=ge,je=l(89523);function At(C){return function(U){return(0,je.Z)(U,C)}}var Ft=At;function Wt(C){return(0,Ki.Z)(C)?Ve((0,Pe.Z)(C)):Ft(C)}var Pr=Wt;function mr(C){return typeof C=="function"?C:C==null?we.Z:typeof C=="object"?(0,ne.Z)(C)?q(C[0],C[1]):bn(C):Pr(C)}var On=mr;function Mn(C,U,ie,Oe,De){return De(C,function(Re,at,It){ie=Oe?(Oe=!1,Re):U(ie,Re,at,It)}),ie}var zn=Mn;function Mi(C,U,ie){var Oe=(0,ne.Z)(C)?Le:zn,De=arguments.length<3;return Oe(C,On(U,4),ie,De,Nr)}var $i=Mi,Cn=l(19510);function Zo(C){return typeof C=="function"?C:we.Z}var So=Zo,ko=/\s/;function $n(C){for(var U=C.length;U--&&ko.test(C.charAt(U)););return U}var Ii=$n,Mo=/^\s+/;function Jt(C){return C&&C.slice(0,Ii(C)+1).replace(Mo,"")}var be=Jt,N=l(22758),X=0/0,Me=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,nt=/^0o[0-7]+$/i,ct=parseInt;function Bt(C){if(typeof C=="number")return C;if((0,N.Z)(C))return X;if((0,cr.Z)(C)){var U=typeof C.valueOf=="function"?C.valueOf():C;C=(0,cr.Z)(U)?U+"":U}if(typeof C!="string")return C===0?C:+C;C=be(C);var ie=Fe.test(C);return ie||nt.test(C)?ct(C.slice(2),ie?2:8):Me.test(C)?X:+C}var Nt=Bt,Lr=1/0,Kr=17976931348623157e292;function In(C){if(!C)return C===0?C:0;if(C=Nt(C),C===Lr||C===-Lr){var U=C<0?-1:1;return U*Kr}return C===C?C:0}var wi=In;function Ci(C){var U=wi(C),ie=U%1;return U===U?ie?U-ie:U:0}var si=Ci,Si=9007199254740991,zi=4294967295,ys=Math.min;function rs(C,U){if(C=si(C),C<1||C>Si)return[];var ie=zi,Oe=ys(C,zi);U=So(U),C-=zi;for(var De=(0,Cn.Z)(Oe,U);++ie<C;)U(ie);return De}var va=rs,Uo=l(25513),zs=l(33372),pt=l.n(zs),He=l(53338),Lt=l(91130),Kt=l(19603);function nr(C,U){return(0,Kt.Z)((0,Lt.Z)(C,U,we.Z),C+"")}var Ur=nr;function Fr(C,U,ie,Oe){for(var De=C.length,Re=ie+(Oe?1:-1);Oe?Re--:++Re<De;)if(U(C[Re],Re,C))return Re;return-1}var en=Fr;function ai(C){return C!==C}var Hn=ai;function Yn(C,U,ie){for(var Oe=ie-1,De=C.length;++Oe<De;)if(C[Oe]===U)return Oe;return-1}var rn=Yn;function tn(C,U,ie){return U===U?rn(C,U,ie):en(C,Hn,ie)}var Zn=tn;function an(C,U){var ie=C==null?0:C.length;return!!ie&&Zn(C,U,0)>-1}var mi=an;function Ai(C,U,ie){for(var Oe=-1,De=C==null?0:C.length;++Oe<De;)if(ie(U,C[Oe]))return!0;return!1}var Fi=Ai,Qi=l(87459);function Xn(){}var _n=Xn,Ri=1/0,An=Qi.Z&&1/Ne(new Qi.Z([,-0]))[1]==Ri?function(C){return new Qi.Z(C)}:_n,Vo=An,Hi=200;function ci(C,U,ie){var Oe=-1,De=mi,Re=C.length,at=!0,It=[],Ct=It;if(ie)at=!1,De=Fi;else if(Re>=Hi){var or=U?null:Vo(C);if(or)return Ne(or);at=!1,De=oe,Ct=new J}else Ct=U?[]:It;e:for(;++Oe<Re;){var vr=C[Oe],Ar=U?U(vr):vr;if(vr=ie||vr!==0?vr:0,at&&Ar===Ar){for(var Br=Ct.length;Br--;)if(Ct[Br]===Ar)continue e;U&&Ct.push(Ar),It.push(vr)}else De(Ct,Ar,ie)||(Ct!==It&&Ct.push(Ar),It.push(vr))}return It}var Eo=ci;function wo(C){return(0,jt.Z)(C)&&(0,Ir.Z)(C)}var $o=wo,fi=Ur(function(C){return Eo((0,He.Z)(C,1,$o,!0))}),ro=fi;function Pi(C,U){return Or(C,U)}var mo=Pi,Io=l(7921),ao=l(52322),Ps=l(2784),Hs=l(63708),vs=l(55487);function Dn(C){return typeof File!="undefined"&&C instanceof File||typeof Date!="undefined"&&C instanceof Date?!1:typeof C=="object"&&C!==null&&!Array.isArray(C)}function Ro(C){return C.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Dn(C.additionalItems)}function Ji(C){if(C!==""){if(C===null)return null;if(/\.$/.test(C)||/\.0$/.test(C)||/\.\d*0$/.test(C))return C;var U=Number(C),ie=typeof U=="number"&&!Number.isNaN(U);return ie?U:C}}function Ko(C,U){for(var ie=0;ie<U.length;ie++){var Oe=U[ie];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(C,gi(Oe.key),Oe)}}function qi(C,U,ie){return U&&Ko(C.prototype,U),ie&&Ko(C,ie),Object.defineProperty(C,"prototype",{writable:!1}),C}function dn(){return dn=Object.assign?Object.assign.bind():function(C){for(var U=1;U<arguments.length;U++){var ie=arguments[U];for(var Oe in ie)Object.prototype.hasOwnProperty.call(ie,Oe)&&(C[Oe]=ie[Oe])}return C},dn.apply(this,arguments)}function Ts(C){if(C==null)throw new TypeError("Cannot destructure "+C)}function Ti(C,U){if(C==null)return{};var ie={},Oe=Object.keys(C),De,Re;for(Re=0;Re<Oe.length;Re++)De=Oe[Re],!(U.indexOf(De)>=0)&&(ie[De]=C[De]);return ie}function zo(C,U){if(typeof C!="object"||C===null)return C;var ie=C[Symbol.toPrimitive];if(ie!==void 0){var Oe=ie.call(C,U||"default");if(typeof Oe!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(C)}function gi(C){var U=zo(C,"string");return typeof U=="symbol"?U:String(U)}var Bn="__additional_property",Oo="additionalProperties",Un="allOf",Oi="anyOf",pi="const",li="default",Ho="definitions",po="dependencies",bs="enum",ei="__errors",no="$id",lo="items",ji="$name",Fo="oneOf",Ei="properties",Ss="required",xo="submitButtonOptions",Jn="$ref",_i="__rjsf_additionalProperties",kr="__rjsf_rootSchema",Qn="ui:field",go="ui:widget",ns="ui:options",Js="ui:globalOptions";function Fn(C,U){return C===void 0&&(C={}),U===void 0&&(U={}),Object.keys(C).filter(function(ie){return ie.indexOf("ui:")===0}).reduce(function(ie,Oe){var De,Re=C[Oe];return Oe===go&&Dn(Re)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),ie):Oe===ns&&Dn(Re)?dn({},ie,Re):dn({},ie,(De={},De[Oe.substring(3)]=Re,De))},dn({},U))}function is(C,U,ie){if(U===void 0&&(U={}),!C.additionalProperties)return!1;var Oe=Fn(U),De=Oe.expandable,Re=De===void 0?!0:De;return Re===!1?Re:C.maxProperties!==void 0&&ie?Object.keys(ie).length<C.maxProperties:!0}function os(C){var U,ie=(U={},U[ei]=[],U.addError=function(Re){this[ei].push(Re)},U);if(Array.isArray(C))return C.reduce(function(De,Re,at){var It;return dn({},De,(It={},It[at]=os(Re),It))},ie);if((0,o.Z)(C)){var Oe=C;return Object.keys(Oe).reduce(function(De,Re){var at;return dn({},De,(at={},at[Re]=os(Oe[Re]),at))},ie)}return ie}function ss(C,U){return ar(C,U,function(ie,Oe){if(typeof ie=="function"&&typeof Oe=="function")return!0})}function _s(C,U){var ie=U[C],Oe=(0,dr.Z)(U,[C]);return[Oe,ie]}function Ds(C,U){U===void 0&&(U={});var ie=C||"";if(ie.startsWith("#"))ie=decodeURIComponent(ie.substring(1));else throw new Error("Could not find a definition for "+C+".");var Oe=yr.get(U,ie);if(Oe===void 0)throw new Error("Could not find a definition for "+C+".");if(Oe[Jn]){var De=_s(Jn,Oe),Re=De[0],at=De[1],It=Ds(at,U);return Object.keys(Re).length>0?dn({},Re,It):It}return Oe}function vt(C,U,ie,Oe,De){if(U===void 0)return 0;for(var Re=0;Re<ie.length;Re++){var at=ie[Re];if(De&&(0,pr.Z)(at,[Ei,De])){var It=(0,Rt.Z)(U,De),Ct=(0,Rt.Z)(at,[Ei,De],{});if(C.isValid(Ct,It,Oe))return Re}else if(at[Ei]){var or={anyOf:Object.keys(at[Ei]).map(function(Br){return{required:[Br]}})},vr=void 0;if(at.anyOf){var Ar=dn({},(Ts(at),at));Ar.allOf?Ar.allOf=Ar.allOf.slice():Ar.allOf=[],Ar.allOf.push(or),vr=Ar}else vr=Object.assign({},at,or);if(delete vr.required,C.isValid(vr,U,Oe))return Re}else if(C.isValid(at,U,Oe))return Re}return 0}function it(C,U,ie,Oe,De){return vt(C,U,ie,Oe,De)}function Zi(C){return Array.isArray(C)?"array":typeof C=="string"?"string":C==null?"null":typeof C=="boolean"?"boolean":isNaN(C)?typeof C=="object"?"object":"string":"number"}function Ni(C){var U=C.type;return!U&&C.const?Zi(C.const):!U&&C.enum?"string":!U&&(C.properties||C.additionalProperties)?"object":(Array.isArray(U)&&U.length===2&&U.includes("null")&&(U=U.find(function(ie){return ie!=="null"})),U)}function zr(C,U){var ie=Object.assign({},C);return Object.keys(U).reduce(function(Oe,De){var Re=C?C[De]:{},at=U[De];return C&&De in C&&Dn(at)?Oe[De]=zr(Re,at):C&&U&&(Ni(C)==="object"||Ni(U)==="object")&&De===Ss&&Array.isArray(Re)&&Array.isArray(at)?Oe[De]=ro(Re,at):Oe[De]=at,Oe},ie)}var wr=["if","then","else"],gr=["$ref"],Hr=["allOf"],wn=["dependencies"],xn=["oneOf"];function di(C,U,ie,Oe){var De=U.if,Re=U.then,at=U.else,It=Ti(U,wr),Ct=C.isValid(De,Oe,ie)?Re:at;return Ct&&typeof Ct!="boolean"?Vn(C,zr(It,Vn(C,Ct,ie,Oe)),ie,Oe):Vn(C,It,ie,Oe)}function yi(C,U,ie,Oe){if(ie===void 0&&(ie={}),Jn in U)return yo(C,U,ie,Oe);if(po in U){var De=ks(C,U,ie,Oe);return Vn(C,De,ie,Oe)}return Un in U?dn({},U,{allOf:U.allOf.map(function(Re){return Vn(C,Re,ie,Oe)})}):U}function yo(C,U,ie,Oe){var De=Ds(U.$ref,ie),Re=Ti(U,gr);return Vn(C,dn({},De,Re),ie,Oe)}function jn(C,U,ie,Oe){var De=dn({},U,{properties:dn({},U.properties)}),Re=Oe&&Dn(Oe)?Oe:{};return Object.keys(Re).forEach(function(at){if(!(at in De.properties)){var It={};typeof De.additionalProperties!="boolean"?Jn in De.additionalProperties?It=Vn(C,{$ref:(0,Rt.Z)(De.additionalProperties,[Jn])},ie,Re):"type"in De.additionalProperties?It=dn({},De.additionalProperties):Oi in De.additionalProperties||Fo in De.additionalProperties?It=dn({type:"object"},De.additionalProperties):It={type:Zi((0,Rt.Z)(Re,[at]))}:It={type:Zi((0,Rt.Z)(Re,[at]))},De.properties[at]=It,(0,Uo.Z)(De.properties,[at,Bn],!0)}}),De}function Vn(C,U,ie,Oe){if(ie===void 0&&(ie={}),!Dn(U))return{};var De=yi(C,U,ie,Oe);if("if"in U)return di(C,U,ie,Oe);var Re=Oe||{};if(Un in U)try{De=pt()(De,{deep:!1})}catch(or){console.warn(`could not merge subschemas in allOf:
`,or);var at=De,It=Ti(at,Hr);return It}var Ct=Oo in De&&De.additionalProperties!==!1;return Ct?jn(C,De,ie,Re):De}function ks(C,U,ie,Oe){var De=U.dependencies,Re=Ti(U,wn),at=Re;return Array.isArray(at.oneOf)?at=at.oneOf[it(C,Oe,at.oneOf,ie)]:Array.isArray(at.anyOf)&&(at=at.anyOf[it(C,Oe,at.anyOf,ie)]),Gs(C,De,at,ie,Oe)}function Gs(C,U,ie,Oe,De){var Re=ie;for(var at in U)if((0,Rt.Z)(De,[at])!==void 0&&!(Re.properties&&!(at in Re.properties))){var It=_s(at,U),Ct=It[0],or=It[1];return Array.isArray(or)?Re=Jo(Re,or):Dn(or)&&(Re=Ms(C,Re,Oe,at,or,De)),Gs(C,Ct,Re,Oe,De)}return Re}function Jo(C,U){if(!U)return C;var ie=Array.isArray(C.required)?Array.from(new Set([].concat(C.required,U))):U;return dn({},C,{required:ie})}function Ms(C,U,ie,Oe,De,Re){var at=Vn(C,De,ie,Re),It=at.oneOf,Ct=Ti(at,xn);if(U=zr(U,Ct),It===void 0)return U;var or=It.map(function(vr){return typeof vr=="boolean"||!(Jn in vr)?vr:yo(C,vr,ie,Re)});return Ya(C,U,ie,Oe,or,Re)}function Ya(C,U,ie,Oe,De,Re){var at=De.filter(function(Ar){if(typeof Ar=="boolean"||!Ar||!Ar.properties)return!1;var Br=Ar.properties[Oe];if(Br){var Sn,Kn={type:"object",properties:(Sn={},Sn[Oe]=Br,Sn)};return C.isValid(Kn,Re,ie)}return!1});if(at.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),U;var It=at[0],Ct=_s(Oe,It.properties),or=Ct[0],vr=dn({},It,{properties:or});return zr(U,Vn(C,vr,ie,Re))}var Ys={type:"object",properties:{__not_really_there__:{type:"number"}}};function jo(C,U,ie,Oe){Oe===void 0&&(Oe={});var De=0;return ie&&((0,cr.Z)(ie.properties)?De+=$i(ie.properties,function(Re,at,It){var Ct=(0,Rt.Z)(Oe,It);if(typeof at=="boolean")return Re;if((0,pr.Z)(at,Jn)){var or=Vn(C,at,U,Ct);return Re+jo(C,U,or,Ct||{})}if((0,pr.Z)(at,Fo)&&Ct)return Re+vo(C,U,Ct,(0,Rt.Z)(at,Fo));if(at.type==="object")return Re+jo(C,U,at,Ct||{});if(at.type===Zi(Ct)){var vr=Re+1;return at.default?vr+=Ct===at.default?1:-1:at.const&&(vr+=Ct===at.const?1:-1),vr}return Re},0):(0,Wr.Z)(ie.type)&&ie.type===Zi(Oe)&&(De+=1)),De}function vo(C,U,ie,Oe,De,Re){De===void 0&&(De=-1);var at=Oe.reduce(function(or,vr,Ar){var Br=[Ys,vr],Sn=it(C,ie,Br,U,Re);return Sn===1&&or.push(Ar),or},[]);if(at.length===1)return at[0];at.length||va(Oe.length,function(or){return at.push(or)});var It=at.reduce(function(or,vr){var Ar=or.bestScore,Br=Oe[vr];(0,pr.Z)(Br,Jn)&&(Br=Vn(C,Br,U,ie));var Sn=jo(C,U,Br,ie);return Sn>Ar?{bestIndex:vr,bestScore:Sn}:or},{bestIndex:De,bestScore:0}),Ct=It.bestIndex;return Ct}function eo(C){return Array.isArray(C.items)&&C.items.length>0&&C.items.every(function(U){return Dn(U)})}function as(C,U){if(Array.isArray(U)){var ie=Array.isArray(C)?C:[],Oe=U.map(function(Re,at){return ie[at]?as(ie[at],Re):Re});return Oe}if(Dn(U)){var De=Object.assign({},C);return Object.keys(U).reduce(function(Re,at){return Re[at]=as(C?(0,Rt.Z)(C,at):{},(0,Rt.Z)(U,at)),Re},De)}return U}function Xs(C,U,ie){return ie===void 0&&(ie=!1),Object.keys(U).reduce(function(Oe,De){var Re=C?C[De]:{},at=U[De];if(C&&De in C&&Dn(at))Oe[De]=Xs(Re,at,ie);else if(ie&&Array.isArray(Re)&&Array.isArray(at)){var It=at;ie==="preventDuplicates"&&(It=at.reduce(function(Ct,or){return Re.includes(or)||Ct.push(or),Ct},[])),Oe[De]=Re.concat(It)}else Oe[De]=at;return Oe},Object.assign({},C))}function No(C){return Array.isArray(C.enum)&&C.enum.length===1||pi in C}function Wa(C,U,ie){ie===void 0&&(ie={});var Oe=Vn(C,U,ie,void 0),De=Oe.oneOf||Oe.anyOf;return Array.isArray(Oe.enum)?!0:Array.isArray(De)?De.every(function(Re){return typeof Re!="boolean"&&No(Re)}):!1}function Ta(C,U,ie){return!U.uniqueItems||!U.items||typeof U.items=="boolean"?!1:Wa(C,U.items,ie)}var $s;(function(C){C[C.Ignore=0]="Ignore",C[C.Invert=1]="Invert",C[C.Fallback=2]="Fallback"})($s||($s={}));function Es(C,U,ie){if(U===void 0&&(U=$s.Ignore),ie===void 0&&(ie=-1),ie>=0){if(Array.isArray(C.items)&&ie<C.items.length){var Oe=C.items[ie];if(typeof Oe!="boolean")return Oe}}else if(C.items&&!Array.isArray(C.items)&&typeof C.items!="boolean")return C.items;return U!==$s.Ignore&&Dn(C.additionalItems)?C.additionalItems:{}}function ba(C,U,ie,Oe,De){De===void 0&&(De=[]),Oe?C[U]=ie:Dn(ie)?(!(0,jr.Z)(ie)||De.includes(U))&&(C[U]=ie):ie!==void 0&&(C[U]=ie)}function Lo(C,U,ie,Oe,De,Re,at){Oe===void 0&&(Oe={}),Re===void 0&&(Re=!1),at===void 0&&(at=[]);var It=Dn(De)?De:{},Ct=Dn(U)?U:{},or=ie;if(Dn(or)&&Dn(Ct.default))or=Xs(or,Ct.default);else if(li in Ct)or=Ct.default;else if(Jn in Ct){var vr=Ct[Jn];if(!at.includes(vr)){var Ar=Ds(vr,Oe);return Lo(C,Ar,or,Oe,It,Re,at.concat(vr))}}else if(po in Ct){var Br=ks(C,Ct,Oe,It);return Lo(C,Br,or,Oe,It,Re,at)}else if(eo(Ct))or=Ct.items.map(function(Gn,Bi){return Lo(C,Gn,Array.isArray(ie)?ie[Bi]:void 0,Oe,It,Re,at)});else if(Fo in Ct){if(Ct.oneOf.length===0)return;Ct=Ct.oneOf[vo(C,Oe,(0,jr.Z)(It)?void 0:It,Ct.oneOf,0)]}else if(Oi in Ct){if(Ct.anyOf.length===0)return;Ct=Ct.anyOf[vo(C,Oe,(0,jr.Z)(It)?void 0:It,Ct.anyOf,0)]}switch(typeof or=="undefined"&&(or=Ct.default),Ni(Ct)){case"object":{var Sn=Object.keys(Ct.properties||{}).reduce(function(Gn,Bi){var Zs=Lo(C,(0,Rt.Z)(Ct,[Ei,Bi]),(0,Rt.Z)(or,[Bi]),Oe,(0,Rt.Z)(It,[Bi]),Re===!0,at);return ba(Gn,Bi,Zs,Re,Ct.required),Gn},{});if(Ct.additionalProperties){var Kn=Dn(Ct.additionalProperties)?Ct.additionalProperties:{},kn=new Set;Dn(or)&&Object.keys(or).filter(function(Gn){return!Ct.properties||!Ct.properties[Gn]}).forEach(function(Gn){return kn.add(Gn)}),Dn(It)&&Object.keys(It).filter(function(Gn){return!Ct.properties||!Ct.properties[Gn]}).forEach(function(Gn){return kn.add(Gn)}),kn.forEach(function(Gn){var Bi=Lo(C,Kn,(0,Rt.Z)(or,[Gn]),Oe,(0,Rt.Z)(It,[Gn]),Re===!0,at);ba(Sn,Gn,Bi,Re)})}return Sn}case"array":if(Array.isArray(or)&&(or=or.map(function(Gn,Bi){var Zs=Es(Ct,$s.Fallback,Bi);return Lo(C,Zs,Gn,Oe,void 0,void 0,at)})),Array.isArray(De)){var Tn=Es(Ct);or=De.map(function(Gn,Bi){return Lo(C,Tn,(0,Rt.Z)(or,[Bi]),Oe,Gn,void 0,at)})}if(Ct.minItems){if(!Ta(C,Ct,Oe)){var qn=Array.isArray(or)?or.length:0;if(Ct.minItems>qn){var vi=or||[],co=Es(Ct,$s.Invert),bi=co.default,so=new Array(Ct.minItems-qn).fill(Lo(C,co,bi,Oe,void 0,void 0,at));return vi.concat(so)}}return or||[]}}return or}function Za(C,U,ie,Oe,De){if(De===void 0&&(De=!1),!Dn(U))throw new Error("Invalid schema: "+U);var Re=Vn(C,U,Oe,ie),at=Lo(C,Re,void 0,Oe,ie,De);return typeof ie=="undefined"||ie===null||typeof ie=="number"&&isNaN(ie)?at:Dn(ie)||Array.isArray(ie)?as(at,ie):ie}function _a(C){return C===void 0&&(C={}),"widget"in Fn(C)&&Fn(C).widget!=="hidden"}function Sa(C,U,ie,Oe){if(ie===void 0&&(ie={}),ie[go]==="files")return!0;if(U.items){var De=Vn(C,U.items,Oe);return De.type==="string"&&De.format==="data-url"}return!1}function ls(C,U,ie,Oe,De){ie===void 0&&(ie={});var Re=Fn(ie,De),at=Re.label,It=at===void 0?!0:at,Ct=!!It,or=Ni(U);return or==="array"&&(Ct=Ta(C,U,Oe)||Sa(C,U,ie,Oe)||_a(ie)),or==="object"&&(Ct=!1),or==="boolean"&&!ie[go]&&(Ct=!1),ie[Qn]&&(Ct=!1),Ct}function Is(C,U,ie){if(!ie)return U;var Oe=U.errors,De=U.errorSchema,Re=C.toErrorList(ie),at=ie;return(0,jr.Z)(De)||(at=Xs(De,ie,!0),Re=[].concat(Oe).concat(Re)),{errorSchema:at,errors:Re}}var uo=Symbol("no Value");function ws(C,U,ie,Oe,De){De===void 0&&(De={});var Re;if((0,pr.Z)(ie,Ei)){var at={};if((0,pr.Z)(Oe,Ei)){var It=(0,Rt.Z)(Oe,Ei,{});Object.keys(It).forEach(function(kn){(0,pr.Z)(De,kn)&&(at[kn]=void 0)})}var Ct=Object.keys((0,Rt.Z)(ie,Ei,{})),or={};Ct.forEach(function(kn){var Tn=(0,Rt.Z)(De,kn),qn=(0,Rt.Z)(Oe,[Ei,kn],{}),vi=(0,Rt.Z)(ie,[Ei,kn],{});(0,pr.Z)(qn,Jn)&&(qn=Vn(C,qn,U,Tn)),(0,pr.Z)(vi,Jn)&&(vi=Vn(C,vi,U,Tn));var co=(0,Rt.Z)(qn,"type"),bi=(0,Rt.Z)(vi,"type");if(!co||co===bi)if((0,pr.Z)(at,kn)&&delete at[kn],bi==="object"||bi==="array"&&Array.isArray(Tn)){var so=ws(C,U,vi,qn,Tn);(so!==void 0||bi==="array")&&(or[kn]=so)}else{var Gn=(0,Rt.Z)(vi,"default",uo),Bi=(0,Rt.Z)(qn,"default",uo);Gn!==uo&&Gn!==Tn&&(Bi===Tn?at[kn]=Gn:(0,Rt.Z)(vi,"readOnly")===!0&&(at[kn]=void 0));var Zs=(0,Rt.Z)(vi,"const",uo),ha=(0,Rt.Z)(qn,"const",uo);Zs!==uo&&Zs!==Tn&&(at[kn]=ha===Tn?Zs:void 0)}}),Re=dn({},De,at,or)}else if((0,Rt.Z)(Oe,"type")==="array"&&(0,Rt.Z)(ie,"type")==="array"&&Array.isArray(De)){var vr=(0,Rt.Z)(Oe,"items"),Ar=(0,Rt.Z)(ie,"items");if(typeof vr=="object"&&typeof Ar=="object"&&!Array.isArray(vr)&&!Array.isArray(Ar)){(0,pr.Z)(vr,Jn)&&(vr=Vn(C,vr,U,De)),(0,pr.Z)(Ar,Jn)&&(Ar=Vn(C,Ar,U,De));var Br=(0,Rt.Z)(vr,"type"),Sn=(0,Rt.Z)(Ar,"type");if(!Br||Br===Sn){var Kn=(0,Rt.Z)(ie,"maxItems",-1);Sn==="object"?Re=De.reduce(function(kn,Tn){var qn=ws(C,U,Ar,vr,Tn);return qn!==void 0&&(Kn<0||kn.length<Kn)&&kn.push(qn),kn},[]):Re=Kn>0&&De.length>Kn?De.slice(0,Kn):De}}else typeof vr=="boolean"&&typeof Ar=="boolean"&&vr===Ar&&(Re=De)}return Re}function aa(C,U,ie,Oe,De,Re,at,It){if(It===void 0&&(It=[]),Jn in U||po in U||Un in U){var Ct=Vn(C,U,Re,at),or=It.findIndex(function(kn){return mo(kn,Ct)});if(or===-1)return aa(C,Ct,ie,Oe,De,Re,at,It.concat(Ct))}if(lo in U&&!(0,Rt.Z)(U,[lo,Jn]))return aa(C,(0,Rt.Z)(U,lo),ie,Oe,De,Re,at,It);var vr=De||ie,Ar={$id:vr};if(Ni(U)==="object"&&Ei in U)for(var Br in U.properties){var Sn=(0,Rt.Z)(U,[Ei,Br]),Kn=Ar[no]+Oe+Br;Ar[Br]=aa(C,Dn(Sn)?Sn:{},ie,Oe,Kn,Re,(0,Rt.Z)(at,[Br]),It)}return Ar}function la(C,U,ie,Oe,De,Re,at){return Re===void 0&&(Re="root"),at===void 0&&(at="_"),aa(C,U,Re,at,ie,Oe,De)}function Rs(C,U,ie,Oe,De,Re){var at;if(Re===void 0&&(Re=[]),Jn in U||po in U||Un in U){var It=Vn(C,U,Oe,De),Ct=Re.findIndex(function(Tn){return mo(Tn,It)});if(Ct===-1)return Rs(C,It,ie,Oe,De,Re.concat(It))}var or=(at={},at[ji]=ie.replace(/^\./,""),at);if(Fo in U){var vr=vo(C,Oe,De,U.oneOf,0),Ar=U.oneOf[vr];return Rs(C,Ar,ie,Oe,De,Re)}if(Oi in U){var Br=vo(C,Oe,De,U.anyOf,0),Sn=U.anyOf[Br];return Rs(C,Sn,ie,Oe,De,Re)}if(Oo in U&&U[Oo]!==!1&&(0,Uo.Z)(or,_i,!0),lo in U&&Array.isArray(De))De.forEach(function(Tn,qn){or[qn]=Rs(C,U.items,ie+"."+qn,Oe,Tn,Re)});else if(Ei in U)for(var Kn in U.properties){var kn=(0,Rt.Z)(U,[Ei,Kn]);or[Kn]=Rs(C,kn,ie+"."+Kn,Oe,(0,Rt.Z)(De,[Kn]),Re)}return or}function Os(C,U,ie,Oe,De){return ie===void 0&&(ie=""),Rs(C,U,ie,Oe,De)}var Bo=function(){function C(ie,Oe){this.rootSchema=void 0,this.validator=void 0,this.rootSchema=Oe,this.validator=ie}var U=C.prototype;return U.getValidator=function(){return this.validator},U.doesSchemaUtilsDiffer=function(Oe,De){return!Oe||!De?!1:this.validator!==Oe||!ss(this.rootSchema,De)},U.getDefaultFormState=function(Oe,De,Re){return Re===void 0&&(Re=!1),Za(this.validator,Oe,De,this.rootSchema,Re)},U.getDisplayLabel=function(Oe,De,Re){return ls(this.validator,Oe,De,this.rootSchema,Re)},U.getClosestMatchingOption=function(Oe,De,Re,at){return vo(this.validator,this.rootSchema,Oe,De,Re,at)},U.getFirstMatchingOption=function(Oe,De,Re){return it(this.validator,Oe,De,this.rootSchema,Re)},U.getMatchingOption=function(Oe,De,Re){return vt(this.validator,Oe,De,this.rootSchema,Re)},U.isFilesArray=function(Oe,De){return Sa(this.validator,Oe,De,this.rootSchema)},U.isMultiSelect=function(Oe){return Ta(this.validator,Oe,this.rootSchema)},U.isSelect=function(Oe){return Wa(this.validator,Oe,this.rootSchema)},U.mergeValidationData=function(Oe,De){return Is(this.validator,Oe,De)},U.retrieveSchema=function(Oe,De){return Vn(this.validator,Oe,this.rootSchema,De)},U.sanitizeDataForNewSchema=function(Oe,De,Re){return ws(this.validator,this.rootSchema,Oe,De,Re)},U.toIdSchema=function(Oe,De,Re,at,It){return at===void 0&&(at="root"),It===void 0&&(It="_"),la(this.validator,Oe,De,this.rootSchema,Re,at,It)},U.toPathSchema=function(Oe,De,Re){return Os(this.validator,Oe,De,this.rootSchema,Re)},C}();function Qs(C,U){return new Bo(C,U)}function Ua(C){var U=C.split(","),ie=U[0].split(";"),Oe=ie[0].replace("data:",""),De=ie.filter(function(vr){return vr.split("=")[0]==="name"}),Re;De.length!==1?Re="unknown":Re=decodeURI(De[0].split("=")[1]);try{for(var at=atob(U[1]),It=[],Ct=0;Ct<at.length;Ct++)It.push(at.charCodeAt(Ct));var or=new window.Blob([new Uint8Array(It)],{type:Oe});return{blob:or,name:Re}}catch(vr){return{blob:{size:0,type:vr.message},name:C}}}function Ea(C,U){var ie=C;if(Array.isArray(U)){var Oe=ie.split(/(%\d)/);U.forEach(function(De,Re){var at=Oe.findIndex(function(It){return It==="%"+(Re+1)});at>=0&&(Oe[at]=De)}),ie=Oe.join("")}return ie}function qs(C,U){return Ea(C,U)}function Go(C,U,ie){if(U===void 0&&(U=[]),Array.isArray(C))return C.map(function(Re){return Go(Re,U)}).filter(function(Re){return Re});var Oe=C===""||C===null?-1:Number(C),De=U[Oe];return De?De.value:ie}function io(C,U,ie){ie===void 0&&(ie=[]);var Oe=Go(C,ie);return Array.isArray(U)?U.filter(function(De){return!mo(De,Oe)}):mo(Oe,U)?void 0:U}function us(C,U){return Array.isArray(U)?U.some(function(ie){return mo(ie,C)}):mo(U,C)}function Xa(C,U,ie){U===void 0&&(U=[]),ie===void 0&&(ie=!1);var Oe=U.map(function(De,Re){return us(De.value,C)?String(Re):void 0}).filter(function(De){return typeof De!="undefined"});return ie?Oe:Oe[0]}function Fs(C,U,ie){ie===void 0&&(ie=[]);var Oe=Go(C,ie);if(Oe){var De=ie.findIndex(function(It){return Oe===It.value}),Re=ie.map(function(It){var Ct=It.value;return Ct}),at=U.slice(0,De).concat(Oe,U.slice(De));return at.sort(function(It,Ct){return Number(Re.indexOf(It)>Re.indexOf(Ct))})}return U}var ua=function(){function C(ie){this.errorSchema={},this.resetAllErrors(ie)}var U=C.prototype;return U.getOrCreateErrorBlock=function(Oe){var De=Array.isArray(Oe)&&Oe.length>0||typeof Oe=="string",Re=De?(0,Rt.Z)(this.errorSchema,Oe):this.errorSchema;return!Re&&Oe&&(Re={},(0,Uo.Z)(this.errorSchema,Oe,Re)),Re},U.resetAllErrors=function(Oe){return this.errorSchema=Oe?(0,Io.Z)(Oe):{},this},U.addErrors=function(Oe,De){var Re=this.getOrCreateErrorBlock(De),at=(0,Rt.Z)(Re,ei);if(Array.isArray(at)||(at=[],Re[ei]=at),Array.isArray(Oe)){var It;(It=at).push.apply(It,Oe)}else at.push(Oe);return this},U.setErrors=function(Oe,De){var Re=this.getOrCreateErrorBlock(De),at=Array.isArray(Oe)?[].concat(Oe):[Oe];return(0,Uo.Z)(Re,ei,at),this},U.clearErrors=function(Oe){var De=this.getOrCreateErrorBlock(Oe);return(0,Uo.Z)(De,ei,[]),this},qi(C,[{key:"ErrorSchema",get:function(){return this.errorSchema}}]),C}();function Li(C){var U={};return C.multipleOf&&(U.step=C.multipleOf),(C.minimum||C.minimum===0)&&(U.min=C.minimum),(C.maximum||C.maximum===0)&&(U.max=C.maximum),U}function Va(C,U,ie,Oe){ie===void 0&&(ie={}),Oe===void 0&&(Oe=!0);var De=dn({type:U||"text"},Li(C));return ie.inputType?De.type=ie.inputType:U||(C.type==="number"?(De.type="number",Oe&&De.step===void 0&&(De.step="any")):C.type==="integer"&&(De.type="number",De.step===void 0&&(De.step=1))),ie.autocomplete&&(De.autoComplete=ie.autocomplete),De}var oo={props:{disabled:!1},submitText:"Submit",norender:!1};function ea(C){C===void 0&&(C={});var U=Fn(C);if(U&&U[xo]){var ie=U[xo];return dn({},oo,ie)}return oo}function Gi(C,U,ie){ie===void 0&&(ie={});var Oe=U.templates;return C==="ButtonTemplates"?Oe[C]:ie[C]||Oe[C]}var Da=["options"],Yo={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function ta(C){var U=(0,Rt.Z)(C,"MergedWidget");if(!U){var ie=C.defaultProps&&C.defaultProps.options||{};U=function(De){var Re=De.options,at=Ti(De,Da);return(0,ao.jsx)(C,dn({options:dn({},ie,Re)},at))},(0,Uo.Z)(C,"MergedWidget",U)}return U}function Wo(C,U,ie){ie===void 0&&(ie={});var Oe=Ni(C);if(typeof U=="function"||U&&Hs.isForwardRef((0,Ps.createElement)(U))||Hs.isMemo(U))return ta(U);if(typeof U!="string")throw new Error("Unsupported widget definition: "+typeof U);if(U in ie){var De=ie[U];return Wo(C,De,ie)}if(typeof Oe=="string"){if(!(Oe in Yo))throw new Error("No widget for type '"+Oe+"'");if(U in Yo[Oe]){var Re=ie[Yo[Oe][U]];return Wo(C,Re,ie)}}throw new Error("No widget '"+U+"' for type '"+Oe+"'")}function ka(C,U,ie){ie===void 0&&(ie={});try{return Wo(C,U,ie),!0}catch(De){var Oe=De;if(Oe.message&&(Oe.message.startsWith("No widget")||Oe.message.startsWith("Unsupported widget")))return!1;throw De}}function Co(C,U){var ie=(0,Wr.Z)(C)?C:C[no];return ie+"__"+U}function Yi(C){return Co(C,"description")}function cs(C){return Co(C,"error")}function Xo(C){return Co(C,"examples")}function Ma(C){return Co(C,"help")}function xs(C){return Co(C,"title")}function ca(C,U){U===void 0&&(U=!1);var ie=U?" "+Xo(C):"";return cs(C)+" "+Yi(C)+" "+Ma(C)+ie}function Ka(C,U){return C+"-"+U}function Cs(C,U,ie){return U?ie:C}function wa(C){return C?new Date(C).toJSON():void 0}function xi(C){if(bs in C&&Array.isArray(C.enum)&&C.enum.length===1)return C.enum[0];if(pi in C)return C.const;throw new Error("schema cannot be inferred as a constant")}function fs(C){var U=C;if(U.enumNames,C.enum)return C.enum.map(function(Oe,De){var Re=U.enumNames&&U.enumNames[De]||String(Oe);return{label:Re,value:Oe}});var ie=C.oneOf||C.anyOf;return ie&&ie.map(function(Oe){var De=Oe,Re=xi(De),at=De.title||String(Re);return{schema:De,label:at,value:Re}})}function js(C,U){if(!Array.isArray(U))return C;var ie=function(Ar){return Ar.reduce(function(Br,Sn){return Br[Sn]=!0,Br},{})},Oe=function(Ar){return Ar.length>1?"properties '"+Ar.join("', '")+"'":"property '"+Ar[0]+"'"},De=ie(C),Re=U.filter(function(vr){return vr==="*"||De[vr]}),at=ie(Re),It=C.filter(function(vr){return!at[vr]}),Ct=Re.indexOf("*");if(Ct===-1){if(It.length)throw new Error("uiSchema order list does not contain "+Oe(It));return Re}if(Ct!==Re.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var or=[].concat(Re);return or.splice.apply(or,[Ct,1].concat(It)),or}function ds(C,U){for(var ie=String(C);ie.length<U;)ie="0"+ie;return ie}function $a(C,U){if(U===void 0&&(U=!0),!C)return{year:-1,month:-1,day:-1,hour:U?-1:0,minute:U?-1:0,second:U?-1:0};var ie=new Date(C);if(Number.isNaN(ie.getTime()))throw new Error("Unable to parse date "+C);return{year:ie.getUTCFullYear(),month:ie.getUTCMonth()+1,day:ie.getUTCDate(),hour:U?ie.getUTCHours():0,minute:U?ie.getUTCMinutes():0,second:U?ie.getUTCSeconds():0}}function Ns(C){if(C.const||C.enum&&C.enum.length===1&&C.enum[0]===!0)return!0;if(C.anyOf&&C.anyOf.length===1)return Ns(C.anyOf[0]);if(C.oneOf&&C.oneOf.length===1)return Ns(C.oneOf[0]);if(C.allOf){var U=function(Oe){return Ns(Oe)};return C.allOf.some(U)}return!1}function Ls(C,U,ie){var Oe=C.props,De=C.state;return!ss(Oe,U)||!ss(De,ie)}function fa(C,U){U===void 0&&(U=!0);var ie=C.year,Oe=C.month,De=C.day,Re=C.hour,at=Re===void 0?0:Re,It=C.minute,Ct=It===void 0?0:It,or=C.second,vr=or===void 0?0:or,Ar=Date.UTC(ie,Oe-1,De,at,Ct,vr),Br=new Date(Ar).toJSON();return U?Br:Br.slice(0,10)}function Qo(C,U){if(U===void 0&&(U=[]),!C)return[];var ie=[];return ei in C&&(ie=ie.concat(C[ei].map(function(Oe){var De="."+U.join(".");return{property:De,message:Oe,stack:De+" "+Oe}}))),Object.keys(C).reduce(function(Oe,De){if(De!==ei){var Re=C[De];(0,o.Z)(Re)&&(Oe=Oe.concat(Qo(Re,[].concat(U,[De]))))}return Oe},ie)}function Bs(C){var U=new ua;return C.length&&C.forEach(function(ie){var Oe=ie.property,De=ie.message,Re=Oe==="."?[]:(0,vs.Z)(Oe);Re.length>0&&Re[0]===""&&Re.splice(0,1),De&&U.addErrors(De,Re)}),U.ErrorSchema}function za(C){return Object.keys(C).reduce(function(U,ie){if(ie==="addError")return U;var Oe,De=C[ie];if((0,o.Z)(De)){var Re;return dn({},U,(Re={},Re[ie]=za(De),Re))}return dn({},U,(Oe={},Oe[ie]=De,Oe))},{})}function hs(C){if(!C)return"";var U=new Date(C),ie=ds(U.getFullYear(),4),Oe=ds(U.getMonth()+1,2),De=ds(U.getDate(),2),Re=ds(U.getHours(),2),at=ds(U.getMinutes(),2),It=ds(U.getSeconds(),2),Ct=ds(U.getMilliseconds(),3);return ie+"-"+Oe+"-"+De+"T"+Re+":"+at+":"+It+"."+Ct}function bo(C,U){if(!U)return C;var ie=C.errors,Oe=C.errorSchema,De=Qo(U),Re=U;return(0,jr.Z)(Oe)||(Re=Xs(Oe,U,!0),De=[].concat(ie).concat(De)),{errorSchema:Re,errors:De}}function qo(C){for(var U in C){var ie=C,Oe=ie[U];U===Jn&&typeof Oe=="string"&&Oe.startsWith("#")?ie[U]=kr+Oe:ie[U]=Oa(Oe)}return C}function da(C){for(var U=0;U<C.length;U++)C[U]=Oa(C[U]);return C}function Oa(C){return C.constructor===Object?qo(dn({},C)):Array.isArray(C)?da([].concat(C)):C}var Ws;(function(C){C.ArrayItemTitle="Item",C.MissingItems="Missing items definition",C.YesLabel="Yes",C.NoLabel="No",C.CloseLabel="Close",C.ErrorsLabel="Errors",C.NewStringDefault="New Value",C.AddButton="Add",C.AddItemButton="Add Item",C.CopyButton="Copy",C.MoveDownButton="Move down",C.MoveUpButton="Move up",C.RemoveButton="Remove",C.NowLabel="Now",C.ClearLabel="Clear",C.AriaDateLabel="Select a date",C.PreviewLabel="Preview",C.DecrementAriaLabel="Decrease value by 1",C.IncrementAriaLabel="Increase value by 1",C.UnknownFieldType="Unknown field type %1",C.OptionPrefix="Option %1",C.TitleOptionPrefix="%1 option %2",C.KeyLabel="%1 Key",C.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',C.UnsupportedField="Unsupported field schema.",C.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",C.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",C.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",C.FilesInfo="<strong>%1</strong> (%2, %3 bytes)"})(Ws||(Ws={}))},3659:function(Te,S){"use strict";/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=Symbol.for("react.element"),o=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),_=Symbol.for("react.context"),j=Symbol.for("react.server_context"),$=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),oe;oe=Symbol.for("react.module.reference");function ye(F){if(typeof F=="object"&&F!==null){var Y=F.$$typeof;switch(Y){case l:switch(F=F.type,F){case m:case O:case R:case I:case J:return F;default:switch(F=F&&F.$$typeof,F){case j:case _:case $:case ee:case z:case D:return F;default:return Y}}case o:return Y}}}S.ContextConsumer=_,S.ContextProvider=D,S.Element=l,S.ForwardRef=$,S.Fragment=m,S.Lazy=ee,S.Memo=z,S.Portal=o,S.Profiler=O,S.StrictMode=R,S.Suspense=I,S.SuspenseList=J,S.isAsyncMode=function(){return!1},S.isConcurrentMode=function(){return!1},S.isContextConsumer=function(F){return ye(F)===_},S.isContextProvider=function(F){return ye(F)===D},S.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===l},S.isForwardRef=function(F){return ye(F)===$},S.isFragment=function(F){return ye(F)===m},S.isLazy=function(F){return ye(F)===ee},S.isMemo=function(F){return ye(F)===z},S.isPortal=function(F){return ye(F)===o},S.isProfiler=function(F){return ye(F)===O},S.isStrictMode=function(F){return ye(F)===R},S.isSuspense=function(F){return ye(F)===I},S.isSuspenseList=function(F){return ye(F)===J},S.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===m||F===O||F===R||F===I||F===J||F===te||typeof F=="object"&&F!==null&&(F.$$typeof===ee||F.$$typeof===z||F.$$typeof===D||F.$$typeof===_||F.$$typeof===$||F.$$typeof===oe||F.getModuleId!==void 0)},S.typeOf=ye},63708:function(Te,S,l){"use strict";Te.exports=l(3659)},39362:function(Te,S,l){"use strict";l.d(S,{Z:function(){return Y}});var o=l(90772),m=l(27292),R=l(98892),O=l.n(R),D=l(97540),_=l.n(D),j=l(93122);function $(){return $=Object.assign?Object.assign.bind():function(ve){for(var se=1;se<arguments.length;se++){var me=arguments[se];for(var xe in me)Object.prototype.hasOwnProperty.call(me,xe)&&(ve[xe]=me[xe])}return ve},$.apply(this,arguments)}function I(ve,se){if(ve==null)return{};var me={},xe=Object.keys(ve),re,M;for(M=0;M<xe.length;M++)re=xe[M],!(se.indexOf(re)>=0)&&(me[re]=ve[re]);return me}var J={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},z=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,ee=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function te(ve,se,me,xe,re){me===void 0&&(me={}),re===void 0&&(re=O());var M=new re($({},J,me));return xe?_()(M,xe):xe!==!1&&_()(M),M.addFormat("data-url",ee),M.addFormat("color",z),M.addKeyword(m.jk),M.addKeyword(m.g$),Array.isArray(ve)&&M.addMetaSchema(ve),(0,j.Z)(se)&&Object.keys(se).forEach(function(Ee){M.addFormat(Ee,se[Ee])}),M}var oe=["instancePath","keyword","params","schemaPath","parentSchema"],ye=function(){function ve(me,xe){this.ajv=void 0,this.localizer=void 0;var re=me.additionalMetaSchemas,M=me.customFormats,Ee=me.ajvOptionsOverrides,Ne=me.ajvFormatOptions,Ce=me.AjvClass;this.ajv=te(re,M,Ee,Ne,Ce),this.localizer=xe}var se=ve.prototype;return se.toErrorList=function(xe,re){return re===void 0&&(re=[]),(0,m.mp)(xe,re)},se.transformRJSFValidationErrors=function(xe,re){return xe===void 0&&(xe=[]),xe.map(function(M){var Ee=M.instancePath,Ne=M.keyword,Ce=M.params,ze=M.schemaPath,Ge=M.parentSchema,ht=I(M,oe),st=ht.message,Ye=st===void 0?"":st,Et=Ee.replace(/\//g,"."),rr=(Et+" "+Ye).trim();if("missingProperty"in Ce){Et=Et?Et+"."+Ce.missingProperty:Ce.missingProperty;var mt=Ce.missingProperty,Mt=(0,m.LI)((0,o.Z)(re,""+Et.replace(/^\./,""))).title;if(Mt)Ye=Ye.replace(mt,Mt);else{var gt=(0,o.Z)(Ge,[m.MA,mt,"title"]);gt&&(Ye=Ye.replace(mt,gt))}rr=Ye}else{var Ze=(0,m.LI)((0,o.Z)(re,""+Et.replace(/^\./,""))).title;if(Ze)rr=("'"+Ze+"' "+Ye).trim();else{var bt=Ge==null?void 0:Ge.title;bt&&(rr=("'"+bt+"' "+Ye).trim())}}return{name:Ne,property:Et,message:Ye,params:Ce,stack:rr,schemaPath:ze}})},se.rawValidation=function(xe,re){var M=void 0,Ee;xe.$id&&(Ee=this.ajv.getSchema(xe.$id));try{Ee===void 0&&(Ee=this.ajv.compile(xe)),Ee(re)}catch(Ce){M=Ce}var Ne;return Ee&&(typeof this.localizer=="function"&&this.localizer(Ee.errors),Ne=Ee.errors||void 0,Ee.errors=null),{errors:Ne,validationError:M}},se.validateFormData=function(xe,re,M,Ee,Ne){var Ce=this.rawValidation(re,xe),ze=Ce.validationError,Ge=this.transformRJSFValidationErrors(Ce.errors,Ne);ze&&(Ge=[].concat(Ge,[{stack:ze.message}])),typeof Ee=="function"&&(Ge=Ee(Ge,Ne));var ht=(0,m.y5)(Ge);if(ze&&(ht=$({},ht,{$schema:{__errors:[ze.message]}})),typeof M!="function")return{errors:Ge,errorSchema:ht};var st=(0,m.Tx)(this,re,xe,re,!0),Ye=M(st,(0,m.v$)(st),Ne),Et=(0,m.yv)(Ye);return(0,m.J0)({errors:Ge,errorSchema:ht},Et)},se.isValid=function(xe,re,M){var Ee,Ne=(Ee=M.$id)!=null?Ee:m.dW;try{this.ajv.getSchema(Ne)===void 0&&this.ajv.addSchema(M,Ne);var Ce=(0,m.RQ)(xe),ze;Ce.$id&&(ze=this.ajv.getSchema(Ce.$id)),ze===void 0&&(ze=this.ajv.compile(Ce));var Ge=ze(re);return Ge}catch(ht){return console.warn("Error encountered compiling schema:",ht),!1}finally{this.ajv.removeSchema(Ne)}},ve}();function F(ve,se){return ve===void 0&&(ve={}),new ye(ve,se)}var Y=F()},78127:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.formatNames=S.fastFormats=S.fullFormats=void 0;function l(Ee,Ne){return{validate:Ee,compare:Ne}}S.fullFormats={date:l(O,D),time:l(j,$),"date-time":l(J,z),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:oe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:M,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:F,int32:{type:"number",validate:se},int64:{type:"number",validate:me},float:{type:"number",validate:xe},double:{type:"number",validate:xe},password:!0,binary:!0},S.fastFormats={...S.fullFormats,date:l(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,D),time:l(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,$),"date-time":l(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,z),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},S.formatNames=Object.keys(S.fullFormats);function o(Ee){return Ee%4===0&&(Ee%100!==0||Ee%400===0)}const m=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,R=[0,31,28,31,30,31,30,31,31,30,31,30,31];function O(Ee){const Ne=m.exec(Ee);if(!Ne)return!1;const Ce=+Ne[1],ze=+Ne[2],Ge=+Ne[3];return ze>=1&&ze<=12&&Ge>=1&&Ge<=(ze===2&&o(Ce)?29:R[ze])}function D(Ee,Ne){if(Ee&&Ne)return Ee>Ne?1:Ee<Ne?-1:0}const _=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function j(Ee,Ne){const Ce=_.exec(Ee);if(!Ce)return!1;const ze=+Ce[1],Ge=+Ce[2],ht=+Ce[3],st=Ce[5];return(ze<=23&&Ge<=59&&ht<=59||ze===23&&Ge===59&&ht===60)&&(!Ne||st!=="")}function $(Ee,Ne){if(!(Ee&&Ne))return;const Ce=_.exec(Ee),ze=_.exec(Ne);if(Ce&&ze)return Ee=Ce[1]+Ce[2]+Ce[3]+(Ce[4]||""),Ne=ze[1]+ze[2]+ze[3]+(ze[4]||""),Ee>Ne?1:Ee<Ne?-1:0}const I=/t|\s/i;function J(Ee){const Ne=Ee.split(I);return Ne.length===2&&O(Ne[0])&&j(Ne[1],!0)}function z(Ee,Ne){if(!(Ee&&Ne))return;const[Ce,ze]=Ee.split(I),[Ge,ht]=Ne.split(I),st=D(Ce,Ge);if(st!==void 0)return st||$(ze,ht)}const ee=/\/|:/,te=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function oe(Ee){return ee.test(Ee)&&te.test(Ee)}const ye=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function F(Ee){return ye.lastIndex=0,ye.test(Ee)}const Y=-(2**31),ve=2**31-1;function se(Ee){return Number.isInteger(Ee)&&Ee<=ve&&Ee>=Y}function me(Ee){return Number.isInteger(Ee)}function xe(){return!0}const re=/[^\\]\\Z/;function M(Ee){if(re.test(Ee))return!1;try{return new RegExp(Ee),!0}catch{return!1}}},97540:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(78127),m=l(38273),R=l(45117),O=new R.Name("fullFormats"),D=new R.Name("fastFormats"),_=($,I={keywords:!0})=>{if(Array.isArray(I))return j($,I,o.fullFormats,O),$;const[J,z]=I.mode==="fast"?[o.fastFormats,D]:[o.fullFormats,O],ee=I.formats||o.formatNames;return j($,ee,J,z),I.keywords&&m.default($),$};_.get=($,I="full")=>{const z=(I==="fast"?o.fastFormats:o.fullFormats)[$];if(!z)throw new Error(`Unknown format "${$}"`);return z};function j($,I,J,z){var ee,te;(ee=(te=$.opts.code).formats)!==null&&ee!==void 0||(te.formats=R._`require("ajv-formats/dist/formats").${z}`);for(const oe of I)$.addFormat(oe,J[oe])}Te.exports=S=_,Object.defineProperty(S,"__esModule",{value:!0}),S.default=_},38273:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.formatLimitDefinition=void 0;const o=l(98892),m=l(45117),R=m.operators,O={formatMaximum:{okStr:"<=",ok:R.LTE,fail:R.GT},formatMinimum:{okStr:">=",ok:R.GTE,fail:R.LT},formatExclusiveMaximum:{okStr:"<",ok:R.LT,fail:R.GTE},formatExclusiveMinimum:{okStr:">",ok:R.GT,fail:R.LTE}},D={message:({keyword:j,schemaCode:$})=>m.str`should be ${O[j].okStr} ${$}`,params:({keyword:j,schemaCode:$})=>m._`{comparison: ${O[j].okStr}, limit: ${$}}`};S.formatLimitDefinition={keyword:Object.keys(O),type:"string",schemaType:"string",$data:!0,error:D,code(j){const{gen:$,data:I,schemaCode:J,keyword:z,it:ee}=j,{opts:te,self:oe}=ee;if(!te.validateFormats)return;const ye=new o.KeywordCxt(ee,oe.RULES.all.format.definition,"format");ye.$data?F():Y();function F(){const se=$.scopeValue("formats",{ref:oe.formats,code:te.code.formats}),me=$.const("fmt",m._`${se}[${ye.schemaCode}]`);j.fail$data(m.or(m._`typeof ${me} != "object"`,m._`${me} instanceof RegExp`,m._`typeof ${me}.compare != "function"`,ve(me)))}function Y(){const se=ye.schema,me=oe.formats[se];if(!me||me===!0)return;if(typeof me!="object"||me instanceof RegExp||typeof me.compare!="function")throw new Error(`"${z}": format "${se}" does not define "compare" function`);const xe=$.scopeValue("formats",{key:se,ref:me,code:te.code.formats?m._`${te.code.formats}${m.getProperty(se)}`:void 0});j.fail$data(ve(xe))}function ve(se){return m._`${se}.compare(${I}, ${J}) ${O[z].fail} 0`}},dependencies:["format"]};const _=j=>(j.addKeyword(S.formatLimitDefinition),j);S.default=_},98892:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MissingRefError=S.ValidationError=S.CodeGen=S.Name=S.nil=S.stringify=S.str=S._=S.KeywordCxt=void 0;const o=l(29414),m=l(6797),R=l(72360),O=l(22396),D=["/properties"],_="http://json-schema.org/draft-07/schema";class j extends o.default{_addVocabularies(){super._addVocabularies(),m.default.forEach(te=>this.addVocabulary(te)),this.opts.discriminator&&this.addKeyword(R.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const te=this.opts.$data?this.$dataMetaSchema(O,D):O;this.addMetaSchema(te,_,!1),this.refs["http://json-schema.org/schema"]=_}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(_)?_:void 0)}}Te.exports=S=j,Object.defineProperty(S,"__esModule",{value:!0}),S.default=j;var $=l(53970);Object.defineProperty(S,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var I=l(45117);Object.defineProperty(S,"_",{enumerable:!0,get:function(){return I._}}),Object.defineProperty(S,"str",{enumerable:!0,get:function(){return I.str}}),Object.defineProperty(S,"stringify",{enumerable:!0,get:function(){return I.stringify}}),Object.defineProperty(S,"nil",{enumerable:!0,get:function(){return I.nil}}),Object.defineProperty(S,"Name",{enumerable:!0,get:function(){return I.Name}}),Object.defineProperty(S,"CodeGen",{enumerable:!0,get:function(){return I.CodeGen}});var J=l(65282);Object.defineProperty(S,"ValidationError",{enumerable:!0,get:function(){return J.default}});var z=l(97566);Object.defineProperty(S,"MissingRefError",{enumerable:!0,get:function(){return z.default}})},28044:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.regexpCode=S.getEsmExportName=S.getProperty=S.safeStringify=S.stringify=S.strConcat=S.addCodeArg=S.str=S._=S.nil=S._Code=S.Name=S.IDENTIFIER=S._CodeOrName=void 0;class l{}S._CodeOrName=l,S.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class o extends l{constructor(Y){if(super(),!S.IDENTIFIER.test(Y))throw new Error("CodeGen: name must be a valid identifier");this.str=Y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}S.Name=o;class m extends l{constructor(Y){super(),this._items=typeof Y=="string"?[Y]:Y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const Y=this._items[0];return Y===""||Y==='""'}get str(){var Y;return(Y=this._str)!==null&&Y!==void 0?Y:this._str=this._items.reduce((ve,se)=>`${ve}${se}`,"")}get names(){var Y;return(Y=this._names)!==null&&Y!==void 0?Y:this._names=this._items.reduce((ve,se)=>(se instanceof o&&(ve[se.str]=(ve[se.str]||0)+1),ve),{})}}S._Code=m,S.nil=new m("");function R(F,...Y){const ve=[F[0]];let se=0;for(;se<Y.length;)_(ve,Y[se]),ve.push(F[++se]);return new m(ve)}S._=R;const O=new m("+");function D(F,...Y){const ve=[ee(F[0])];let se=0;for(;se<Y.length;)ve.push(O),_(ve,Y[se]),ve.push(O,ee(F[++se]));return j(ve),new m(ve)}S.str=D;function _(F,Y){Y instanceof m?F.push(...Y._items):Y instanceof o?F.push(Y):F.push(J(Y))}S.addCodeArg=_;function j(F){let Y=1;for(;Y<F.length-1;){if(F[Y]===O){const ve=$(F[Y-1],F[Y+1]);if(ve!==void 0){F.splice(Y-1,3,ve);continue}F[Y++]="+"}Y++}}function $(F,Y){if(Y==='""')return F;if(F==='""')return Y;if(typeof F=="string")return Y instanceof o||F[F.length-1]!=='"'?void 0:typeof Y!="string"?`${F.slice(0,-1)}${Y}"`:Y[0]==='"'?F.slice(0,-1)+Y.slice(1):void 0;if(typeof Y=="string"&&Y[0]==='"'&&!(F instanceof o))return`"${F}${Y.slice(1)}`}function I(F,Y){return Y.emptyStr()?F:F.emptyStr()?Y:D`${F}${Y}`}S.strConcat=I;function J(F){return typeof F=="number"||typeof F=="boolean"||F===null?F:ee(Array.isArray(F)?F.join(","):F)}function z(F){return new m(ee(F))}S.stringify=z;function ee(F){return JSON.stringify(F).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}S.safeStringify=ee;function te(F){return typeof F=="string"&&S.IDENTIFIER.test(F)?new m(`.${F}`):R`[${F}]`}S.getProperty=te;function oe(F){if(typeof F=="string"&&S.IDENTIFIER.test(F))return new m(`${F}`);throw new Error(`CodeGen: invalid export name: ${F}, use explicit $id name mapping`)}S.getEsmExportName=oe;function ye(F){return new m(F.toString())}S.regexpCode=ye},45117:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.or=S.and=S.not=S.CodeGen=S.operators=S.varKinds=S.ValueScopeName=S.ValueScope=S.Scope=S.Name=S.regexpCode=S.stringify=S.getProperty=S.nil=S.strConcat=S.str=S._=void 0;const o=l(28044),m=l(36001);var R=l(28044);Object.defineProperty(S,"_",{enumerable:!0,get:function(){return R._}}),Object.defineProperty(S,"str",{enumerable:!0,get:function(){return R.str}}),Object.defineProperty(S,"strConcat",{enumerable:!0,get:function(){return R.strConcat}}),Object.defineProperty(S,"nil",{enumerable:!0,get:function(){return R.nil}}),Object.defineProperty(S,"getProperty",{enumerable:!0,get:function(){return R.getProperty}}),Object.defineProperty(S,"stringify",{enumerable:!0,get:function(){return R.stringify}}),Object.defineProperty(S,"regexpCode",{enumerable:!0,get:function(){return R.regexpCode}}),Object.defineProperty(S,"Name",{enumerable:!0,get:function(){return R.Name}});var O=l(36001);Object.defineProperty(S,"Scope",{enumerable:!0,get:function(){return O.Scope}}),Object.defineProperty(S,"ValueScope",{enumerable:!0,get:function(){return O.ValueScope}}),Object.defineProperty(S,"ValueScopeName",{enumerable:!0,get:function(){return O.ValueScopeName}}),Object.defineProperty(S,"varKinds",{enumerable:!0,get:function(){return O.varKinds}}),S.operators={GT:new o._Code(">"),GTE:new o._Code(">="),LT:new o._Code("<"),LTE:new o._Code("<="),EQ:new o._Code("==="),NEQ:new o._Code("!=="),NOT:new o._Code("!"),OR:new o._Code("||"),AND:new o._Code("&&"),ADD:new o._Code("+")};class D{optimizeNodes(){return this}optimizeNames(he,Ie){return this}}class _ extends D{constructor(he,Ie,ft){super(),this.varKind=he,this.name=Ie,this.rhs=ft}render({es5:he,_n:Ie}){const ft=he?m.varKinds.var:this.varKind,_t=this.rhs===void 0?"":` = ${this.rhs}`;return`${ft} ${this.name}${_t};`+Ie}optimizeNames(he,Ie){if(he[this.name.str])return this.rhs&&(this.rhs=st(this.rhs,he,Ie)),this}get names(){return this.rhs instanceof o._CodeOrName?this.rhs.names:{}}}class j extends D{constructor(he,Ie,ft){super(),this.lhs=he,this.rhs=Ie,this.sideEffects=ft}render({_n:he}){return`${this.lhs} = ${this.rhs};`+he}optimizeNames(he,Ie){if(!(this.lhs instanceof o.Name&&!he[this.lhs.str]&&!this.sideEffects))return this.rhs=st(this.rhs,he,Ie),this}get names(){const he=this.lhs instanceof o.Name?{}:{...this.lhs.names};return ht(he,this.rhs)}}class $ extends j{constructor(he,Ie,ft,_t){super(he,ft,_t),this.op=Ie}render({_n:he}){return`${this.lhs} ${this.op}= ${this.rhs};`+he}}class I extends D{constructor(he){super(),this.label=he,this.names={}}render({_n:he}){return`${this.label}:`+he}}class J extends D{constructor(he){super(),this.label=he,this.names={}}render({_n:he}){return`break${this.label?` ${this.label}`:""};`+he}}class z extends D{constructor(he){super(),this.error=he}render({_n:he}){return`throw ${this.error};`+he}get names(){return this.error.names}}class ee extends D{constructor(he){super(),this.code=he}render({_n:he}){return`${this.code};`+he}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(he,Ie){return this.code=st(this.code,he,Ie),this}get names(){return this.code instanceof o._CodeOrName?this.code.names:{}}}class te extends D{constructor(he=[]){super(),this.nodes=he}render(he){return this.nodes.reduce((Ie,ft)=>Ie+ft.render(he),"")}optimizeNodes(){const{nodes:he}=this;let Ie=he.length;for(;Ie--;){const ft=he[Ie].optimizeNodes();Array.isArray(ft)?he.splice(Ie,1,...ft):ft?he[Ie]=ft:he.splice(Ie,1)}return he.length>0?this:void 0}optimizeNames(he,Ie){const{nodes:ft}=this;let _t=ft.length;for(;_t--;){const Vt=ft[_t];Vt.optimizeNames(he,Ie)||(Ye(he,Vt.names),ft.splice(_t,1))}return ft.length>0?this:void 0}get names(){return this.nodes.reduce((he,Ie)=>Ge(he,Ie.names),{})}}class oe extends te{render(he){return"{"+he._n+super.render(he)+"}"+he._n}}class ye extends te{}class F extends oe{}F.kind="else";class Y extends oe{constructor(he,Ie){super(Ie),this.condition=he}render(he){let Ie=`if(${this.condition})`+super.render(he);return this.else&&(Ie+="else "+this.else.render(he)),Ie}optimizeNodes(){super.optimizeNodes();const he=this.condition;if(he===!0)return this.nodes;let Ie=this.else;if(Ie){const ft=Ie.optimizeNodes();Ie=this.else=Array.isArray(ft)?new F(ft):ft}if(Ie)return he===!1?Ie instanceof Y?Ie:Ie.nodes:this.nodes.length?this:new Y(Et(he),Ie instanceof Y?[Ie]:Ie.nodes);if(!(he===!1||!this.nodes.length))return this}optimizeNames(he,Ie){var ft;if(this.else=(ft=this.else)===null||ft===void 0?void 0:ft.optimizeNames(he,Ie),!!(super.optimizeNames(he,Ie)||this.else))return this.condition=st(this.condition,he,Ie),this}get names(){const he=super.names;return ht(he,this.condition),this.else&&Ge(he,this.else.names),he}}Y.kind="if";class ve extends oe{}ve.kind="for";class se extends ve{constructor(he){super(),this.iteration=he}render(he){return`for(${this.iteration})`+super.render(he)}optimizeNames(he,Ie){if(super.optimizeNames(he,Ie))return this.iteration=st(this.iteration,he,Ie),this}get names(){return Ge(super.names,this.iteration.names)}}class me extends ve{constructor(he,Ie,ft,_t){super(),this.varKind=he,this.name=Ie,this.from=ft,this.to=_t}render(he){const Ie=he.es5?m.varKinds.var:this.varKind,{name:ft,from:_t,to:Vt}=this;return`for(${Ie} ${ft}=${_t}; ${ft}<${Vt}; ${ft}++)`+super.render(he)}get names(){const he=ht(super.names,this.from);return ht(he,this.to)}}class xe extends ve{constructor(he,Ie,ft,_t){super(),this.loop=he,this.varKind=Ie,this.name=ft,this.iterable=_t}render(he){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(he)}optimizeNames(he,Ie){if(super.optimizeNames(he,Ie))return this.iterable=st(this.iterable,he,Ie),this}get names(){return Ge(super.names,this.iterable.names)}}class re extends oe{constructor(he,Ie,ft){super(),this.name=he,this.args=Ie,this.async=ft}render(he){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(he)}}re.kind="func";class M extends te{render(he){return"return "+super.render(he)}}M.kind="return";class Ee extends oe{render(he){let Ie="try"+super.render(he);return this.catch&&(Ie+=this.catch.render(he)),this.finally&&(Ie+=this.finally.render(he)),Ie}optimizeNodes(){var he,Ie;return super.optimizeNodes(),(he=this.catch)===null||he===void 0||he.optimizeNodes(),(Ie=this.finally)===null||Ie===void 0||Ie.optimizeNodes(),this}optimizeNames(he,Ie){var ft,_t;return super.optimizeNames(he,Ie),(ft=this.catch)===null||ft===void 0||ft.optimizeNames(he,Ie),(_t=this.finally)===null||_t===void 0||_t.optimizeNames(he,Ie),this}get names(){const he=super.names;return this.catch&&Ge(he,this.catch.names),this.finally&&Ge(he,this.finally.names),he}}class Ne extends oe{constructor(he){super(),this.error=he}render(he){return`catch(${this.error})`+super.render(he)}}Ne.kind="catch";class Ce extends oe{render(he){return"finally"+super.render(he)}}Ce.kind="finally";class ze{constructor(he,Ie={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Ie,_n:Ie.lines?`
`:""},this._extScope=he,this._scope=new m.Scope({parent:he}),this._nodes=[new ye]}toString(){return this._root.render(this.opts)}name(he){return this._scope.name(he)}scopeName(he){return this._extScope.name(he)}scopeValue(he,Ie){const ft=this._extScope.value(he,Ie);return(this._values[ft.prefix]||(this._values[ft.prefix]=new Set)).add(ft),ft}getScopeValue(he,Ie){return this._extScope.getValue(he,Ie)}scopeRefs(he){return this._extScope.scopeRefs(he,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(he,Ie,ft,_t){const Vt=this._scope.toName(Ie);return ft!==void 0&&_t&&(this._constants[Vt.str]=ft),this._leafNode(new _(he,Vt,ft)),Vt}const(he,Ie,ft){return this._def(m.varKinds.const,he,Ie,ft)}let(he,Ie,ft){return this._def(m.varKinds.let,he,Ie,ft)}var(he,Ie,ft){return this._def(m.varKinds.var,he,Ie,ft)}assign(he,Ie,ft){return this._leafNode(new j(he,Ie,ft))}add(he,Ie){return this._leafNode(new $(he,S.operators.ADD,Ie))}code(he){return typeof he=="function"?he():he!==o.nil&&this._leafNode(new ee(he)),this}object(...he){const Ie=["{"];for(const[ft,_t]of he)Ie.length>1&&Ie.push(","),Ie.push(ft),(ft!==_t||this.opts.es5)&&(Ie.push(":"),(0,o.addCodeArg)(Ie,_t));return Ie.push("}"),new o._Code(Ie)}if(he,Ie,ft){if(this._blockNode(new Y(he)),Ie&&ft)this.code(Ie).else().code(ft).endIf();else if(Ie)this.code(Ie).endIf();else if(ft)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(he){return this._elseNode(new Y(he))}else(){return this._elseNode(new F)}endIf(){return this._endBlockNode(Y,F)}_for(he,Ie){return this._blockNode(he),Ie&&this.code(Ie).endFor(),this}for(he,Ie){return this._for(new se(he),Ie)}forRange(he,Ie,ft,_t,Vt=this.opts.es5?m.varKinds.var:m.varKinds.let){const Cr=this._scope.toName(he);return this._for(new me(Vt,Cr,Ie,ft),()=>_t(Cr))}forOf(he,Ie,ft,_t=m.varKinds.const){const Vt=this._scope.toName(he);if(this.opts.es5){const Cr=Ie instanceof o.Name?Ie:this.var("_arr",Ie);return this.forRange("_i",0,(0,o._)`${Cr}.length`,Ue=>{this.var(Vt,(0,o._)`${Cr}[${Ue}]`),ft(Vt)})}return this._for(new xe("of",_t,Vt,Ie),()=>ft(Vt))}forIn(he,Ie,ft,_t=this.opts.es5?m.varKinds.var:m.varKinds.const){if(this.opts.ownProperties)return this.forOf(he,(0,o._)`Object.keys(${Ie})`,ft);const Vt=this._scope.toName(he);return this._for(new xe("in",_t,Vt,Ie),()=>ft(Vt))}endFor(){return this._endBlockNode(ve)}label(he){return this._leafNode(new I(he))}break(he){return this._leafNode(new J(he))}return(he){const Ie=new M;if(this._blockNode(Ie),this.code(he),Ie.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(M)}try(he,Ie,ft){if(!Ie&&!ft)throw new Error('CodeGen: "try" without "catch" and "finally"');const _t=new Ee;if(this._blockNode(_t),this.code(he),Ie){const Vt=this.name("e");this._currNode=_t.catch=new Ne(Vt),Ie(Vt)}return ft&&(this._currNode=_t.finally=new Ce,this.code(ft)),this._endBlockNode(Ne,Ce)}throw(he){return this._leafNode(new z(he))}block(he,Ie){return this._blockStarts.push(this._nodes.length),he&&this.code(he).endBlock(Ie),this}endBlock(he){const Ie=this._blockStarts.pop();if(Ie===void 0)throw new Error("CodeGen: not in self-balancing block");const ft=this._nodes.length-Ie;if(ft<0||he!==void 0&&ft!==he)throw new Error(`CodeGen: wrong number of nodes: ${ft} vs ${he} expected`);return this._nodes.length=Ie,this}func(he,Ie=o.nil,ft,_t){return this._blockNode(new re(he,Ie,ft)),_t&&this.code(_t).endFunc(),this}endFunc(){return this._endBlockNode(re)}optimize(he=1){for(;he-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(he){return this._currNode.nodes.push(he),this}_blockNode(he){this._currNode.nodes.push(he),this._nodes.push(he)}_endBlockNode(he,Ie){const ft=this._currNode;if(ft instanceof he||Ie&&ft instanceof Ie)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Ie?`${he.kind}/${Ie.kind}`:he.kind}"`)}_elseNode(he){const Ie=this._currNode;if(!(Ie instanceof Y))throw new Error('CodeGen: "else" without "if"');return this._currNode=Ie.else=he,this}get _root(){return this._nodes[0]}get _currNode(){const he=this._nodes;return he[he.length-1]}set _currNode(he){const Ie=this._nodes;Ie[Ie.length-1]=he}}S.CodeGen=ze;function Ge(et,he){for(const Ie in he)et[Ie]=(et[Ie]||0)+(he[Ie]||0);return et}function ht(et,he){return he instanceof o._CodeOrName?Ge(et,he.names):et}function st(et,he,Ie){if(et instanceof o.Name)return ft(et);if(!_t(et))return et;return new o._Code(et._items.reduce((Vt,Cr)=>(Cr instanceof o.Name&&(Cr=ft(Cr)),Cr instanceof o._Code?Vt.push(...Cr._items):Vt.push(Cr),Vt),[]));function ft(Vt){const Cr=Ie[Vt.str];return Cr===void 0||he[Vt.str]!==1?Vt:(delete he[Vt.str],Cr)}function _t(Vt){return Vt instanceof o._Code&&Vt._items.some(Cr=>Cr instanceof o.Name&&he[Cr.str]===1&&Ie[Cr.str]!==void 0)}}function Ye(et,he){for(const Ie in he)et[Ie]=(et[Ie]||0)-(he[Ie]||0)}function Et(et){return typeof et=="boolean"||typeof et=="number"||et===null?!et:(0,o._)`!${bt(et)}`}S.not=Et;const rr=Ze(S.operators.AND);function mt(...et){return et.reduce(rr)}S.and=mt;const Mt=Ze(S.operators.OR);function gt(...et){return et.reduce(Mt)}S.or=gt;function Ze(et){return(he,Ie)=>he===o.nil?Ie:Ie===o.nil?he:(0,o._)`${bt(he)} ${et} ${bt(Ie)}`}function bt(et){return et instanceof o.Name?et:(0,o._)`(${et})`}},36001:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ValueScope=S.ValueScopeName=S.Scope=S.varKinds=S.UsedValueState=void 0;const o=l(28044);class m extends Error{constructor(I){super(`CodeGen: "code" for ${I} not defined`),this.value=I.value}}var R;(function($){$[$.Started=0]="Started",$[$.Completed=1]="Completed"})(R=S.UsedValueState||(S.UsedValueState={})),S.varKinds={const:new o.Name("const"),let:new o.Name("let"),var:new o.Name("var")};class O{constructor({prefixes:I,parent:J}={}){this._names={},this._prefixes=I,this._parent=J}toName(I){return I instanceof o.Name?I:this.name(I)}name(I){return new o.Name(this._newName(I))}_newName(I){const J=this._names[I]||this._nameGroup(I);return`${I}${J.index++}`}_nameGroup(I){var J,z;if(!((z=(J=this._parent)===null||J===void 0?void 0:J._prefixes)===null||z===void 0)&&z.has(I)||this._prefixes&&!this._prefixes.has(I))throw new Error(`CodeGen: prefix "${I}" is not allowed in this scope`);return this._names[I]={prefix:I,index:0}}}S.Scope=O;class D extends o.Name{constructor(I,J){super(J),this.prefix=I}setValue(I,{property:J,itemIndex:z}){this.value=I,this.scopePath=(0,o._)`.${new o.Name(J)}[${z}]`}}S.ValueScopeName=D;const _=(0,o._)`\n`;class j extends O{constructor(I){super(I),this._values={},this._scope=I.scope,this.opts={...I,_n:I.lines?_:o.nil}}get(){return this._scope}name(I){return new D(I,this._newName(I))}value(I,J){var z;if(J.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const ee=this.toName(I),{prefix:te}=ee,oe=(z=J.key)!==null&&z!==void 0?z:J.ref;let ye=this._values[te];if(ye){const ve=ye.get(oe);if(ve)return ve}else ye=this._values[te]=new Map;ye.set(oe,ee);const F=this._scope[te]||(this._scope[te]=[]),Y=F.length;return F[Y]=J.ref,ee.setValue(J,{property:te,itemIndex:Y}),ee}getValue(I,J){const z=this._values[I];if(z)return z.get(J)}scopeRefs(I,J=this._values){return this._reduceValues(J,z=>{if(z.scopePath===void 0)throw new Error(`CodeGen: name "${z}" has no value`);return(0,o._)`${I}${z.scopePath}`})}scopeCode(I=this._values,J,z){return this._reduceValues(I,ee=>{if(ee.value===void 0)throw new Error(`CodeGen: name "${ee}" has no value`);return ee.value.code},J,z)}_reduceValues(I,J,z={},ee){let te=o.nil;for(const oe in I){const ye=I[oe];if(!ye)continue;const F=z[oe]=z[oe]||new Map;ye.forEach(Y=>{if(F.has(Y))return;F.set(Y,R.Started);let ve=J(Y);if(ve){const se=this.opts.es5?S.varKinds.var:S.varKinds.const;te=(0,o._)`${te}${se} ${Y} = ${ve};${this.opts._n}`}else if(ve=ee==null?void 0:ee(Y))te=(0,o._)`${te}${ve}${this.opts._n}`;else throw new m(Y);F.set(Y,R.Completed)})}return te}}S.ValueScope=j},19606:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.extendErrors=S.resetErrorsCount=S.reportExtraError=S.reportError=S.keyword$DataError=S.keywordError=void 0;const o=l(45117),m=l(79812),R=l(93239);S.keywordError={message:({keyword:F})=>(0,o.str)`must pass "${F}" keyword validation`},S.keyword$DataError={message:({keyword:F,schemaType:Y})=>Y?(0,o.str)`"${F}" keyword must be ${Y} ($data)`:(0,o.str)`"${F}" keyword is invalid ($data)`};function O(F,Y=S.keywordError,ve,se){const{it:me}=F,{gen:xe,compositeRule:re,allErrors:M}=me,Ee=z(F,Y,ve);(se!=null?se:re||M)?$(xe,Ee):I(me,(0,o._)`[${Ee}]`)}S.reportError=O;function D(F,Y=S.keywordError,ve){const{it:se}=F,{gen:me,compositeRule:xe,allErrors:re}=se,M=z(F,Y,ve);$(me,M),xe||re||I(se,R.default.vErrors)}S.reportExtraError=D;function _(F,Y){F.assign(R.default.errors,Y),F.if((0,o._)`${R.default.vErrors} !== null`,()=>F.if(Y,()=>F.assign((0,o._)`${R.default.vErrors}.length`,Y),()=>F.assign(R.default.vErrors,null)))}S.resetErrorsCount=_;function j({gen:F,keyword:Y,schemaValue:ve,data:se,errsCount:me,it:xe}){if(me===void 0)throw new Error("ajv implementation error");const re=F.name("err");F.forRange("i",me,R.default.errors,M=>{F.const(re,(0,o._)`${R.default.vErrors}[${M}]`),F.if((0,o._)`${re}.instancePath === undefined`,()=>F.assign((0,o._)`${re}.instancePath`,(0,o.strConcat)(R.default.instancePath,xe.errorPath))),F.assign((0,o._)`${re}.schemaPath`,(0,o.str)`${xe.errSchemaPath}/${Y}`),xe.opts.verbose&&(F.assign((0,o._)`${re}.schema`,ve),F.assign((0,o._)`${re}.data`,se))})}S.extendErrors=j;function $(F,Y){const ve=F.const("err",Y);F.if((0,o._)`${R.default.vErrors} === null`,()=>F.assign(R.default.vErrors,(0,o._)`[${ve}]`),(0,o._)`${R.default.vErrors}.push(${ve})`),F.code((0,o._)`${R.default.errors}++`)}function I(F,Y){const{gen:ve,validateName:se,schemaEnv:me}=F;me.$async?ve.throw((0,o._)`new ${F.ValidationError}(${Y})`):(ve.assign((0,o._)`${se}.errors`,Y),ve.return(!1))}const J={keyword:new o.Name("keyword"),schemaPath:new o.Name("schemaPath"),params:new o.Name("params"),propertyName:new o.Name("propertyName"),message:new o.Name("message"),schema:new o.Name("schema"),parentSchema:new o.Name("parentSchema")};function z(F,Y,ve){const{createErrors:se}=F.it;return se===!1?(0,o._)`{}`:ee(F,Y,ve)}function ee(F,Y,ve={}){const{gen:se,it:me}=F,xe=[te(me,ve),oe(F,ve)];return ye(F,Y,xe),se.object(...xe)}function te({errorPath:F},{instancePath:Y}){const ve=Y?(0,o.str)`${F}${(0,m.getErrorPath)(Y,m.Type.Str)}`:F;return[R.default.instancePath,(0,o.strConcat)(R.default.instancePath,ve)]}function oe({keyword:F,it:{errSchemaPath:Y}},{schemaPath:ve,parentSchema:se}){let me=se?Y:(0,o.str)`${Y}/${F}`;return ve&&(me=(0,o.str)`${me}${(0,m.getErrorPath)(ve,m.Type.Str)}`),[J.schemaPath,me]}function ye(F,{params:Y,message:ve},se){const{keyword:me,data:xe,schemaValue:re,it:M}=F,{opts:Ee,propertyName:Ne,topSchemaRef:Ce,schemaPath:ze}=M;se.push([J.keyword,me],[J.params,typeof Y=="function"?Y(F):Y||(0,o._)`{}`]),Ee.messages&&se.push([J.message,typeof ve=="function"?ve(F):ve]),Ee.verbose&&se.push([J.schema,re],[J.parentSchema,(0,o._)`${Ce}${ze}`],[R.default.data,xe]),Ne&&se.push([J.propertyName,Ne])}},19984:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.resolveSchema=S.getCompilingSchema=S.resolveRef=S.compileSchema=S.SchemaEnv=void 0;const o=l(45117),m=l(65282),R=l(93239),O=l(40071),D=l(79812),_=l(53970);class j{constructor(ve){var se;this.refs={},this.dynamicAnchors={};let me;typeof ve.schema=="object"&&(me=ve.schema),this.schema=ve.schema,this.schemaId=ve.schemaId,this.root=ve.root||this,this.baseId=(se=ve.baseId)!==null&&se!==void 0?se:(0,O.normalizeId)(me==null?void 0:me[ve.schemaId||"$id"]),this.schemaPath=ve.schemaPath,this.localRefs=ve.localRefs,this.meta=ve.meta,this.$async=me==null?void 0:me.$async,this.refs={}}}S.SchemaEnv=j;function $(Y){const ve=z.call(this,Y);if(ve)return ve;const se=(0,O.getFullPath)(this.opts.uriResolver,Y.root.baseId),{es5:me,lines:xe}=this.opts.code,{ownProperties:re}=this.opts,M=new o.CodeGen(this.scope,{es5:me,lines:xe,ownProperties:re});let Ee;Y.$async&&(Ee=M.scopeValue("Error",{ref:m.default,code:(0,o._)`require("ajv/dist/runtime/validation_error").default`}));const Ne=M.scopeName("validate");Y.validateName=Ne;const Ce={gen:M,allErrors:this.opts.allErrors,data:R.default.data,parentData:R.default.parentData,parentDataProperty:R.default.parentDataProperty,dataNames:[R.default.data],dataPathArr:[o.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:M.scopeValue("schema",this.opts.code.source===!0?{ref:Y.schema,code:(0,o.stringify)(Y.schema)}:{ref:Y.schema}),validateName:Ne,ValidationError:Ee,schema:Y.schema,schemaEnv:Y,rootId:se,baseId:Y.baseId||se,schemaPath:o.nil,errSchemaPath:Y.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,o._)`""`,opts:this.opts,self:this};let ze;try{this._compilations.add(Y),(0,_.validateFunctionCode)(Ce),M.optimize(this.opts.code.optimize);const Ge=M.toString();ze=`${M.scopeRefs(R.default.scope)}return ${Ge}`,this.opts.code.process&&(ze=this.opts.code.process(ze,Y));const st=new Function(`${R.default.self}`,`${R.default.scope}`,ze)(this,this.scope.get());if(this.scope.value(Ne,{ref:st}),st.errors=null,st.schema=Y.schema,st.schemaEnv=Y,Y.$async&&(st.$async=!0),this.opts.code.source===!0&&(st.source={validateName:Ne,validateCode:Ge,scopeValues:M._values}),this.opts.unevaluated){const{props:Ye,items:Et}=Ce;st.evaluated={props:Ye instanceof o.Name?void 0:Ye,items:Et instanceof o.Name?void 0:Et,dynamicProps:Ye instanceof o.Name,dynamicItems:Et instanceof o.Name},st.source&&(st.source.evaluated=(0,o.stringify)(st.evaluated))}return Y.validate=st,Y}catch(Ge){throw delete Y.validate,delete Y.validateName,ze&&this.logger.error("Error compiling schema, function code:",ze),Ge}finally{this._compilations.delete(Y)}}S.compileSchema=$;function I(Y,ve,se){var me;se=(0,O.resolveUrl)(this.opts.uriResolver,ve,se);const xe=Y.refs[se];if(xe)return xe;let re=te.call(this,Y,se);if(re===void 0){const M=(me=Y.localRefs)===null||me===void 0?void 0:me[se],{schemaId:Ee}=this.opts;M&&(re=new j({schema:M,schemaId:Ee,root:Y,baseId:ve}))}if(re!==void 0)return Y.refs[se]=J.call(this,re)}S.resolveRef=I;function J(Y){return(0,O.inlineRef)(Y.schema,this.opts.inlineRefs)?Y.schema:Y.validate?Y:$.call(this,Y)}function z(Y){for(const ve of this._compilations)if(ee(ve,Y))return ve}S.getCompilingSchema=z;function ee(Y,ve){return Y.schema===ve.schema&&Y.root===ve.root&&Y.baseId===ve.baseId}function te(Y,ve){let se;for(;typeof(se=this.refs[ve])=="string";)ve=se;return se||this.schemas[ve]||oe.call(this,Y,ve)}function oe(Y,ve){const se=this.opts.uriResolver.parse(ve),me=(0,O._getFullPath)(this.opts.uriResolver,se);let xe=(0,O.getFullPath)(this.opts.uriResolver,Y.baseId,void 0);if(Object.keys(Y.schema).length>0&&me===xe)return F.call(this,se,Y);const re=(0,O.normalizeId)(me),M=this.refs[re]||this.schemas[re];if(typeof M=="string"){const Ee=oe.call(this,Y,M);return typeof(Ee==null?void 0:Ee.schema)!="object"?void 0:F.call(this,se,Ee)}if(typeof(M==null?void 0:M.schema)=="object"){if(M.validate||$.call(this,M),re===(0,O.normalizeId)(ve)){const{schema:Ee}=M,{schemaId:Ne}=this.opts,Ce=Ee[Ne];return Ce&&(xe=(0,O.resolveUrl)(this.opts.uriResolver,xe,Ce)),new j({schema:Ee,schemaId:Ne,root:Y,baseId:xe})}return F.call(this,se,M)}}S.resolveSchema=oe;const ye=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function F(Y,{baseId:ve,schema:se,root:me}){var xe;if(((xe=Y.fragment)===null||xe===void 0?void 0:xe[0])!=="/")return;for(const Ee of Y.fragment.slice(1).split("/")){if(typeof se=="boolean")return;const Ne=se[(0,D.unescapeFragment)(Ee)];if(Ne===void 0)return;se=Ne;const Ce=typeof se=="object"&&se[this.opts.schemaId];!ye.has(Ee)&&Ce&&(ve=(0,O.resolveUrl)(this.opts.uriResolver,ve,Ce))}let re;if(typeof se!="boolean"&&se.$ref&&!(0,D.schemaHasRulesButRef)(se,this.RULES)){const Ee=(0,O.resolveUrl)(this.opts.uriResolver,ve,se.$ref);re=oe.call(this,me,Ee)}const{schemaId:M}=this.opts;if(re=re||new j({schema:se,schemaId:M,root:me,baseId:ve}),re.schema!==re.root.schema)return re}},93239:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m={data:new o.Name("data"),valCxt:new o.Name("valCxt"),instancePath:new o.Name("instancePath"),parentData:new o.Name("parentData"),parentDataProperty:new o.Name("parentDataProperty"),rootData:new o.Name("rootData"),dynamicAnchors:new o.Name("dynamicAnchors"),vErrors:new o.Name("vErrors"),errors:new o.Name("errors"),this:new o.Name("this"),self:new o.Name("self"),scope:new o.Name("scope"),json:new o.Name("json"),jsonPos:new o.Name("jsonPos"),jsonLen:new o.Name("jsonLen"),jsonPart:new o.Name("jsonPart")};S.default=m},97566:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(40071);class m extends Error{constructor(O,D,_,j){super(j||`can't resolve reference ${_} from id ${D}`),this.missingRef=(0,o.resolveUrl)(O,D,_),this.missingSchema=(0,o.normalizeId)((0,o.getFullPath)(O,this.missingRef))}}S.default=m},40071:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getSchemaRefs=S.resolveUrl=S.normalizeId=S._getFullPath=S.getFullPath=S.inlineRef=void 0;const o=l(79812),m=l(69378),R=l(19522),O=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function D(F,Y=!0){return typeof F=="boolean"?!0:Y===!0?!j(F):Y?$(F)<=Y:!1}S.inlineRef=D;const _=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function j(F){for(const Y in F){if(_.has(Y))return!0;const ve=F[Y];if(Array.isArray(ve)&&ve.some(j)||typeof ve=="object"&&j(ve))return!0}return!1}function $(F){let Y=0;for(const ve in F){if(ve==="$ref")return 1/0;if(Y++,!O.has(ve)&&(typeof F[ve]=="object"&&(0,o.eachItem)(F[ve],se=>Y+=$(se)),Y===1/0))return 1/0}return Y}function I(F,Y="",ve){ve!==!1&&(Y=ee(Y));const se=F.parse(Y);return J(F,se)}S.getFullPath=I;function J(F,Y){return F.serialize(Y).split("#")[0]+"#"}S._getFullPath=J;const z=/#\/?$/;function ee(F){return F?F.replace(z,""):""}S.normalizeId=ee;function te(F,Y,ve){return ve=ee(ve),F.resolve(Y,ve)}S.resolveUrl=te;const oe=/^[a-z_][-a-z0-9._]*$/i;function ye(F,Y){if(typeof F=="boolean")return{};const{schemaId:ve,uriResolver:se}=this.opts,me=ee(F[ve]||Y),xe={"":me},re=I(se,me,!1),M={},Ee=new Set;return R(F,{allKeys:!0},(ze,Ge,ht,st)=>{if(st===void 0)return;const Ye=re+Ge;let Et=xe[st];typeof ze[ve]=="string"&&(Et=rr.call(this,ze[ve])),mt.call(this,ze.$anchor),mt.call(this,ze.$dynamicAnchor),xe[Ge]=Et;function rr(Mt){const gt=this.opts.uriResolver.resolve;if(Mt=ee(Et?gt(Et,Mt):Mt),Ee.has(Mt))throw Ce(Mt);Ee.add(Mt);let Ze=this.refs[Mt];return typeof Ze=="string"&&(Ze=this.refs[Ze]),typeof Ze=="object"?Ne(ze,Ze.schema,Mt):Mt!==ee(Ye)&&(Mt[0]==="#"?(Ne(ze,M[Mt],Mt),M[Mt]=ze):this.refs[Mt]=Ye),Mt}function mt(Mt){if(typeof Mt=="string"){if(!oe.test(Mt))throw new Error(`invalid anchor "${Mt}"`);rr.call(this,`#${Mt}`)}}}),M;function Ne(ze,Ge,ht){if(Ge!==void 0&&!m(ze,Ge))throw Ce(ht)}function Ce(ze){return new Error(`reference "${ze}" resolves to more than one schema`)}}S.getSchemaRefs=ye},60968:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getRules=S.isJSONType=void 0;const l=["string","number","integer","boolean","null","object","array"],o=new Set(l);function m(O){return typeof O=="string"&&o.has(O)}S.isJSONType=m;function R(){const O={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...O,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},O.number,O.string,O.array,O.object],post:{rules:[]},all:{},keywords:{}}}S.getRules=R},79812:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.checkStrictMode=S.getErrorPath=S.Type=S.useFunc=S.setEvaluated=S.evaluatedPropsToName=S.mergeEvaluated=S.eachItem=S.unescapeJsonPointer=S.escapeJsonPointer=S.escapeFragment=S.unescapeFragment=S.schemaRefOrVal=S.schemaHasRulesButRef=S.schemaHasRules=S.checkUnknownRules=S.alwaysValidSchema=S.toHash=void 0;const o=l(45117),m=l(28044);function R(re){const M={};for(const Ee of re)M[Ee]=!0;return M}S.toHash=R;function O(re,M){return typeof M=="boolean"?M:Object.keys(M).length===0?!0:(D(re,M),!_(M,re.self.RULES.all))}S.alwaysValidSchema=O;function D(re,M=re.schema){const{opts:Ee,self:Ne}=re;if(!Ee.strictSchema||typeof M=="boolean")return;const Ce=Ne.RULES.keywords;for(const ze in M)Ce[ze]||xe(re,`unknown keyword: "${ze}"`)}S.checkUnknownRules=D;function _(re,M){if(typeof re=="boolean")return!re;for(const Ee in re)if(M[Ee])return!0;return!1}S.schemaHasRules=_;function j(re,M){if(typeof re=="boolean")return!re;for(const Ee in re)if(Ee!=="$ref"&&M.all[Ee])return!0;return!1}S.schemaHasRulesButRef=j;function $({topSchemaRef:re,schemaPath:M},Ee,Ne,Ce){if(!Ce){if(typeof Ee=="number"||typeof Ee=="boolean")return Ee;if(typeof Ee=="string")return(0,o._)`${Ee}`}return(0,o._)`${re}${M}${(0,o.getProperty)(Ne)}`}S.schemaRefOrVal=$;function I(re){return ee(decodeURIComponent(re))}S.unescapeFragment=I;function J(re){return encodeURIComponent(z(re))}S.escapeFragment=J;function z(re){return typeof re=="number"?`${re}`:re.replace(/~/g,"~0").replace(/\//g,"~1")}S.escapeJsonPointer=z;function ee(re){return re.replace(/~1/g,"/").replace(/~0/g,"~")}S.unescapeJsonPointer=ee;function te(re,M){if(Array.isArray(re))for(const Ee of re)M(Ee);else M(re)}S.eachItem=te;function oe({mergeNames:re,mergeToName:M,mergeValues:Ee,resultToName:Ne}){return(Ce,ze,Ge,ht)=>{const st=Ge===void 0?ze:Ge instanceof o.Name?(ze instanceof o.Name?re(Ce,ze,Ge):M(Ce,ze,Ge),Ge):ze instanceof o.Name?(M(Ce,Ge,ze),ze):Ee(ze,Ge);return ht===o.Name&&!(st instanceof o.Name)?Ne(Ce,st):st}}S.mergeEvaluated={props:oe({mergeNames:(re,M,Ee)=>re.if((0,o._)`${Ee} !== true && ${M} !== undefined`,()=>{re.if((0,o._)`${M} === true`,()=>re.assign(Ee,!0),()=>re.assign(Ee,(0,o._)`${Ee} || {}`).code((0,o._)`Object.assign(${Ee}, ${M})`))}),mergeToName:(re,M,Ee)=>re.if((0,o._)`${Ee} !== true`,()=>{M===!0?re.assign(Ee,!0):(re.assign(Ee,(0,o._)`${Ee} || {}`),F(re,Ee,M))}),mergeValues:(re,M)=>re===!0?!0:{...re,...M},resultToName:ye}),items:oe({mergeNames:(re,M,Ee)=>re.if((0,o._)`${Ee} !== true && ${M} !== undefined`,()=>re.assign(Ee,(0,o._)`${M} === true ? true : ${Ee} > ${M} ? ${Ee} : ${M}`)),mergeToName:(re,M,Ee)=>re.if((0,o._)`${Ee} !== true`,()=>re.assign(Ee,M===!0?!0:(0,o._)`${Ee} > ${M} ? ${Ee} : ${M}`)),mergeValues:(re,M)=>re===!0?!0:Math.max(re,M),resultToName:(re,M)=>re.var("items",M)})};function ye(re,M){if(M===!0)return re.var("props",!0);const Ee=re.var("props",(0,o._)`{}`);return M!==void 0&&F(re,Ee,M),Ee}S.evaluatedPropsToName=ye;function F(re,M,Ee){Object.keys(Ee).forEach(Ne=>re.assign((0,o._)`${M}${(0,o.getProperty)(Ne)}`,!0))}S.setEvaluated=F;const Y={};function ve(re,M){return re.scopeValue("func",{ref:M,code:Y[M.code]||(Y[M.code]=new m._Code(M.code))})}S.useFunc=ve;var se;(function(re){re[re.Num=0]="Num",re[re.Str=1]="Str"})(se=S.Type||(S.Type={}));function me(re,M,Ee){if(re instanceof o.Name){const Ne=M===se.Num;return Ee?Ne?(0,o._)`"[" + ${re} + "]"`:(0,o._)`"['" + ${re} + "']"`:Ne?(0,o._)`"/" + ${re}`:(0,o._)`"/" + ${re}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return Ee?(0,o.getProperty)(re).toString():"/"+z(re)}S.getErrorPath=me;function xe(re,M,Ee=re.opts.strictSchema){if(Ee){if(M=`strict mode: ${M}`,Ee===!0)throw new Error(M);re.self.logger.warn(M)}}S.checkStrictMode=xe},15149:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.shouldUseRule=S.shouldUseGroup=S.schemaHasRulesForType=void 0;function l({schema:R,self:O},D){const _=O.RULES.types[D];return _&&_!==!0&&o(R,_)}S.schemaHasRulesForType=l;function o(R,O){return O.rules.some(D=>m(R,D))}S.shouldUseGroup=o;function m(R,O){var D;return R[O.keyword]!==void 0||((D=O.definition.implements)===null||D===void 0?void 0:D.some(_=>R[_]!==void 0))}S.shouldUseRule=m},87929:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.boolOrEmptySchema=S.topBoolOrEmptySchema=void 0;const o=l(19606),m=l(45117),R=l(93239),O={message:"boolean schema is false"};function D($){const{gen:I,schema:J,validateName:z}=$;J===!1?j($,!1):typeof J=="object"&&J.$async===!0?I.return(R.default.data):(I.assign((0,m._)`${z}.errors`,null),I.return(!0))}S.topBoolOrEmptySchema=D;function _($,I){const{gen:J,schema:z}=$;z===!1?(J.var(I,!1),j($)):J.var(I,!0)}S.boolOrEmptySchema=_;function j($,I){const{gen:J,data:z}=$,ee={gen:J,keyword:"false schema",data:z,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:$};(0,o.reportError)(ee,O,void 0,I)}},51549:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.reportTypeError=S.checkDataTypes=S.checkDataType=S.coerceAndCheckDataType=S.getJSONTypes=S.getSchemaTypes=S.DataType=void 0;const o=l(60968),m=l(15149),R=l(19606),O=l(45117),D=l(79812);var _;(function(se){se[se.Correct=0]="Correct",se[se.Wrong=1]="Wrong"})(_=S.DataType||(S.DataType={}));function j(se){const me=$(se.type);if(me.includes("null")){if(se.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!me.length&&se.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');se.nullable===!0&&me.push("null")}return me}S.getSchemaTypes=j;function $(se){const me=Array.isArray(se)?se:se?[se]:[];if(me.every(o.isJSONType))return me;throw new Error("type must be JSONType or JSONType[]: "+me.join(","))}S.getJSONTypes=$;function I(se,me){const{gen:xe,data:re,opts:M}=se,Ee=z(me,M.coerceTypes),Ne=me.length>0&&!(Ee.length===0&&me.length===1&&(0,m.schemaHasRulesForType)(se,me[0]));if(Ne){const Ce=ye(me,re,M.strictNumbers,_.Wrong);xe.if(Ce,()=>{Ee.length?ee(se,me,Ee):Y(se)})}return Ne}S.coerceAndCheckDataType=I;const J=new Set(["string","number","integer","boolean","null"]);function z(se,me){return me?se.filter(xe=>J.has(xe)||me==="array"&&xe==="array"):[]}function ee(se,me,xe){const{gen:re,data:M,opts:Ee}=se,Ne=re.let("dataType",(0,O._)`typeof ${M}`),Ce=re.let("coerced",(0,O._)`undefined`);Ee.coerceTypes==="array"&&re.if((0,O._)`${Ne} == 'object' && Array.isArray(${M}) && ${M}.length == 1`,()=>re.assign(M,(0,O._)`${M}[0]`).assign(Ne,(0,O._)`typeof ${M}`).if(ye(me,M,Ee.strictNumbers),()=>re.assign(Ce,M))),re.if((0,O._)`${Ce} !== undefined`);for(const Ge of xe)(J.has(Ge)||Ge==="array"&&Ee.coerceTypes==="array")&&ze(Ge);re.else(),Y(se),re.endIf(),re.if((0,O._)`${Ce} !== undefined`,()=>{re.assign(M,Ce),te(se,Ce)});function ze(Ge){switch(Ge){case"string":re.elseIf((0,O._)`${Ne} == "number" || ${Ne} == "boolean"`).assign(Ce,(0,O._)`"" + ${M}`).elseIf((0,O._)`${M} === null`).assign(Ce,(0,O._)`""`);return;case"number":re.elseIf((0,O._)`${Ne} == "boolean" || ${M} === null
              || (${Ne} == "string" && ${M} && ${M} == +${M})`).assign(Ce,(0,O._)`+${M}`);return;case"integer":re.elseIf((0,O._)`${Ne} === "boolean" || ${M} === null
              || (${Ne} === "string" && ${M} && ${M} == +${M} && !(${M} % 1))`).assign(Ce,(0,O._)`+${M}`);return;case"boolean":re.elseIf((0,O._)`${M} === "false" || ${M} === 0 || ${M} === null`).assign(Ce,!1).elseIf((0,O._)`${M} === "true" || ${M} === 1`).assign(Ce,!0);return;case"null":re.elseIf((0,O._)`${M} === "" || ${M} === 0 || ${M} === false`),re.assign(Ce,null);return;case"array":re.elseIf((0,O._)`${Ne} === "string" || ${Ne} === "number"
              || ${Ne} === "boolean" || ${M} === null`).assign(Ce,(0,O._)`[${M}]`)}}}function te({gen:se,parentData:me,parentDataProperty:xe},re){se.if((0,O._)`${me} !== undefined`,()=>se.assign((0,O._)`${me}[${xe}]`,re))}function oe(se,me,xe,re=_.Correct){const M=re===_.Correct?O.operators.EQ:O.operators.NEQ;let Ee;switch(se){case"null":return(0,O._)`${me} ${M} null`;case"array":Ee=(0,O._)`Array.isArray(${me})`;break;case"object":Ee=(0,O._)`${me} && typeof ${me} == "object" && !Array.isArray(${me})`;break;case"integer":Ee=Ne((0,O._)`!(${me} % 1) && !isNaN(${me})`);break;case"number":Ee=Ne();break;default:return(0,O._)`typeof ${me} ${M} ${se}`}return re===_.Correct?Ee:(0,O.not)(Ee);function Ne(Ce=O.nil){return(0,O.and)((0,O._)`typeof ${me} == "number"`,Ce,xe?(0,O._)`isFinite(${me})`:O.nil)}}S.checkDataType=oe;function ye(se,me,xe,re){if(se.length===1)return oe(se[0],me,xe,re);let M;const Ee=(0,D.toHash)(se);if(Ee.array&&Ee.object){const Ne=(0,O._)`typeof ${me} != "object"`;M=Ee.null?Ne:(0,O._)`!${me} || ${Ne}`,delete Ee.null,delete Ee.array,delete Ee.object}else M=O.nil;Ee.number&&delete Ee.integer;for(const Ne in Ee)M=(0,O.and)(M,oe(Ne,me,xe,re));return M}S.checkDataTypes=ye;const F={message:({schema:se})=>`must be ${se}`,params:({schema:se,schemaValue:me})=>typeof se=="string"?(0,O._)`{type: ${se}}`:(0,O._)`{type: ${me}}`};function Y(se){const me=ve(se);(0,R.reportError)(me,F)}S.reportTypeError=Y;function ve(se){const{gen:me,data:xe,schema:re}=se,M=(0,D.schemaRefOrVal)(se,re,"type");return{gen:me,keyword:"type",data:xe,schema:re.type,schemaCode:M,schemaValue:M,parentSchema:re,params:{},it:se}}},6549:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.assignDefaults=void 0;const o=l(45117),m=l(79812);function R(D,_){const{properties:j,items:$}=D.schema;if(_==="object"&&j)for(const I in j)O(D,I,j[I].default);else _==="array"&&Array.isArray($)&&$.forEach((I,J)=>O(D,J,I.default))}S.assignDefaults=R;function O(D,_,j){const{gen:$,compositeRule:I,data:J,opts:z}=D;if(j===void 0)return;const ee=(0,o._)`${J}${(0,o.getProperty)(_)}`;if(I){(0,m.checkStrictMode)(D,`default is ignored for: ${ee}`);return}let te=(0,o._)`${ee} === undefined`;z.useDefaults==="empty"&&(te=(0,o._)`${te} || ${ee} === null || ${ee} === ""`),$.if(te,(0,o._)`${ee} = ${(0,o.stringify)(j)}`)}},53970:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getData=S.KeywordCxt=S.validateFunctionCode=void 0;const o=l(87929),m=l(51549),R=l(15149),O=l(51549),D=l(6549),_=l(87896),j=l(94929),$=l(45117),I=l(93239),J=l(40071),z=l(79812),ee=l(19606);function te(Z){if(re(Z)&&(Ee(Z),xe(Z))){Y(Z);return}oe(Z,()=>(0,o.topBoolOrEmptySchema)(Z))}S.validateFunctionCode=te;function oe({gen:Z,validateName:Q,schema:ne,schemaEnv:_e,opts:Xe},lt){Xe.code.es5?Z.func(Q,(0,$._)`${I.default.data}, ${I.default.valCxt}`,_e.$async,()=>{Z.code((0,$._)`"use strict"; ${se(ne,Xe)}`),F(Z,Xe),Z.code(lt)}):Z.func(Q,(0,$._)`${I.default.data}, ${ye(Xe)}`,_e.$async,()=>Z.code(se(ne,Xe)).code(lt))}function ye(Z){return(0,$._)`{${I.default.instancePath}="", ${I.default.parentData}, ${I.default.parentDataProperty}, ${I.default.rootData}=${I.default.data}${Z.dynamicRef?(0,$._)`, ${I.default.dynamicAnchors}={}`:$.nil}}={}`}function F(Z,Q){Z.if(I.default.valCxt,()=>{Z.var(I.default.instancePath,(0,$._)`${I.default.valCxt}.${I.default.instancePath}`),Z.var(I.default.parentData,(0,$._)`${I.default.valCxt}.${I.default.parentData}`),Z.var(I.default.parentDataProperty,(0,$._)`${I.default.valCxt}.${I.default.parentDataProperty}`),Z.var(I.default.rootData,(0,$._)`${I.default.valCxt}.${I.default.rootData}`),Q.dynamicRef&&Z.var(I.default.dynamicAnchors,(0,$._)`${I.default.valCxt}.${I.default.dynamicAnchors}`)},()=>{Z.var(I.default.instancePath,(0,$._)`""`),Z.var(I.default.parentData,(0,$._)`undefined`),Z.var(I.default.parentDataProperty,(0,$._)`undefined`),Z.var(I.default.rootData,I.default.data),Q.dynamicRef&&Z.var(I.default.dynamicAnchors,(0,$._)`{}`)})}function Y(Z){const{schema:Q,opts:ne,gen:_e}=Z;oe(Z,()=>{ne.$comment&&Q.$comment&&st(Z),ze(Z),_e.let(I.default.vErrors,null),_e.let(I.default.errors,0),ne.unevaluated&&ve(Z),Ne(Z),Ye(Z)})}function ve(Z){const{gen:Q,validateName:ne}=Z;Z.evaluated=Q.const("evaluated",(0,$._)`${ne}.evaluated`),Q.if((0,$._)`${Z.evaluated}.dynamicProps`,()=>Q.assign((0,$._)`${Z.evaluated}.props`,(0,$._)`undefined`)),Q.if((0,$._)`${Z.evaluated}.dynamicItems`,()=>Q.assign((0,$._)`${Z.evaluated}.items`,(0,$._)`undefined`))}function se(Z,Q){const ne=typeof Z=="object"&&Z[Q.schemaId];return ne&&(Q.code.source||Q.code.process)?(0,$._)`/*# sourceURL=${ne} */`:$.nil}function me(Z,Q){if(re(Z)&&(Ee(Z),xe(Z))){M(Z,Q);return}(0,o.boolOrEmptySchema)(Z,Q)}function xe({schema:Z,self:Q}){if(typeof Z=="boolean")return!Z;for(const ne in Z)if(Q.RULES.all[ne])return!0;return!1}function re(Z){return typeof Z.schema!="boolean"}function M(Z,Q){const{schema:ne,gen:_e,opts:Xe}=Z;Xe.$comment&&ne.$comment&&st(Z),Ge(Z),ht(Z);const lt=_e.const("_errs",I.default.errors);Ne(Z,lt),_e.var(Q,(0,$._)`${lt} === ${I.default.errors}`)}function Ee(Z){(0,z.checkUnknownRules)(Z),Ce(Z)}function Ne(Z,Q){if(Z.opts.jtd)return rr(Z,[],!1,Q);const ne=(0,m.getSchemaTypes)(Z.schema),_e=(0,m.coerceAndCheckDataType)(Z,ne);rr(Z,ne,!_e,Q)}function Ce(Z){const{schema:Q,errSchemaPath:ne,opts:_e,self:Xe}=Z;Q.$ref&&_e.ignoreKeywordsWithRef&&(0,z.schemaHasRulesButRef)(Q,Xe.RULES)&&Xe.logger.warn(`$ref: keywords ignored in schema at path "${ne}"`)}function ze(Z){const{schema:Q,opts:ne}=Z;Q.default!==void 0&&ne.useDefaults&&ne.strictSchema&&(0,z.checkStrictMode)(Z,"default is ignored in the schema root")}function Ge(Z){const Q=Z.schema[Z.opts.schemaId];Q&&(Z.baseId=(0,J.resolveUrl)(Z.opts.uriResolver,Z.baseId,Q))}function ht(Z){if(Z.schema.$async&&!Z.schemaEnv.$async)throw new Error("async schema in sync schema")}function st({gen:Z,schemaEnv:Q,schema:ne,errSchemaPath:_e,opts:Xe}){const lt=ne.$comment;if(Xe.$comment===!0)Z.code((0,$._)`${I.default.self}.logger.log(${lt})`);else if(typeof Xe.$comment=="function"){const kt=(0,$.str)`${_e}/$comment`,Qt=Z.scopeValue("root",{ref:Q.root});Z.code((0,$._)`${I.default.self}.opts.$comment(${lt}, ${kt}, ${Qt}.schema)`)}}function Ye(Z){const{gen:Q,schemaEnv:ne,validateName:_e,ValidationError:Xe,opts:lt}=Z;ne.$async?Q.if((0,$._)`${I.default.errors} === 0`,()=>Q.return(I.default.data),()=>Q.throw((0,$._)`new ${Xe}(${I.default.vErrors})`)):(Q.assign((0,$._)`${_e}.errors`,I.default.vErrors),lt.unevaluated&&Et(Z),Q.return((0,$._)`${I.default.errors} === 0`))}function Et({gen:Z,evaluated:Q,props:ne,items:_e}){ne instanceof $.Name&&Z.assign((0,$._)`${Q}.props`,ne),_e instanceof $.Name&&Z.assign((0,$._)`${Q}.items`,_e)}function rr(Z,Q,ne,_e){const{gen:Xe,schema:lt,data:kt,allErrors:Qt,opts:Yt,self:Ht}=Z,{RULES:Xt}=Ht;if(lt.$ref&&(Yt.ignoreKeywordsWithRef||!(0,z.schemaHasRulesButRef)(lt,Xt))){Xe.block(()=>Vt(Z,"$ref",Xt.all.$ref.definition));return}Yt.jtd||Mt(Z,Q),Xe.block(()=>{for(const xt of Xt.rules)rt(xt);rt(Xt.post)});function rt(xt){(0,R.shouldUseGroup)(lt,xt)&&(xt.type?(Xe.if((0,O.checkDataType)(xt.type,kt,Yt.strictNumbers)),mt(Z,xt),Q.length===1&&Q[0]===xt.type&&ne&&(Xe.else(),(0,O.reportTypeError)(Z)),Xe.endIf()):mt(Z,xt),Qt||Xe.if((0,$._)`${I.default.errors} === ${_e||0}`))}}function mt(Z,Q){const{gen:ne,schema:_e,opts:{useDefaults:Xe}}=Z;Xe&&(0,D.assignDefaults)(Z,Q.type),ne.block(()=>{for(const lt of Q.rules)(0,R.shouldUseRule)(_e,lt)&&Vt(Z,lt.keyword,lt.definition,Q.type)})}function Mt(Z,Q){Z.schemaEnv.meta||!Z.opts.strictTypes||(gt(Z,Q),Z.opts.allowUnionTypes||Ze(Z,Q),bt(Z,Z.dataTypes))}function gt(Z,Q){if(Q.length){if(!Z.dataTypes.length){Z.dataTypes=Q;return}Q.forEach(ne=>{he(Z.dataTypes,ne)||ft(Z,`type "${ne}" not allowed by context "${Z.dataTypes.join(",")}"`)}),Ie(Z,Q)}}function Ze(Z,Q){Q.length>1&&!(Q.length===2&&Q.includes("null"))&&ft(Z,"use allowUnionTypes to allow union type keyword")}function bt(Z,Q){const ne=Z.self.RULES.all;for(const _e in ne){const Xe=ne[_e];if(typeof Xe=="object"&&(0,R.shouldUseRule)(Z.schema,Xe)){const{type:lt}=Xe.definition;lt.length&&!lt.some(kt=>et(Q,kt))&&ft(Z,`missing type "${lt.join(",")}" for keyword "${_e}"`)}}}function et(Z,Q){return Z.includes(Q)||Q==="number"&&Z.includes("integer")}function he(Z,Q){return Z.includes(Q)||Q==="integer"&&Z.includes("number")}function Ie(Z,Q){const ne=[];for(const _e of Z.dataTypes)he(Q,_e)?ne.push(_e):Q.includes("integer")&&_e==="number"&&ne.push("integer");Z.dataTypes=ne}function ft(Z,Q){const ne=Z.schemaEnv.baseId+Z.errSchemaPath;Q+=` at "${ne}" (strictTypes)`,(0,z.checkStrictMode)(Z,Q,Z.opts.strictTypes)}class _t{constructor(Q,ne,_e){if((0,_.validateKeywordUsage)(Q,ne,_e),this.gen=Q.gen,this.allErrors=Q.allErrors,this.keyword=_e,this.data=Q.data,this.schema=Q.schema[_e],this.$data=ne.$data&&Q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,z.schemaRefOrVal)(Q,this.schema,_e,this.$data),this.schemaType=ne.schemaType,this.parentSchema=Q.schema,this.params={},this.it=Q,this.def=ne,this.$data)this.schemaCode=Q.gen.const("vSchema",K(this.$data,Q));else if(this.schemaCode=this.schemaValue,!(0,_.validSchemaType)(this.schema,ne.schemaType,ne.allowUndefined))throw new Error(`${_e} value must be ${JSON.stringify(ne.schemaType)}`);("code"in ne?ne.trackErrors:ne.errors!==!1)&&(this.errsCount=Q.gen.const("_errs",I.default.errors))}result(Q,ne,_e){this.failResult((0,$.not)(Q),ne,_e)}failResult(Q,ne,_e){this.gen.if(Q),_e?_e():this.error(),ne?(this.gen.else(),ne(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Q,ne){this.failResult((0,$.not)(Q),void 0,ne)}fail(Q){if(Q===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(Q),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Q){if(!this.$data)return this.fail(Q);const{schemaCode:ne}=this;this.fail((0,$._)`${ne} !== undefined && (${(0,$.or)(this.invalid$data(),Q)})`)}error(Q,ne,_e){if(ne){this.setParams(ne),this._error(Q,_e),this.setParams({});return}this._error(Q,_e)}_error(Q,ne){(Q?ee.reportExtraError:ee.reportError)(this,this.def.error,ne)}$dataError(){(0,ee.reportError)(this,this.def.$dataError||ee.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ee.resetErrorsCount)(this.gen,this.errsCount)}ok(Q){this.allErrors||this.gen.if(Q)}setParams(Q,ne){ne?Object.assign(this.params,Q):this.params=Q}block$data(Q,ne,_e=$.nil){this.gen.block(()=>{this.check$data(Q,_e),ne()})}check$data(Q=$.nil,ne=$.nil){if(!this.$data)return;const{gen:_e,schemaCode:Xe,schemaType:lt,def:kt}=this;_e.if((0,$.or)((0,$._)`${Xe} === undefined`,ne)),Q!==$.nil&&_e.assign(Q,!0),(lt.length||kt.validateSchema)&&(_e.elseIf(this.invalid$data()),this.$dataError(),Q!==$.nil&&_e.assign(Q,!1)),_e.else()}invalid$data(){const{gen:Q,schemaCode:ne,schemaType:_e,def:Xe,it:lt}=this;return(0,$.or)(kt(),Qt());function kt(){if(_e.length){if(!(ne instanceof $.Name))throw new Error("ajv implementation error");const Yt=Array.isArray(_e)?_e:[_e];return(0,$._)`${(0,O.checkDataTypes)(Yt,ne,lt.opts.strictNumbers,O.DataType.Wrong)}`}return $.nil}function Qt(){if(Xe.validateSchema){const Yt=Q.scopeValue("validate$data",{ref:Xe.validateSchema});return(0,$._)`!${Yt}(${ne})`}return $.nil}}subschema(Q,ne){const _e=(0,j.getSubschema)(this.it,Q);(0,j.extendSubschemaData)(_e,this.it,Q),(0,j.extendSubschemaMode)(_e,Q);const Xe={...this.it,..._e,items:void 0,props:void 0};return me(Xe,ne),Xe}mergeEvaluated(Q,ne){const{it:_e,gen:Xe}=this;_e.opts.unevaluated&&(_e.props!==!0&&Q.props!==void 0&&(_e.props=z.mergeEvaluated.props(Xe,Q.props,_e.props,ne)),_e.items!==!0&&Q.items!==void 0&&(_e.items=z.mergeEvaluated.items(Xe,Q.items,_e.items,ne)))}mergeValidEvaluated(Q,ne){const{it:_e,gen:Xe}=this;if(_e.opts.unevaluated&&(_e.props!==!0||_e.items!==!0))return Xe.if(ne,()=>this.mergeEvaluated(Q,$.Name)),!0}}S.KeywordCxt=_t;function Vt(Z,Q,ne,_e){const Xe=new _t(Z,ne,Q);"code"in ne?ne.code(Xe,_e):Xe.$data&&ne.validate?(0,_.funcKeywordCode)(Xe,ne):"macro"in ne?(0,_.macroKeywordCode)(Xe,ne):(ne.compile||ne.validate)&&(0,_.funcKeywordCode)(Xe,ne)}const Cr=/^\/(?:[^~]|~0|~1)*$/,Ue=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function K(Z,{dataLevel:Q,dataNames:ne,dataPathArr:_e}){let Xe,lt;if(Z==="")return I.default.rootData;if(Z[0]==="/"){if(!Cr.test(Z))throw new Error(`Invalid JSON-pointer: ${Z}`);Xe=Z,lt=I.default.rootData}else{const Ht=Ue.exec(Z);if(!Ht)throw new Error(`Invalid JSON-pointer: ${Z}`);const Xt=+Ht[1];if(Xe=Ht[2],Xe==="#"){if(Xt>=Q)throw new Error(Yt("property/index",Xt));return _e[Q-Xt]}if(Xt>Q)throw new Error(Yt("data",Xt));if(lt=ne[Q-Xt],!Xe)return lt}let kt=lt;const Qt=Xe.split("/");for(const Ht of Qt)Ht&&(lt=(0,$._)`${lt}${(0,$.getProperty)((0,z.unescapeJsonPointer)(Ht))}`,kt=(0,$._)`${kt} && ${lt}`);return kt;function Yt(Ht,Xt){return`Cannot access ${Ht} ${Xt} levels up, current level is ${Q}`}}S.getData=K},87896:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.validateKeywordUsage=S.validSchemaType=S.funcKeywordCode=S.macroKeywordCode=void 0;const o=l(45117),m=l(93239),R=l(13898),O=l(19606);function D(te,oe){const{gen:ye,keyword:F,schema:Y,parentSchema:ve,it:se}=te,me=oe.macro.call(se.self,Y,ve,se),xe=J(ye,F,me);se.opts.validateSchema!==!1&&se.self.validateSchema(me,!0);const re=ye.name("valid");te.subschema({schema:me,schemaPath:o.nil,errSchemaPath:`${se.errSchemaPath}/${F}`,topSchemaRef:xe,compositeRule:!0},re),te.pass(re,()=>te.error(!0))}S.macroKeywordCode=D;function _(te,oe){var ye;const{gen:F,keyword:Y,schema:ve,parentSchema:se,$data:me,it:xe}=te;I(xe,oe);const re=!me&&oe.compile?oe.compile.call(xe.self,ve,se,xe):oe.validate,M=J(F,Y,re),Ee=F.let("valid");te.block$data(Ee,Ne),te.ok((ye=oe.valid)!==null&&ye!==void 0?ye:Ee);function Ne(){if(oe.errors===!1)Ge(),oe.modifying&&j(te),ht(()=>te.error());else{const st=oe.async?Ce():ze();oe.modifying&&j(te),ht(()=>$(te,st))}}function Ce(){const st=F.let("ruleErrs",null);return F.try(()=>Ge((0,o._)`await `),Ye=>F.assign(Ee,!1).if((0,o._)`${Ye} instanceof ${xe.ValidationError}`,()=>F.assign(st,(0,o._)`${Ye}.errors`),()=>F.throw(Ye))),st}function ze(){const st=(0,o._)`${M}.errors`;return F.assign(st,null),Ge(o.nil),st}function Ge(st=oe.async?(0,o._)`await `:o.nil){const Ye=xe.opts.passContext?m.default.this:m.default.self,Et=!("compile"in oe&&!me||oe.schema===!1);F.assign(Ee,(0,o._)`${st}${(0,R.callValidateCode)(te,M,Ye,Et)}`,oe.modifying)}function ht(st){var Ye;F.if((0,o.not)((Ye=oe.valid)!==null&&Ye!==void 0?Ye:Ee),st)}}S.funcKeywordCode=_;function j(te){const{gen:oe,data:ye,it:F}=te;oe.if(F.parentData,()=>oe.assign(ye,(0,o._)`${F.parentData}[${F.parentDataProperty}]`))}function $(te,oe){const{gen:ye}=te;ye.if((0,o._)`Array.isArray(${oe})`,()=>{ye.assign(m.default.vErrors,(0,o._)`${m.default.vErrors} === null ? ${oe} : ${m.default.vErrors}.concat(${oe})`).assign(m.default.errors,(0,o._)`${m.default.vErrors}.length`),(0,O.extendErrors)(te)},()=>te.error())}function I({schemaEnv:te},oe){if(oe.async&&!te.$async)throw new Error("async keyword in sync schema")}function J(te,oe,ye){if(ye===void 0)throw new Error(`keyword "${oe}" failed to compile`);return te.scopeValue("keyword",typeof ye=="function"?{ref:ye}:{ref:ye,code:(0,o.stringify)(ye)})}function z(te,oe,ye=!1){return!oe.length||oe.some(F=>F==="array"?Array.isArray(te):F==="object"?te&&typeof te=="object"&&!Array.isArray(te):typeof te==F||ye&&typeof te=="undefined")}S.validSchemaType=z;function ee({schema:te,opts:oe,self:ye,errSchemaPath:F},Y,ve){if(Array.isArray(Y.keyword)?!Y.keyword.includes(ve):Y.keyword!==ve)throw new Error("ajv implementation error");const se=Y.dependencies;if(se!=null&&se.some(me=>!Object.prototype.hasOwnProperty.call(te,me)))throw new Error(`parent schema must have dependencies of ${ve}: ${se.join(",")}`);if(Y.validateSchema&&!Y.validateSchema(te[ve])){const xe=`keyword "${ve}" value is invalid at path "${F}": `+ye.errorsText(Y.validateSchema.errors);if(oe.validateSchema==="log")ye.logger.error(xe);else throw new Error(xe)}}S.validateKeywordUsage=ee},94929:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.extendSubschemaMode=S.extendSubschemaData=S.getSubschema=void 0;const o=l(45117),m=l(79812);function R(_,{keyword:j,schemaProp:$,schema:I,schemaPath:J,errSchemaPath:z,topSchemaRef:ee}){if(j!==void 0&&I!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(j!==void 0){const te=_.schema[j];return $===void 0?{schema:te,schemaPath:(0,o._)`${_.schemaPath}${(0,o.getProperty)(j)}`,errSchemaPath:`${_.errSchemaPath}/${j}`}:{schema:te[$],schemaPath:(0,o._)`${_.schemaPath}${(0,o.getProperty)(j)}${(0,o.getProperty)($)}`,errSchemaPath:`${_.errSchemaPath}/${j}/${(0,m.escapeFragment)($)}`}}if(I!==void 0){if(J===void 0||z===void 0||ee===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:I,schemaPath:J,topSchemaRef:ee,errSchemaPath:z}}throw new Error('either "keyword" or "schema" must be passed')}S.getSubschema=R;function O(_,j,{dataProp:$,dataPropType:I,data:J,dataTypes:z,propertyName:ee}){if(J!==void 0&&$!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:te}=j;if($!==void 0){const{errorPath:ye,dataPathArr:F,opts:Y}=j,ve=te.let("data",(0,o._)`${j.data}${(0,o.getProperty)($)}`,!0);oe(ve),_.errorPath=(0,o.str)`${ye}${(0,m.getErrorPath)($,I,Y.jsPropertySyntax)}`,_.parentDataProperty=(0,o._)`${$}`,_.dataPathArr=[...F,_.parentDataProperty]}if(J!==void 0){const ye=J instanceof o.Name?J:te.let("data",J,!0);oe(ye),ee!==void 0&&(_.propertyName=ee)}z&&(_.dataTypes=z);function oe(ye){_.data=ye,_.dataLevel=j.dataLevel+1,_.dataTypes=[],j.definedProperties=new Set,_.parentData=j.data,_.dataNames=[...j.dataNames,ye]}}S.extendSubschemaData=O;function D(_,{jtdDiscriminator:j,jtdMetadata:$,compositeRule:I,createErrors:J,allErrors:z}){I!==void 0&&(_.compositeRule=I),J!==void 0&&(_.createErrors=J),z!==void 0&&(_.allErrors=z),_.jtdDiscriminator=j,_.jtdMetadata=$}S.extendSubschemaMode=D},29414:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CodeGen=S.Name=S.nil=S.stringify=S.str=S._=S.KeywordCxt=void 0;var o=l(53970);Object.defineProperty(S,"KeywordCxt",{enumerable:!0,get:function(){return o.KeywordCxt}});var m=l(45117);Object.defineProperty(S,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(S,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(S,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(S,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(S,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(S,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});const R=l(65282),O=l(97566),D=l(60968),_=l(19984),j=l(45117),$=l(40071),I=l(51549),J=l(79812),z=l(75758),ee=l(36651),te=(gt,Ze)=>new RegExp(gt,Ze);te.code="new RegExp";const oe=["removeAdditional","useDefaults","coerceTypes"],ye=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),F={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},ve=200;function se(gt){var Ze,bt,et,he,Ie,ft,_t,Vt,Cr,Ue,K,Z,Q,ne,_e,Xe,lt,kt,Qt,Yt,Ht,Xt,rt,xt,jt;const fr=gt.strict,Or=(Ze=gt.code)===null||Ze===void 0?void 0:Ze.optimize,xr=Or===!0||Or===void 0?1:Or||0,ar=(et=(bt=gt.code)===null||bt===void 0?void 0:bt.regExp)!==null&&et!==void 0?et:te,Rt=(he=gt.uriResolver)!==null&&he!==void 0?he:ee.default;return{strictSchema:(ft=(Ie=gt.strictSchema)!==null&&Ie!==void 0?Ie:fr)!==null&&ft!==void 0?ft:!0,strictNumbers:(Vt=(_t=gt.strictNumbers)!==null&&_t!==void 0?_t:fr)!==null&&Vt!==void 0?Vt:!0,strictTypes:(Ue=(Cr=gt.strictTypes)!==null&&Cr!==void 0?Cr:fr)!==null&&Ue!==void 0?Ue:"log",strictTuples:(Z=(K=gt.strictTuples)!==null&&K!==void 0?K:fr)!==null&&Z!==void 0?Z:"log",strictRequired:(ne=(Q=gt.strictRequired)!==null&&Q!==void 0?Q:fr)!==null&&ne!==void 0?ne:!1,code:gt.code?{...gt.code,optimize:xr,regExp:ar}:{optimize:xr,regExp:ar},loopRequired:(_e=gt.loopRequired)!==null&&_e!==void 0?_e:ve,loopEnum:(Xe=gt.loopEnum)!==null&&Xe!==void 0?Xe:ve,meta:(lt=gt.meta)!==null&&lt!==void 0?lt:!0,messages:(kt=gt.messages)!==null&&kt!==void 0?kt:!0,inlineRefs:(Qt=gt.inlineRefs)!==null&&Qt!==void 0?Qt:!0,schemaId:(Yt=gt.schemaId)!==null&&Yt!==void 0?Yt:"$id",addUsedSchema:(Ht=gt.addUsedSchema)!==null&&Ht!==void 0?Ht:!0,validateSchema:(Xt=gt.validateSchema)!==null&&Xt!==void 0?Xt:!0,validateFormats:(rt=gt.validateFormats)!==null&&rt!==void 0?rt:!0,unicodeRegExp:(xt=gt.unicodeRegExp)!==null&&xt!==void 0?xt:!0,int32range:(jt=gt.int32range)!==null&&jt!==void 0?jt:!0,uriResolver:Rt}}class me{constructor(Ze={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Ze=this.opts={...Ze,...se(Ze)};const{es5:bt,lines:et}=this.opts.code;this.scope=new j.ValueScope({scope:{},prefixes:ye,es5:bt,lines:et}),this.logger=Ge(Ze.logger);const he=Ze.validateFormats;Ze.validateFormats=!1,this.RULES=(0,D.getRules)(),xe.call(this,F,Ze,"NOT SUPPORTED"),xe.call(this,Y,Ze,"DEPRECATED","warn"),this._metaOpts=Ce.call(this),Ze.formats&&Ee.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Ze.keywords&&Ne.call(this,Ze.keywords),typeof Ze.meta=="object"&&this.addMetaSchema(Ze.meta),M.call(this),Ze.validateFormats=he}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Ze,meta:bt,schemaId:et}=this.opts;let he=z;et==="id"&&(he={...z},he.id=he.$id,delete he.$id),bt&&Ze&&this.addMetaSchema(he,he[et],!1)}defaultMeta(){const{meta:Ze,schemaId:bt}=this.opts;return this.opts.defaultMeta=typeof Ze=="object"?Ze[bt]||Ze:void 0}validate(Ze,bt){let et;if(typeof Ze=="string"){if(et=this.getSchema(Ze),!et)throw new Error(`no schema with key or ref "${Ze}"`)}else et=this.compile(Ze);const he=et(bt);return"$async"in et||(this.errors=et.errors),he}compile(Ze,bt){const et=this._addSchema(Ze,bt);return et.validate||this._compileSchemaEnv(et)}compileAsync(Ze,bt){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:et}=this.opts;return he.call(this,Ze,bt);async function he(Ue,K){await Ie.call(this,Ue.$schema);const Z=this._addSchema(Ue,K);return Z.validate||ft.call(this,Z)}async function Ie(Ue){Ue&&!this.getSchema(Ue)&&await he.call(this,{$ref:Ue},!0)}async function ft(Ue){try{return this._compileSchemaEnv(Ue)}catch(K){if(!(K instanceof O.default))throw K;return _t.call(this,K),await Vt.call(this,K.missingSchema),ft.call(this,Ue)}}function _t({missingSchema:Ue,missingRef:K}){if(this.refs[Ue])throw new Error(`AnySchema ${Ue} is loaded but ${K} cannot be resolved`)}async function Vt(Ue){const K=await Cr.call(this,Ue);this.refs[Ue]||await Ie.call(this,K.$schema),this.refs[Ue]||this.addSchema(K,Ue,bt)}async function Cr(Ue){const K=this._loading[Ue];if(K)return K;try{return await(this._loading[Ue]=et(Ue))}finally{delete this._loading[Ue]}}}addSchema(Ze,bt,et,he=this.opts.validateSchema){if(Array.isArray(Ze)){for(const ft of Ze)this.addSchema(ft,void 0,et,he);return this}let Ie;if(typeof Ze=="object"){const{schemaId:ft}=this.opts;if(Ie=Ze[ft],Ie!==void 0&&typeof Ie!="string")throw new Error(`schema ${ft} must be string`)}return bt=(0,$.normalizeId)(bt||Ie),this._checkUnique(bt),this.schemas[bt]=this._addSchema(Ze,et,bt,he,!0),this}addMetaSchema(Ze,bt,et=this.opts.validateSchema){return this.addSchema(Ze,bt,!0,et),this}validateSchema(Ze,bt){if(typeof Ze=="boolean")return!0;let et;if(et=Ze.$schema,et!==void 0&&typeof et!="string")throw new Error("$schema must be a string");if(et=et||this.opts.defaultMeta||this.defaultMeta(),!et)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const he=this.validate(et,Ze);if(!he&&bt){const Ie="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Ie);else throw new Error(Ie)}return he}getSchema(Ze){let bt;for(;typeof(bt=re.call(this,Ze))=="string";)Ze=bt;if(bt===void 0){const{schemaId:et}=this.opts,he=new _.SchemaEnv({schema:{},schemaId:et});if(bt=_.resolveSchema.call(this,he,Ze),!bt)return;this.refs[Ze]=bt}return bt.validate||this._compileSchemaEnv(bt)}removeSchema(Ze){if(Ze instanceof RegExp)return this._removeAllSchemas(this.schemas,Ze),this._removeAllSchemas(this.refs,Ze),this;switch(typeof Ze){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const bt=re.call(this,Ze);return typeof bt=="object"&&this._cache.delete(bt.schema),delete this.schemas[Ze],delete this.refs[Ze],this}case"object":{const bt=Ze;this._cache.delete(bt);let et=Ze[this.opts.schemaId];return et&&(et=(0,$.normalizeId)(et),delete this.schemas[et],delete this.refs[et]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Ze){for(const bt of Ze)this.addKeyword(bt);return this}addKeyword(Ze,bt){let et;if(typeof Ze=="string")et=Ze,typeof bt=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),bt.keyword=et);else if(typeof Ze=="object"&&bt===void 0){if(bt=Ze,et=bt.keyword,Array.isArray(et)&&!et.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(st.call(this,et,bt),!bt)return(0,J.eachItem)(et,Ie=>Ye.call(this,Ie)),this;rr.call(this,bt);const he={...bt,type:(0,I.getJSONTypes)(bt.type),schemaType:(0,I.getJSONTypes)(bt.schemaType)};return(0,J.eachItem)(et,he.type.length===0?Ie=>Ye.call(this,Ie,he):Ie=>he.type.forEach(ft=>Ye.call(this,Ie,he,ft))),this}getKeyword(Ze){const bt=this.RULES.all[Ze];return typeof bt=="object"?bt.definition:!!bt}removeKeyword(Ze){const{RULES:bt}=this;delete bt.keywords[Ze],delete bt.all[Ze];for(const et of bt.rules){const he=et.rules.findIndex(Ie=>Ie.keyword===Ze);he>=0&&et.rules.splice(he,1)}return this}addFormat(Ze,bt){return typeof bt=="string"&&(bt=new RegExp(bt)),this.formats[Ze]=bt,this}errorsText(Ze=this.errors,{separator:bt=", ",dataVar:et="data"}={}){return!Ze||Ze.length===0?"No errors":Ze.map(he=>`${et}${he.instancePath} ${he.message}`).reduce((he,Ie)=>he+bt+Ie)}$dataMetaSchema(Ze,bt){const et=this.RULES.all;Ze=JSON.parse(JSON.stringify(Ze));for(const he of bt){const Ie=he.split("/").slice(1);let ft=Ze;for(const _t of Ie)ft=ft[_t];for(const _t in et){const Vt=et[_t];if(typeof Vt!="object")continue;const{$data:Cr}=Vt.definition,Ue=ft[_t];Cr&&Ue&&(ft[_t]=Mt(Ue))}}return Ze}_removeAllSchemas(Ze,bt){for(const et in Ze){const he=Ze[et];(!bt||bt.test(et))&&(typeof he=="string"?delete Ze[et]:he&&!he.meta&&(this._cache.delete(he.schema),delete Ze[et]))}}_addSchema(Ze,bt,et,he=this.opts.validateSchema,Ie=this.opts.addUsedSchema){let ft;const{schemaId:_t}=this.opts;if(typeof Ze=="object")ft=Ze[_t];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Ze!="boolean")throw new Error("schema must be object or boolean")}let Vt=this._cache.get(Ze);if(Vt!==void 0)return Vt;et=(0,$.normalizeId)(ft||et);const Cr=$.getSchemaRefs.call(this,Ze,et);return Vt=new _.SchemaEnv({schema:Ze,schemaId:_t,meta:bt,baseId:et,localRefs:Cr}),this._cache.set(Vt.schema,Vt),Ie&&!et.startsWith("#")&&(et&&this._checkUnique(et),this.refs[et]=Vt),he&&this.validateSchema(Ze,!0),Vt}_checkUnique(Ze){if(this.schemas[Ze]||this.refs[Ze])throw new Error(`schema with key or id "${Ze}" already exists`)}_compileSchemaEnv(Ze){if(Ze.meta?this._compileMetaSchema(Ze):_.compileSchema.call(this,Ze),!Ze.validate)throw new Error("ajv implementation error");return Ze.validate}_compileMetaSchema(Ze){const bt=this.opts;this.opts=this._metaOpts;try{_.compileSchema.call(this,Ze)}finally{this.opts=bt}}}S.default=me,me.ValidationError=R.default,me.MissingRefError=O.default;function xe(gt,Ze,bt,et="error"){for(const he in gt){const Ie=he;Ie in Ze&&this.logger[et](`${bt}: option ${he}. ${gt[Ie]}`)}}function re(gt){return gt=(0,$.normalizeId)(gt),this.schemas[gt]||this.refs[gt]}function M(){const gt=this.opts.schemas;if(gt)if(Array.isArray(gt))this.addSchema(gt);else for(const Ze in gt)this.addSchema(gt[Ze],Ze)}function Ee(){for(const gt in this.opts.formats){const Ze=this.opts.formats[gt];Ze&&this.addFormat(gt,Ze)}}function Ne(gt){if(Array.isArray(gt)){this.addVocabulary(gt);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Ze in gt){const bt=gt[Ze];bt.keyword||(bt.keyword=Ze),this.addKeyword(bt)}}function Ce(){const gt={...this.opts};for(const Ze of oe)delete gt[Ze];return gt}const ze={log(){},warn(){},error(){}};function Ge(gt){if(gt===!1)return ze;if(gt===void 0)return console;if(gt.log&&gt.warn&&gt.error)return gt;throw new Error("logger must implement log, warn and error methods")}const ht=/^[a-z_$][a-z0-9_$:-]*$/i;function st(gt,Ze){const{RULES:bt}=this;if((0,J.eachItem)(gt,et=>{if(bt.keywords[et])throw new Error(`Keyword ${et} is already defined`);if(!ht.test(et))throw new Error(`Keyword ${et} has invalid name`)}),!!Ze&&Ze.$data&&!("code"in Ze||"validate"in Ze))throw new Error('$data keyword must have "code" or "validate" function')}function Ye(gt,Ze,bt){var et;const he=Ze==null?void 0:Ze.post;if(bt&&he)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Ie}=this;let ft=he?Ie.post:Ie.rules.find(({type:Vt})=>Vt===bt);if(ft||(ft={type:bt,rules:[]},Ie.rules.push(ft)),Ie.keywords[gt]=!0,!Ze)return;const _t={keyword:gt,definition:{...Ze,type:(0,I.getJSONTypes)(Ze.type),schemaType:(0,I.getJSONTypes)(Ze.schemaType)}};Ze.before?Et.call(this,ft,_t,Ze.before):ft.rules.push(_t),Ie.all[gt]=_t,(et=Ze.implements)===null||et===void 0||et.forEach(Vt=>this.addKeyword(Vt))}function Et(gt,Ze,bt){const et=gt.rules.findIndex(he=>he.keyword===bt);et>=0?gt.rules.splice(et,0,Ze):(gt.rules.push(Ze),this.logger.warn(`rule ${bt} is not defined`))}function rr(gt){let{metaSchema:Ze}=gt;Ze!==void 0&&(gt.$data&&this.opts.$data&&(Ze=Mt(Ze)),gt.validateSchema=this.compile(Ze,!0))}const mt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Mt(gt){return{anyOf:[gt,mt]}}},64629:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(69378);o.code='require("ajv/dist/runtime/equal").default',S.default=o},72496:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function l(o){const m=o.length;let R=0,O=0,D;for(;O<m;)R++,D=o.charCodeAt(O++),D>=55296&&D<=56319&&O<m&&(D=o.charCodeAt(O),(D&64512)===56320&&O++);return R}S.default=l,l.code='require("ajv/dist/runtime/ucs2length").default'},36651:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(12854);o.code='require("ajv/dist/runtime/uri").default',S.default=o},65282:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});class l extends Error{constructor(m){super("validation failed"),this.errors=m,this.ajv=this.validation=!0}}S.default=l},80663:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.validateAdditionalItems=void 0;const o=l(45117),m=l(79812),O={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:_}})=>(0,o.str)`must NOT have more than ${_} items`,params:({params:{len:_}})=>(0,o._)`{limit: ${_}}`},code(_){const{parentSchema:j,it:$}=_,{items:I}=j;if(!Array.isArray(I)){(0,m.checkStrictMode)($,'"additionalItems" is ignored when "items" is not an array of schemas');return}D(_,I)}};function D(_,j){const{gen:$,schema:I,data:J,keyword:z,it:ee}=_;ee.items=!0;const te=$.const("len",(0,o._)`${J}.length`);if(I===!1)_.setParams({len:j.length}),_.pass((0,o._)`${te} <= ${j.length}`);else if(typeof I=="object"&&!(0,m.alwaysValidSchema)(ee,I)){const ye=$.var("valid",(0,o._)`${te} <= ${j.length}`);$.if((0,o.not)(ye),()=>oe(ye)),_.ok(ye)}function oe(ye){$.forRange("i",j.length,te,F=>{_.subschema({keyword:z,dataProp:F,dataPropType:m.Type.Num},ye),ee.allErrors||$.if((0,o.not)(ye),()=>$.break())})}}S.validateAdditionalItems=D,S.default=O},36166:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(13898),m=l(45117),R=l(93239),O=l(79812),_={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:j})=>(0,m._)`{additionalProperty: ${j.additionalProperty}}`},code(j){const{gen:$,schema:I,parentSchema:J,data:z,errsCount:ee,it:te}=j;if(!ee)throw new Error("ajv implementation error");const{allErrors:oe,opts:ye}=te;if(te.props=!0,ye.removeAdditional!=="all"&&(0,O.alwaysValidSchema)(te,I))return;const F=(0,o.allSchemaProperties)(J.properties),Y=(0,o.allSchemaProperties)(J.patternProperties);ve(),j.ok((0,m._)`${ee} === ${R.default.errors}`);function ve(){$.forIn("key",z,M=>{!F.length&&!Y.length?xe(M):$.if(se(M),()=>xe(M))})}function se(M){let Ee;if(F.length>8){const Ne=(0,O.schemaRefOrVal)(te,J.properties,"properties");Ee=(0,o.isOwnProperty)($,Ne,M)}else F.length?Ee=(0,m.or)(...F.map(Ne=>(0,m._)`${M} === ${Ne}`)):Ee=m.nil;return Y.length&&(Ee=(0,m.or)(Ee,...Y.map(Ne=>(0,m._)`${(0,o.usePattern)(j,Ne)}.test(${M})`))),(0,m.not)(Ee)}function me(M){$.code((0,m._)`delete ${z}[${M}]`)}function xe(M){if(ye.removeAdditional==="all"||ye.removeAdditional&&I===!1){me(M);return}if(I===!1){j.setParams({additionalProperty:M}),j.error(),oe||$.break();return}if(typeof I=="object"&&!(0,O.alwaysValidSchema)(te,I)){const Ee=$.name("valid");ye.removeAdditional==="failing"?(re(M,Ee,!1),$.if((0,m.not)(Ee),()=>{j.reset(),me(M)})):(re(M,Ee),oe||$.if((0,m.not)(Ee),()=>$.break()))}}function re(M,Ee,Ne){const Ce={keyword:"additionalProperties",dataProp:M,dataPropType:O.Type.Str};Ne===!1&&Object.assign(Ce,{compositeRule:!0,createErrors:!1,allErrors:!1}),j.subschema(Ce,Ee)}}};S.default=_},2973:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(79812),m={keyword:"allOf",schemaType:"array",code(R){const{gen:O,schema:D,it:_}=R;if(!Array.isArray(D))throw new Error("ajv implementation error");const j=O.name("valid");D.forEach(($,I)=>{if((0,o.alwaysValidSchema)(_,$))return;const J=R.subschema({keyword:"allOf",schemaProp:I},j);R.ok(j),R.mergeEvaluated(J)})}};S.default=m},3067:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const m={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:l(13898).validateUnion,error:{message:"must match a schema in anyOf"}};S.default=m},53608:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=l(79812),O={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:D,max:_}})=>_===void 0?(0,o.str)`must contain at least ${D} valid item(s)`:(0,o.str)`must contain at least ${D} and no more than ${_} valid item(s)`,params:({params:{min:D,max:_}})=>_===void 0?(0,o._)`{minContains: ${D}}`:(0,o._)`{minContains: ${D}, maxContains: ${_}}`},code(D){const{gen:_,schema:j,parentSchema:$,data:I,it:J}=D;let z,ee;const{minContains:te,maxContains:oe}=$;J.opts.next?(z=te===void 0?1:te,ee=oe):z=1;const ye=_.const("len",(0,o._)`${I}.length`);if(D.setParams({min:z,max:ee}),ee===void 0&&z===0){(0,m.checkStrictMode)(J,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(ee!==void 0&&z>ee){(0,m.checkStrictMode)(J,'"minContains" > "maxContains" is always invalid'),D.fail();return}if((0,m.alwaysValidSchema)(J,j)){let me=(0,o._)`${ye} >= ${z}`;ee!==void 0&&(me=(0,o._)`${me} && ${ye} <= ${ee}`),D.pass(me);return}J.items=!0;const F=_.name("valid");ee===void 0&&z===1?ve(F,()=>_.if(F,()=>_.break())):z===0?(_.let(F,!0),ee!==void 0&&_.if((0,o._)`${I}.length > 0`,Y)):(_.let(F,!1),Y()),D.result(F,()=>D.reset());function Y(){const me=_.name("_valid"),xe=_.let("count",0);ve(me,()=>_.if(me,()=>se(xe)))}function ve(me,xe){_.forRange("i",0,ye,re=>{D.subschema({keyword:"contains",dataProp:re,dataPropType:m.Type.Num,compositeRule:!0},me),xe()})}function se(me){_.code((0,o._)`${me}++`),ee===void 0?_.if((0,o._)`${me} >= ${z}`,()=>_.assign(F,!0).break()):(_.if((0,o._)`${me} > ${ee}`,()=>_.assign(F,!1).break()),z===1?_.assign(F,!0):_.if((0,o._)`${me} >= ${z}`,()=>_.assign(F,!0)))}}};S.default=O},96859:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.validateSchemaDeps=S.validatePropertyDeps=S.error=void 0;const o=l(45117),m=l(79812),R=l(13898);S.error={message:({params:{property:$,depsCount:I,deps:J}})=>{const z=I===1?"property":"properties";return(0,o.str)`must have ${z} ${J} when property ${$} is present`},params:({params:{property:$,depsCount:I,deps:J,missingProperty:z}})=>(0,o._)`{property: ${$},
    missingProperty: ${z},
    depsCount: ${I},
    deps: ${J}}`};const O={keyword:"dependencies",type:"object",schemaType:"object",error:S.error,code($){const[I,J]=D($);_($,I),j($,J)}};function D({schema:$}){const I={},J={};for(const z in $){if(z==="__proto__")continue;const ee=Array.isArray($[z])?I:J;ee[z]=$[z]}return[I,J]}function _($,I=$.schema){const{gen:J,data:z,it:ee}=$;if(Object.keys(I).length===0)return;const te=J.let("missing");for(const oe in I){const ye=I[oe];if(ye.length===0)continue;const F=(0,R.propertyInData)(J,z,oe,ee.opts.ownProperties);$.setParams({property:oe,depsCount:ye.length,deps:ye.join(", ")}),ee.allErrors?J.if(F,()=>{for(const Y of ye)(0,R.checkReportMissingProp)($,Y)}):(J.if((0,o._)`${F} && (${(0,R.checkMissingProp)($,ye,te)})`),(0,R.reportMissingProp)($,te),J.else())}}S.validatePropertyDeps=_;function j($,I=$.schema){const{gen:J,data:z,keyword:ee,it:te}=$,oe=J.name("valid");for(const ye in I)(0,m.alwaysValidSchema)(te,I[ye])||(J.if((0,R.propertyInData)(J,z,ye,te.opts.ownProperties),()=>{const F=$.subschema({keyword:ee,schemaProp:ye},oe);$.mergeValidEvaluated(F,oe)},()=>J.var(oe,!0)),$.ok(oe))}S.validateSchemaDeps=j,S.default=O},91569:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=l(79812),O={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:_})=>(0,o.str)`must match "${_.ifClause}" schema`,params:({params:_})=>(0,o._)`{failingKeyword: ${_.ifClause}}`},code(_){const{gen:j,parentSchema:$,it:I}=_;$.then===void 0&&$.else===void 0&&(0,m.checkStrictMode)(I,'"if" without "then" and "else" is ignored');const J=D(I,"then"),z=D(I,"else");if(!J&&!z)return;const ee=j.let("valid",!0),te=j.name("_valid");if(oe(),_.reset(),J&&z){const F=j.let("ifClause");_.setParams({ifClause:F}),j.if(te,ye("then",F),ye("else",F))}else J?j.if(te,ye("then")):j.if((0,o.not)(te),ye("else"));_.pass(ee,()=>_.error(!0));function oe(){const F=_.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},te);_.mergeEvaluated(F)}function ye(F,Y){return()=>{const ve=_.subschema({keyword:F},te);j.assign(ee,te),_.mergeValidEvaluated(ve,ee),Y?j.assign(Y,(0,o._)`${F}`):_.setParams({ifClause:F})}}}};function D(_,j){const $=_.schema[j];return $!==void 0&&!(0,m.alwaysValidSchema)(_,$)}S.default=O},59708:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(80663),m=l(85490),R=l(22858),O=l(45610),D=l(53608),_=l(96859),j=l(17366),$=l(36166),I=l(34983),J=l(34783),z=l(63464),ee=l(3067),te=l(89338),oe=l(2973),ye=l(91569),F=l(7303);function Y(ve=!1){const se=[z.default,ee.default,te.default,oe.default,ye.default,F.default,j.default,$.default,_.default,I.default,J.default];return ve?se.push(m.default,O.default):se.push(o.default,R.default),se.push(D.default),se}S.default=Y},22858:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.validateTuple=void 0;const o=l(45117),m=l(79812),R=l(13898),O={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(_){const{schema:j,it:$}=_;if(Array.isArray(j))return D(_,"additionalItems",j);$.items=!0,!(0,m.alwaysValidSchema)($,j)&&_.ok((0,R.validateArray)(_))}};function D(_,j,$=_.schema){const{gen:I,parentSchema:J,data:z,keyword:ee,it:te}=_;F(J),te.opts.unevaluated&&$.length&&te.items!==!0&&(te.items=m.mergeEvaluated.items(I,$.length,te.items));const oe=I.name("valid"),ye=I.const("len",(0,o._)`${z}.length`);$.forEach((Y,ve)=>{(0,m.alwaysValidSchema)(te,Y)||(I.if((0,o._)`${ye} > ${ve}`,()=>_.subschema({keyword:ee,schemaProp:ve,dataProp:ve},oe)),_.ok(oe))});function F(Y){const{opts:ve,errSchemaPath:se}=te,me=$.length,xe=me===Y.minItems&&(me===Y.maxItems||Y[j]===!1);if(ve.strictTuples&&!xe){const re=`"${ee}" is ${me}-tuple, but minItems or maxItems/${j} are not specified or different at path "${se}"`;(0,m.checkStrictMode)(te,re,ve.strictTuples)}}}S.validateTuple=D,S.default=O},45610:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=l(79812),R=l(13898),O=l(80663),_={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:j}})=>(0,o.str)`must NOT have more than ${j} items`,params:({params:{len:j}})=>(0,o._)`{limit: ${j}}`},code(j){const{schema:$,parentSchema:I,it:J}=j,{prefixItems:z}=I;J.items=!0,!(0,m.alwaysValidSchema)(J,$)&&(z?(0,O.validateAdditionalItems)(j,z):j.ok((0,R.validateArray)(j)))}};S.default=_},63464:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(79812),m={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(R){const{gen:O,schema:D,it:_}=R;if((0,o.alwaysValidSchema)(_,D)){R.fail();return}const j=O.name("valid");R.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},j),R.failResult(j,()=>R.reset(),()=>R.error())},error:{message:"must NOT be valid"}};S.default=m},89338:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=l(79812),O={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:D})=>(0,o._)`{passingSchemas: ${D.passing}}`},code(D){const{gen:_,schema:j,parentSchema:$,it:I}=D;if(!Array.isArray(j))throw new Error("ajv implementation error");if(I.opts.discriminator&&$.discriminator)return;const J=j,z=_.let("valid",!1),ee=_.let("passing",null),te=_.name("_valid");D.setParams({passing:ee}),_.block(oe),D.result(z,()=>D.reset(),()=>D.error(!0));function oe(){J.forEach((ye,F)=>{let Y;(0,m.alwaysValidSchema)(I,ye)?_.var(te,!0):Y=D.subschema({keyword:"oneOf",schemaProp:F,compositeRule:!0},te),F>0&&_.if((0,o._)`${te} && ${z}`).assign(z,!1).assign(ee,(0,o._)`[${ee}, ${F}]`).else(),_.if(te,()=>{_.assign(z,!0),_.assign(ee,F),Y&&D.mergeEvaluated(Y,o.Name)})})}}};S.default=O},34783:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(13898),m=l(45117),R=l(79812),O=l(79812),D={keyword:"patternProperties",type:"object",schemaType:"object",code(_){const{gen:j,schema:$,data:I,parentSchema:J,it:z}=_,{opts:ee}=z,te=(0,o.allSchemaProperties)($),oe=te.filter(xe=>(0,R.alwaysValidSchema)(z,$[xe]));if(te.length===0||oe.length===te.length&&(!z.opts.unevaluated||z.props===!0))return;const ye=ee.strictSchema&&!ee.allowMatchingProperties&&J.properties,F=j.name("valid");z.props!==!0&&!(z.props instanceof m.Name)&&(z.props=(0,O.evaluatedPropsToName)(j,z.props));const{props:Y}=z;ve();function ve(){for(const xe of te)ye&&se(xe),z.allErrors?me(xe):(j.var(F,!0),me(xe),j.if(F))}function se(xe){for(const re in ye)new RegExp(xe).test(re)&&(0,R.checkStrictMode)(z,`property ${re} matches pattern ${xe} (use allowMatchingProperties)`)}function me(xe){j.forIn("key",I,re=>{j.if((0,m._)`${(0,o.usePattern)(_,xe)}.test(${re})`,()=>{const M=oe.includes(xe);M||_.subschema({keyword:"patternProperties",schemaProp:xe,dataProp:re,dataPropType:O.Type.Str},F),z.opts.unevaluated&&Y!==!0?j.assign((0,m._)`${Y}[${re}]`,!0):!M&&!z.allErrors&&j.if((0,m.not)(F),()=>j.break())})})}}};S.default=D},85490:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(22858),m={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:R=>(0,o.validateTuple)(R,"items")};S.default=m},34983:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(53970),m=l(13898),R=l(79812),O=l(36166),D={keyword:"properties",type:"object",schemaType:"object",code(_){const{gen:j,schema:$,parentSchema:I,data:J,it:z}=_;z.opts.removeAdditional==="all"&&I.additionalProperties===void 0&&O.default.code(new o.KeywordCxt(z,O.default,"additionalProperties"));const ee=(0,m.allSchemaProperties)($);for(const Y of ee)z.definedProperties.add(Y);z.opts.unevaluated&&ee.length&&z.props!==!0&&(z.props=R.mergeEvaluated.props(j,(0,R.toHash)(ee),z.props));const te=ee.filter(Y=>!(0,R.alwaysValidSchema)(z,$[Y]));if(te.length===0)return;const oe=j.name("valid");for(const Y of te)ye(Y)?F(Y):(j.if((0,m.propertyInData)(j,J,Y,z.opts.ownProperties)),F(Y),z.allErrors||j.else().var(oe,!0),j.endIf()),_.it.definedProperties.add(Y),_.ok(oe);function ye(Y){return z.opts.useDefaults&&!z.compositeRule&&$[Y].default!==void 0}function F(Y){_.subschema({keyword:"properties",schemaProp:Y,dataProp:Y},oe)}}};S.default=D},17366:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=l(79812),O={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:D})=>(0,o._)`{propertyName: ${D.propertyName}}`},code(D){const{gen:_,schema:j,data:$,it:I}=D;if((0,m.alwaysValidSchema)(I,j))return;const J=_.name("valid");_.forIn("key",$,z=>{D.setParams({propertyName:z}),D.subschema({keyword:"propertyNames",data:z,dataTypes:["string"],propertyName:z,compositeRule:!0},J),_.if((0,o.not)(J),()=>{D.error(!0),I.allErrors||_.break()})}),D.ok(J)}};S.default=O},7303:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(79812),m={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:R,parentSchema:O,it:D}){O.if===void 0&&(0,o.checkStrictMode)(D,`"${R}" without "if" is ignored`)}};S.default=m},13898:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.validateUnion=S.validateArray=S.usePattern=S.callValidateCode=S.schemaProperties=S.allSchemaProperties=S.noPropertyInData=S.propertyInData=S.isOwnProperty=S.hasPropFunc=S.reportMissingProp=S.checkMissingProp=S.checkReportMissingProp=void 0;const o=l(45117),m=l(79812),R=l(93239),O=l(79812);function D(se,me){const{gen:xe,data:re,it:M}=se;xe.if(z(xe,re,me,M.opts.ownProperties),()=>{se.setParams({missingProperty:(0,o._)`${me}`},!0),se.error()})}S.checkReportMissingProp=D;function _({gen:se,data:me,it:{opts:xe}},re,M){return(0,o.or)(...re.map(Ee=>(0,o.and)(z(se,me,Ee,xe.ownProperties),(0,o._)`${M} = ${Ee}`)))}S.checkMissingProp=_;function j(se,me){se.setParams({missingProperty:me},!0),se.error()}S.reportMissingProp=j;function $(se){return se.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,o._)`Object.prototype.hasOwnProperty`})}S.hasPropFunc=$;function I(se,me,xe){return(0,o._)`${$(se)}.call(${me}, ${xe})`}S.isOwnProperty=I;function J(se,me,xe,re){const M=(0,o._)`${me}${(0,o.getProperty)(xe)} !== undefined`;return re?(0,o._)`${M} && ${I(se,me,xe)}`:M}S.propertyInData=J;function z(se,me,xe,re){const M=(0,o._)`${me}${(0,o.getProperty)(xe)} === undefined`;return re?(0,o.or)(M,(0,o.not)(I(se,me,xe))):M}S.noPropertyInData=z;function ee(se){return se?Object.keys(se).filter(me=>me!=="__proto__"):[]}S.allSchemaProperties=ee;function te(se,me){return ee(me).filter(xe=>!(0,m.alwaysValidSchema)(se,me[xe]))}S.schemaProperties=te;function oe({schemaCode:se,data:me,it:{gen:xe,topSchemaRef:re,schemaPath:M,errorPath:Ee},it:Ne},Ce,ze,Ge){const ht=Ge?(0,o._)`${se}, ${me}, ${re}${M}`:me,st=[[R.default.instancePath,(0,o.strConcat)(R.default.instancePath,Ee)],[R.default.parentData,Ne.parentData],[R.default.parentDataProperty,Ne.parentDataProperty],[R.default.rootData,R.default.rootData]];Ne.opts.dynamicRef&&st.push([R.default.dynamicAnchors,R.default.dynamicAnchors]);const Ye=(0,o._)`${ht}, ${xe.object(...st)}`;return ze!==o.nil?(0,o._)`${Ce}.call(${ze}, ${Ye})`:(0,o._)`${Ce}(${Ye})`}S.callValidateCode=oe;const ye=(0,o._)`new RegExp`;function F({gen:se,it:{opts:me}},xe){const re=me.unicodeRegExp?"u":"",{regExp:M}=me.code,Ee=M(xe,re);return se.scopeValue("pattern",{key:Ee.toString(),ref:Ee,code:(0,o._)`${M.code==="new RegExp"?ye:(0,O.useFunc)(se,M)}(${xe}, ${re})`})}S.usePattern=F;function Y(se){const{gen:me,data:xe,keyword:re,it:M}=se,Ee=me.name("valid");if(M.allErrors){const Ce=me.let("valid",!0);return Ne(()=>me.assign(Ce,!1)),Ce}return me.var(Ee,!0),Ne(()=>me.break()),Ee;function Ne(Ce){const ze=me.const("len",(0,o._)`${xe}.length`);me.forRange("i",0,ze,Ge=>{se.subschema({keyword:re,dataProp:Ge,dataPropType:m.Type.Num},Ee),me.if((0,o.not)(Ee),Ce)})}}S.validateArray=Y;function ve(se){const{gen:me,schema:xe,keyword:re,it:M}=se;if(!Array.isArray(xe))throw new Error("ajv implementation error");if(xe.some(ze=>(0,m.alwaysValidSchema)(M,ze))&&!M.opts.unevaluated)return;const Ne=me.let("valid",!1),Ce=me.name("_valid");me.block(()=>xe.forEach((ze,Ge)=>{const ht=se.subschema({keyword:re,schemaProp:Ge,compositeRule:!0},Ce);me.assign(Ne,(0,o._)`${Ne} || ${Ce}`),se.mergeValidEvaluated(ht,Ce)||me.if((0,o.not)(Ne))})),se.result(Ne,()=>se.reset(),()=>se.error(!0))}S.validateUnion=ve},70076:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const l={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};S.default=l},90394:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(70076),m=l(77350),R=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",o.default,m.default];S.default=R},77350:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.callRef=S.getValidate=void 0;const o=l(97566),m=l(13898),R=l(45117),O=l(93239),D=l(19984),_=l(79812),j={keyword:"$ref",schemaType:"string",code(J){const{gen:z,schema:ee,it:te}=J,{baseId:oe,schemaEnv:ye,validateName:F,opts:Y,self:ve}=te,{root:se}=ye;if((ee==="#"||ee==="#/")&&oe===se.baseId)return xe();const me=D.resolveRef.call(ve,se,oe,ee);if(me===void 0)throw new o.default(te.opts.uriResolver,oe,ee);if(me instanceof D.SchemaEnv)return re(me);return M(me);function xe(){if(ye===se)return I(J,F,ye,ye.$async);const Ee=z.scopeValue("root",{ref:se});return I(J,(0,R._)`${Ee}.validate`,se,se.$async)}function re(Ee){const Ne=$(J,Ee);I(J,Ne,Ee,Ee.$async)}function M(Ee){const Ne=z.scopeValue("schema",Y.code.source===!0?{ref:Ee,code:(0,R.stringify)(Ee)}:{ref:Ee}),Ce=z.name("valid"),ze=J.subschema({schema:Ee,dataTypes:[],schemaPath:R.nil,topSchemaRef:Ne,errSchemaPath:ee},Ce);J.mergeEvaluated(ze),J.ok(Ce)}}};function $(J,z){const{gen:ee}=J;return z.validate?ee.scopeValue("validate",{ref:z.validate}):(0,R._)`${ee.scopeValue("wrapper",{ref:z})}.validate`}S.getValidate=$;function I(J,z,ee,te){const{gen:oe,it:ye}=J,{allErrors:F,schemaEnv:Y,opts:ve}=ye,se=ve.passContext?O.default.this:R.nil;te?me():xe();function me(){if(!Y.$async)throw new Error("async schema referenced by sync schema");const Ee=oe.let("valid");oe.try(()=>{oe.code((0,R._)`await ${(0,m.callValidateCode)(J,z,se)}`),M(z),F||oe.assign(Ee,!0)},Ne=>{oe.if((0,R._)`!(${Ne} instanceof ${ye.ValidationError})`,()=>oe.throw(Ne)),re(Ne),F||oe.assign(Ee,!1)}),J.ok(Ee)}function xe(){J.result((0,m.callValidateCode)(J,z,se),()=>M(z),()=>re(z))}function re(Ee){const Ne=(0,R._)`${Ee}.errors`;oe.assign(O.default.vErrors,(0,R._)`${O.default.vErrors} === null ? ${Ne} : ${O.default.vErrors}.concat(${Ne})`),oe.assign(O.default.errors,(0,R._)`${O.default.vErrors}.length`)}function M(Ee){var Ne;if(!ye.opts.unevaluated)return;const Ce=(Ne=ee==null?void 0:ee.validate)===null||Ne===void 0?void 0:Ne.evaluated;if(ye.props!==!0)if(Ce&&!Ce.dynamicProps)Ce.props!==void 0&&(ye.props=_.mergeEvaluated.props(oe,Ce.props,ye.props));else{const ze=oe.var("props",(0,R._)`${Ee}.evaluated.props`);ye.props=_.mergeEvaluated.props(oe,ze,ye.props,R.Name)}if(ye.items!==!0)if(Ce&&!Ce.dynamicItems)Ce.items!==void 0&&(ye.items=_.mergeEvaluated.items(oe,Ce.items,ye.items));else{const ze=oe.var("items",(0,R._)`${Ee}.evaluated.items`);ye.items=_.mergeEvaluated.items(oe,ze,ye.items,R.Name)}}}S.callRef=I,S.default=j},72360:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=l(41720),R=l(19984),O=l(79812),_={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:j,tagName:$}})=>j===m.DiscrError.Tag?`tag "${$}" must be string`:`value of tag "${$}" must be in oneOf`,params:({params:{discrError:j,tag:$,tagName:I}})=>(0,o._)`{error: ${j}, tag: ${I}, tagValue: ${$}}`},code(j){const{gen:$,data:I,schema:J,parentSchema:z,it:ee}=j,{oneOf:te}=z;if(!ee.opts.discriminator)throw new Error("discriminator: requires discriminator option");const oe=J.propertyName;if(typeof oe!="string")throw new Error("discriminator: requires propertyName");if(J.mapping)throw new Error("discriminator: mapping is not supported");if(!te)throw new Error("discriminator: requires oneOf keyword");const ye=$.let("valid",!1),F=$.const("tag",(0,o._)`${I}${(0,o.getProperty)(oe)}`);$.if((0,o._)`typeof ${F} == "string"`,()=>Y(),()=>j.error(!1,{discrError:m.DiscrError.Tag,tag:F,tagName:oe})),j.ok(ye);function Y(){const me=se();$.if(!1);for(const xe in me)$.elseIf((0,o._)`${F} === ${xe}`),$.assign(ye,ve(me[xe]));$.else(),j.error(!1,{discrError:m.DiscrError.Mapping,tag:F,tagName:oe}),$.endIf()}function ve(me){const xe=$.name("valid"),re=j.subschema({keyword:"oneOf",schemaProp:me},xe);return j.mergeEvaluated(re,o.Name),xe}function se(){var me;const xe={},re=Ee(z);let M=!0;for(let ze=0;ze<te.length;ze++){let Ge=te[ze];Ge!=null&&Ge.$ref&&!(0,O.schemaHasRulesButRef)(Ge,ee.self.RULES)&&(Ge=R.resolveRef.call(ee.self,ee.schemaEnv.root,ee.baseId,Ge==null?void 0:Ge.$ref),Ge instanceof R.SchemaEnv&&(Ge=Ge.schema));const ht=(me=Ge==null?void 0:Ge.properties)===null||me===void 0?void 0:me[oe];if(typeof ht!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${oe}"`);M=M&&(re||Ee(Ge)),Ne(ht,ze)}if(!M)throw new Error(`discriminator: "${oe}" must be required`);return xe;function Ee({required:ze}){return Array.isArray(ze)&&ze.includes(oe)}function Ne(ze,Ge){if(ze.const)Ce(ze.const,Ge);else if(ze.enum)for(const ht of ze.enum)Ce(ht,Ge);else throw new Error(`discriminator: "properties/${oe}" must have "const" or "enum"`)}function Ce(ze,Ge){if(typeof ze!="string"||ze in xe)throw new Error(`discriminator: "${oe}" values must be unique strings`);xe[ze]=Ge}}}};S.default=_},41720:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.DiscrError=void 0;var l;(function(o){o.Tag="tag",o.Mapping="mapping"})(l=S.DiscrError||(S.DiscrError={}))},6797:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(90394),m=l(80794),R=l(59708),O=l(76481),D=l(43886),_=[o.default,m.default,(0,R.default)(),O.default,D.metadataVocabulary,D.contentVocabulary];S.default=_},9470:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),R={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:O})=>(0,o.str)`must match format "${O}"`,params:({schemaCode:O})=>(0,o._)`{format: ${O}}`},code(O,D){const{gen:_,data:j,$data:$,schema:I,schemaCode:J,it:z}=O,{opts:ee,errSchemaPath:te,schemaEnv:oe,self:ye}=z;if(!ee.validateFormats)return;$?F():Y();function F(){const ve=_.scopeValue("formats",{ref:ye.formats,code:ee.code.formats}),se=_.const("fDef",(0,o._)`${ve}[${J}]`),me=_.let("fType"),xe=_.let("format");_.if((0,o._)`typeof ${se} == "object" && !(${se} instanceof RegExp)`,()=>_.assign(me,(0,o._)`${se}.type || "string"`).assign(xe,(0,o._)`${se}.validate`),()=>_.assign(me,(0,o._)`"string"`).assign(xe,se)),O.fail$data((0,o.or)(re(),M()));function re(){return ee.strictSchema===!1?o.nil:(0,o._)`${J} && !${xe}`}function M(){const Ee=oe.$async?(0,o._)`(${se}.async ? await ${xe}(${j}) : ${xe}(${j}))`:(0,o._)`${xe}(${j})`,Ne=(0,o._)`(typeof ${xe} == "function" ? ${Ee} : ${xe}.test(${j}))`;return(0,o._)`${xe} && ${xe} !== true && ${me} === ${D} && !${Ne}`}}function Y(){const ve=ye.formats[I];if(!ve){re();return}if(ve===!0)return;const[se,me,xe]=M(ve);se===D&&O.pass(Ee());function re(){if(ee.strictSchema===!1){ye.logger.warn(Ne());return}throw new Error(Ne());function Ne(){return`unknown format "${I}" ignored in schema at path "${te}"`}}function M(Ne){const Ce=Ne instanceof RegExp?(0,o.regexpCode)(Ne):ee.code.formats?(0,o._)`${ee.code.formats}${(0,o.getProperty)(I)}`:void 0,ze=_.scopeValue("formats",{key:I,ref:Ne,code:Ce});return typeof Ne=="object"&&!(Ne instanceof RegExp)?[Ne.type||"string",Ne.validate,(0,o._)`${ze}.validate`]:["string",Ne,ze]}function Ee(){if(typeof ve=="object"&&!(ve instanceof RegExp)&&ve.async){if(!oe.$async)throw new Error("async format in sync schema");return(0,o._)`await ${xe}(${j})`}return typeof me=="function"?(0,o._)`${xe}(${j})`:(0,o._)`${xe}.test(${j})`}}}};S.default=R},76481:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const m=[l(9470).default];S.default=m},43886:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.contentVocabulary=S.metadataVocabulary=void 0,S.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],S.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},78917:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=l(79812),R=l(64629),D={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:_})=>(0,o._)`{allowedValue: ${_}}`},code(_){const{gen:j,data:$,$data:I,schemaCode:J,schema:z}=_;I||z&&typeof z=="object"?_.fail$data((0,o._)`!${(0,m.useFunc)(j,R.default)}(${$}, ${J})`):_.fail((0,o._)`${z} !== ${$}`)}};S.default=D},28328:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=l(79812),R=l(64629),D={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:_})=>(0,o._)`{allowedValues: ${_}}`},code(_){const{gen:j,data:$,$data:I,schema:J,schemaCode:z,it:ee}=_;if(!I&&J.length===0)throw new Error("enum must have non-empty array");const te=J.length>=ee.opts.loopEnum;let oe;const ye=()=>oe!=null?oe:oe=(0,m.useFunc)(j,R.default);let F;if(te||I)F=j.let("valid"),_.block$data(F,Y);else{if(!Array.isArray(J))throw new Error("ajv implementation error");const se=j.const("vSchema",z);F=(0,o.or)(...J.map((me,xe)=>ve(se,xe)))}_.pass(F);function Y(){j.assign(F,!1),j.forOf("v",z,se=>j.if((0,o._)`${ye()}(${$}, ${se})`,()=>j.assign(F,!0).break()))}function ve(se,me){const xe=J[me];return typeof xe=="object"&&xe!==null?(0,o._)`${ye()}(${$}, ${se}[${me}])`:(0,o._)`${$} === ${xe}`}}};S.default=D},80794:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(59135),m=l(71878),R=l(84008),O=l(98736),D=l(33789),_=l(86778),j=l(50524),$=l(44592),I=l(78917),J=l(28328),z=[o.default,m.default,R.default,O.default,D.default,_.default,j.default,$.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},I.default,J.default];S.default=z},50524:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),R={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:D}){const _=O==="maxItems"?"more":"fewer";return(0,o.str)`must NOT have ${_} than ${D} items`},params:({schemaCode:O})=>(0,o._)`{limit: ${O}}`},code(O){const{keyword:D,data:_,schemaCode:j}=O,$=D==="maxItems"?o.operators.GT:o.operators.LT;O.fail$data((0,o._)`${_}.length ${$} ${j}`)}};S.default=R},84008:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=l(79812),R=l(72496),D={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:_,schemaCode:j}){const $=_==="maxLength"?"more":"fewer";return(0,o.str)`must NOT have ${$} than ${j} characters`},params:({schemaCode:_})=>(0,o._)`{limit: ${_}}`},code(_){const{keyword:j,data:$,schemaCode:I,it:J}=_,z=j==="maxLength"?o.operators.GT:o.operators.LT,ee=J.opts.unicode===!1?(0,o._)`${$}.length`:(0,o._)`${(0,m.useFunc)(_.gen,R.default)}(${$})`;_.fail$data((0,o._)`${ee} ${z} ${I}`)}};S.default=D},59135:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),m=o.operators,R={maximum:{okStr:"<=",ok:m.LTE,fail:m.GT},minimum:{okStr:">=",ok:m.GTE,fail:m.LT},exclusiveMaximum:{okStr:"<",ok:m.LT,fail:m.GTE},exclusiveMinimum:{okStr:">",ok:m.GT,fail:m.LTE}},O={message:({keyword:_,schemaCode:j})=>(0,o.str)`must be ${R[_].okStr} ${j}`,params:({keyword:_,schemaCode:j})=>(0,o._)`{comparison: ${R[_].okStr}, limit: ${j}}`},D={keyword:Object.keys(R),type:"number",schemaType:"number",$data:!0,error:O,code(_){const{keyword:j,data:$,schemaCode:I}=_;_.fail$data((0,o._)`${$} ${R[j].fail} ${I} || isNaN(${$})`)}};S.default=D},33789:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),R={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:D}){const _=O==="maxProperties"?"more":"fewer";return(0,o.str)`must NOT have ${_} than ${D} properties`},params:({schemaCode:O})=>(0,o._)`{limit: ${O}}`},code(O){const{keyword:D,data:_,schemaCode:j}=O,$=D==="maxProperties"?o.operators.GT:o.operators.LT;O.fail$data((0,o._)`Object.keys(${_}).length ${$} ${j}`)}};S.default=R},71878:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(45117),R={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:O})=>(0,o.str)`must be multiple of ${O}`,params:({schemaCode:O})=>(0,o._)`{multipleOf: ${O}}`},code(O){const{gen:D,data:_,schemaCode:j,it:$}=O,I=$.opts.multipleOfPrecision,J=D.let("res"),z=I?(0,o._)`Math.abs(Math.round(${J}) - ${J}) > 1e-${I}`:(0,o._)`${J} !== parseInt(${J})`;O.fail$data((0,o._)`(${j} === 0 || (${J} = ${_}/${j}, ${z}))`)}};S.default=R},98736:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(13898),m=l(45117),O={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:D})=>(0,m.str)`must match pattern "${D}"`,params:({schemaCode:D})=>(0,m._)`{pattern: ${D}}`},code(D){const{data:_,$data:j,schema:$,schemaCode:I,it:J}=D,z=J.opts.unicodeRegExp?"u":"",ee=j?(0,m._)`(new RegExp(${I}, ${z}))`:(0,o.usePattern)(D,$);D.fail$data((0,m._)`!${ee}.test(${_})`)}};S.default=O},86778:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(13898),m=l(45117),R=l(79812),D={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:_}})=>(0,m.str)`must have required property '${_}'`,params:({params:{missingProperty:_}})=>(0,m._)`{missingProperty: ${_}}`},code(_){const{gen:j,schema:$,schemaCode:I,data:J,$data:z,it:ee}=_,{opts:te}=ee;if(!z&&$.length===0)return;const oe=$.length>=te.loopRequired;if(ee.allErrors?ye():F(),te.strictRequired){const se=_.parentSchema.properties,{definedProperties:me}=_.it;for(const xe of $)if((se==null?void 0:se[xe])===void 0&&!me.has(xe)){const re=ee.schemaEnv.baseId+ee.errSchemaPath,M=`required property "${xe}" is not defined at "${re}" (strictRequired)`;(0,R.checkStrictMode)(ee,M,ee.opts.strictRequired)}}function ye(){if(oe||z)_.block$data(m.nil,Y);else for(const se of $)(0,o.checkReportMissingProp)(_,se)}function F(){const se=j.let("missing");if(oe||z){const me=j.let("valid",!0);_.block$data(me,()=>ve(se,me)),_.ok(me)}else j.if((0,o.checkMissingProp)(_,$,se)),(0,o.reportMissingProp)(_,se),j.else()}function Y(){j.forOf("prop",I,se=>{_.setParams({missingProperty:se}),j.if((0,o.noPropertyInData)(j,J,se,te.ownProperties),()=>_.error())})}function ve(se,me){_.setParams({missingProperty:se}),j.forOf(se,I,()=>{j.assign(me,(0,o.propertyInData)(j,J,se,te.ownProperties)),j.if((0,m.not)(me),()=>{_.error(),j.break()})},m.nil)}}};S.default=D},44592:function(Te,S,l){"use strict";Object.defineProperty(S,"__esModule",{value:!0});const o=l(51549),m=l(45117),R=l(79812),O=l(64629),_={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:j,j:$}})=>(0,m.str)`must NOT have duplicate items (items ## ${$} and ${j} are identical)`,params:({params:{i:j,j:$}})=>(0,m._)`{i: ${j}, j: ${$}}`},code(j){const{gen:$,data:I,$data:J,schema:z,parentSchema:ee,schemaCode:te,it:oe}=j;if(!J&&!z)return;const ye=$.let("valid"),F=ee.items?(0,o.getSchemaTypes)(ee.items):[];j.block$data(ye,Y,(0,m._)`${te} === false`),j.ok(ye);function Y(){const xe=$.let("i",(0,m._)`${I}.length`),re=$.let("j");j.setParams({i:xe,j:re}),$.assign(ye,!0),$.if((0,m._)`${xe} > 1`,()=>(ve()?se:me)(xe,re))}function ve(){return F.length>0&&!F.some(xe=>xe==="object"||xe==="array")}function se(xe,re){const M=$.name("item"),Ee=(0,o.checkDataTypes)(F,M,oe.opts.strictNumbers,o.DataType.Wrong),Ne=$.const("indices",(0,m._)`{}`);$.for((0,m._)`;${xe}--;`,()=>{$.let(M,(0,m._)`${I}[${xe}]`),$.if(Ee,(0,m._)`continue`),F.length>1&&$.if((0,m._)`typeof ${M} == "string"`,(0,m._)`${M} += "_"`),$.if((0,m._)`typeof ${Ne}[${M}] == "number"`,()=>{$.assign(re,(0,m._)`${Ne}[${M}]`),j.error(),$.assign(ye,!1).break()}).code((0,m._)`${Ne}[${M}] = ${xe}`)})}function me(xe,re){const M=(0,R.useFunc)($,O.default),Ee=$.name("outer");$.label(Ee).for((0,m._)`;${xe}--;`,()=>$.for((0,m._)`${re} = ${xe}; ${re}--;`,()=>$.if((0,m._)`${M}(${I}[${xe}], ${I}[${re}])`,()=>{j.error(),$.assign(ye,!1).break(Ee)})))}}};S.default=_},67142:function(Te){(function(S,l){Te.exports=l()})(typeof self!="undefined"?self:this,()=>(()=>{"use strict";var S={d:(Ce,ze)=>{for(var Ge in ze)S.o(ze,Ge)&&!S.o(Ce,Ge)&&Object.defineProperty(Ce,Ge,{enumerable:!0,get:ze[Ge]})},o:(Ce,ze)=>Object.prototype.hasOwnProperty.call(Ce,ze),r:Ce=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ce,"__esModule",{value:!0})}},l={};function o(Ce){return Ce==="#"||Ce===""||Array.isArray(Ce)&&Ce.length===0||!1}S.r(l),S.d(l,{default:()=>Ne,get:()=>I,isRoot:()=>o,join:()=>M,remove:()=>ve,removeUndefinedItems:()=>Y,set:()=>oe,split:()=>$,splitLast:()=>Ee});const m=/~1/g,R=/~0/g,O=/\/+/g,D=/(^[#/]*|\/+$)/g;function _(Ce){return Ce.replace(m,"/").replace(R,"~")}function j(Ce){return _(decodeURIComponent(Ce))}function $(Ce){if(Ce==null||typeof Ce!="string"||o(Ce))return Array.isArray(Ce)?Ce:[];const ze=Ce.indexOf("#")>=0?j:_,Ge=(Ce=(Ce=Ce.replace(O,"/")).replace(D,"")).split("/");for(let ht=0,st=Ge.length;ht<st;ht+=1)Ge[ht]=ze(Ge[ht]);return Ge}function I(Ce,ze,Ge){if(ze==null||Ce==null)return Ge;if(o(ze))return Ce;const ht=J(Ce,$(ze));return ht===void 0?Ge:ht}function J(Ce,ze){const Ge=ze.shift();if(Ce!==void 0)return Ge!==void 0?J(Ce[Ge],ze):Ce}const z=/^\[.*\]$/,ee=/^\[(.+)\]$/;function te(Ce,ze){return Ce==="__proto__"||Ce=="constructor"&&ze.length>0&&ze[0]=="prototype"}function oe(Ce,ze,Ge){if(ze==null)return Ce;const ht=$(ze);if(ht.length===0)return Ce;Ce==null&&(Ce=z.test(ht[0])?[]:{});let st,Ye,Et=Ce;for(;ht.length>1;)st=ht.shift(),Ye=z.test(ht[0]),te(st,ht)||(Et=F(Et,st,Ye));return st=ht.pop(),ye(Et,st,Ge),Ce}function ye(Ce,ze,Ge){let ht;const st=ze.match(ee);ze==="[]"&&Array.isArray(Ce)?Ce.push(Ge):st?(ht=st.pop(),Ce[ht]=Ge):Ce[ze]=Ge}function F(Ce,ze,Ge){if(Ce[ze]!=null)return Ce[ze];const ht=Ge?[]:{};return ye(Ce,ze,ht),ht}function Y(Ce){let ze=0,Ge=0;for(;ze+Ge<Ce.length;)Ce[ze+Ge]===void 0&&(Ge+=1),Ce[ze]=Ce[ze+Ge],ze+=1;return Ce.length=Ce.length-Ge,Ce}function ve(Ce,ze,Ge){const ht=$(ze),st=ht.pop(),Ye=I(Ce,ht);return Ye&&delete Ye[st],Array.isArray(Ye)&&Ge!==!0&&Y(Ye),Ce}const se=/\/+/g,me=/~/g,xe=/\//g;function re(Ce,ze){if(Ce.length===0)return ze?"#":"";for(let Ge=0,ht=Ce.length;Ge<ht;Ge+=1)Ce[Ge]=Ce[Ge].replace(me,"~0").replace(xe,"~1"),ze&&(Ce[Ge]=encodeURIComponent(Ce[Ge]));return((ze?"#/":"/")+Ce.join("/")).replace(se,"/")}function M(Ce,...ze){const Ge=[];if(Array.isArray(Ce))return re(Ce,arguments[1]===!0);const ht=arguments[arguments.length-1],st=typeof ht=="boolean"?ht:Ce&&Ce[0]==="#";for(let Et=0,rr=arguments.length;Et<rr;Et+=1)Ge.push.apply(Ge,$(arguments[Et]));const Ye=[];for(let Et=0,rr=Ge.length;Et<rr;Et+=1)if(Ge[Et]===".."){if(Ye.length===0)return st?"#":"";Ye.pop()}else Ye.push(Ge[Et]);return re(Ye,st)}function Ee(Ce){const ze=$(Ce);if(ze.length===0)return typeof Ce=="string"&&Ce[0]==="#"?["#",ze[0]]:["",void 0];if(ze.length===1)return Ce[0]==="#"?["#",ze[0]]:["",ze[0]];const Ge=ze.pop();return[M(ze,Ce[0]==="#"),Ge]}const Ne={get:I,set:oe,remove:ve,join:M,split:$,splitLast:Ee,isRoot:o,removeUndefinedItems:Y};return l})())},2552:function(Te,S,l){"use strict";l.d(S,{ZP:function(){return Tl}});var o=l(7896),m=l(31461),R=l(2784),O=l(1727),D=l(65329),_=l(77120),j=l(21649);const $=f=>{let{state:n}=f,p=n.doc.lineAt(n.selection.main.from),b=Y(f.state,p.from);return b.line?J(f):b.block?F(f):!1};function I(f,n){return({state:p,dispatch:b})=>{if(p.readOnly)return!1;let P=f(n,p);return P?(b(p.update(P)),!0):!1}}const J=I(re,0),z=null,ee=null,te=I(xe,0),oe=null,ye=null,F=I((f,n)=>xe(f,n,me(n)),0);function Y(f,n){let p=f.languageDataAt("commentTokens",n);return p.length?p[0]:{}}const ve=50;function se(f,{open:n,close:p},b,P){let W=f.sliceDoc(b-ve,b),le=f.sliceDoc(P,P+ve),Ae=/\s*$/.exec(W)[0].length,$e=/^\s*/.exec(le)[0].length,yt=W.length-Ae;if(W.slice(yt-n.length,yt)==n&&le.slice($e,$e+p.length)==p)return{open:{pos:b-Ae,margin:Ae&&1},close:{pos:P+$e,margin:$e&&1}};let Tt,er;P-b<=2*ve?Tt=er=f.sliceDoc(b,P):(Tt=f.sliceDoc(b,b+ve),er=f.sliceDoc(P-ve,P));let Gr=/^\s*/.exec(Tt)[0].length,Nn=/\s*$/.exec(er)[0].length,Wi=er.length-Nn-p.length;return Tt.slice(Gr,Gr+n.length)==n&&er.slice(Wi,Wi+p.length)==p?{open:{pos:b+Gr+n.length,margin:/\s/.test(Tt.charAt(Gr+n.length))?1:0},close:{pos:P-Nn-p.length,margin:/\s/.test(er.charAt(Wi-1))?1:0}}:null}function me(f){let n=[];for(let p of f.selection.ranges){let b=f.doc.lineAt(p.from),P=p.to<=b.to?b:f.doc.lineAt(p.to),W=n.length-1;W>=0&&n[W].to>b.from?n[W].to=P.to:n.push({from:b.from+/^\s*/.exec(b.text)[0].length,to:P.to})}return n}function xe(f,n,p=n.selection.ranges){let b=p.map(W=>Y(n,W.from).block);if(!b.every(W=>W))return null;let P=p.map((W,le)=>se(n,b[le],W.from,W.to));if(f!=2&&!P.every(W=>W))return{changes:n.changes(p.map((W,le)=>P[le]?[]:[{from:W.from,insert:b[le].open+" "},{from:W.to,insert:" "+b[le].close}]))};if(f!=1&&P.some(W=>W)){let W=[];for(let le=0,Ae;le<P.length;le++)if(Ae=P[le]){let $e=b[le],{open:yt,close:Tt}=Ae;W.push({from:yt.pos-$e.open.length,to:yt.pos+yt.margin},{from:Tt.pos-Tt.margin,to:Tt.pos+$e.close.length})}return{changes:W}}return null}function re(f,n,p=n.selection.ranges){let b=[],P=-1;for(let{from:W,to:le}of p){let Ae=b.length,$e=1e9,yt=Y(n,W).line;if(yt){for(let Tt=W;Tt<=le;){let er=n.doc.lineAt(Tt);if(er.from>P&&(W==le||le>er.from)){P=er.from;let Gr=/^\s*/.exec(er.text)[0].length,Nn=Gr==er.length,Wi=er.text.slice(Gr,Gr+yt.length)==yt?Gr:-1;Gr<er.text.length&&Gr<$e&&($e=Gr),b.push({line:er,comment:Wi,token:yt,indent:Gr,empty:Nn,single:!1})}Tt=er.to+1}if($e<1e9)for(let Tt=Ae;Tt<b.length;Tt++)b[Tt].indent<b[Tt].line.text.length&&(b[Tt].indent=$e);b.length==Ae+1&&(b[Ae].single=!0)}}if(f!=2&&b.some(W=>W.comment<0&&(!W.empty||W.single))){let W=[];for(let{line:Ae,token:$e,indent:yt,empty:Tt,single:er}of b)(er||!Tt)&&W.push({from:Ae.from+yt,insert:$e+" "});let le=n.changes(W);return{changes:le,selection:n.selection.map(le,1)}}else if(f!=1&&b.some(W=>W.comment>=0)){let W=[];for(let{line:le,comment:Ae,token:$e}of b)if(Ae>=0){let yt=le.from+Ae,Tt=yt+$e.length;le.text[Tt-le.from]==" "&&Tt++,W.push({from:yt,to:Tt})}return{changes:W}}return null}const M=O.q6.define(),Ee=O.q6.define(),Ne=O.r$.define(),Ce=O.r$.define({combine(f){return(0,O.BO)(f,{minDepth:100,newGroupDelay:500,joinToEvent:(n,p)=>p},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(n,p)=>(b,P)=>n(b,P)||p(b,P)})}});function ze(f){let n=0;return f.iterChangedRanges((p,b)=>n=b),n}const Ge=O.QQ.define({create(){return _e.empty},update(f,n){let p=n.state.facet(Ce),b=n.annotation(M);if(b){let $e=n.docChanged?O.jT.single(ze(n.changes)):void 0,yt=et.fromTransaction(n,$e),Tt=b.side,er=Tt==0?f.undone:f.done;return yt?er=he(er,er.length,p.minDepth,yt):er=Ue(er,n.startState.selection),new _e(Tt==0?b.rest:er,Tt==0?er:b.rest)}let P=n.annotation(Ee);if((P=="full"||P=="before")&&(f=f.isolate()),n.annotation(O.YW.addToHistory)===!1)return n.changes.empty?f:f.addMapping(n.changes.desc);let W=et.fromTransaction(n),le=n.annotation(O.YW.time),Ae=n.annotation(O.YW.userEvent);return W?f=f.addChanges(W,le,Ae,p,n):n.selection&&(f=f.addSelection(n.startState.selection,le,Ae,p.newGroupDelay)),(P=="full"||P=="after")&&(f=f.isolate()),f},toJSON(f){return{done:f.done.map(n=>n.toJSON()),undone:f.undone.map(n=>n.toJSON())}},fromJSON(f){return new _e(f.done.map(et.fromJSON),f.undone.map(et.fromJSON))}});function ht(f={}){return[Ge,Ce.of(f),D.tk.domEventHandlers({beforeinput(n,p){let b=n.inputType=="historyUndo"?Et:n.inputType=="historyRedo"?rr:null;return b?(n.preventDefault(),b(p)):!1}})]}const st=null;function Ye(f,n){return function({state:p,dispatch:b}){if(!n&&p.readOnly)return!1;let P=p.field(Ge,!1);if(!P)return!1;let W=P.pop(f,p,n);return W?(b(W),!0):!1}}const Et=Ye(0,!1),rr=Ye(1,!1),mt=Ye(0,!0),Mt=Ye(1,!0);function gt(f){return function(n){let p=n.field(Ge,!1);if(!p)return 0;let b=f==0?p.done:p.undone;return b.length-(b.length&&!b[0].changes?1:0)}}const Ze=null,bt=null;class et{constructor(n,p,b,P,W){this.changes=n,this.effects=p,this.mapped=b,this.startSelection=P,this.selectionsAfter=W}setSelAfter(n){return new et(this.changes,this.effects,this.mapped,this.startSelection,n)}toJSON(){var n,p,b;return{changes:(n=this.changes)===null||n===void 0?void 0:n.toJSON(),mapped:(p=this.mapped)===null||p===void 0?void 0:p.toJSON(),startSelection:(b=this.startSelection)===null||b===void 0?void 0:b.toJSON(),selectionsAfter:this.selectionsAfter.map(P=>P.toJSON())}}static fromJSON(n){return new et(n.changes&&O.as.fromJSON(n.changes),[],n.mapped&&O.n0.fromJSON(n.mapped),n.startSelection&&O.jT.fromJSON(n.startSelection),n.selectionsAfter.map(O.jT.fromJSON))}static fromTransaction(n,p){let b=Vt;for(let P of n.startState.facet(Ne)){let W=P(n);W.length&&(b=b.concat(W))}return!b.length&&n.changes.empty?null:new et(n.changes.invert(n.startState.doc),b,void 0,p||n.startState.selection,Vt)}static selection(n){return new et(void 0,Vt,void 0,void 0,n)}}function he(f,n,p,b){let P=n+1>p+20?n-p-1:0,W=f.slice(P,n);return W.push(b),W}function Ie(f,n){let p=[],b=!1;return f.iterChangedRanges((P,W)=>p.push(P,W)),n.iterChangedRanges((P,W,le,Ae)=>{for(let $e=0;$e<p.length;){let yt=p[$e++],Tt=p[$e++];Ae>=yt&&le<=Tt&&(b=!0)}}),b}function ft(f,n){return f.ranges.length==n.ranges.length&&f.ranges.filter((p,b)=>p.empty!=n.ranges[b].empty).length===0}function _t(f,n){return f.length?n.length?f.concat(n):f:n}const Vt=[],Cr=200;function Ue(f,n){if(f.length){let p=f[f.length-1],b=p.selectionsAfter.slice(Math.max(0,p.selectionsAfter.length-Cr));return b.length&&b[b.length-1].eq(n)?f:(b.push(n),he(f,f.length-1,1e9,p.setSelAfter(b)))}else return[et.selection([n])]}function K(f){let n=f[f.length-1],p=f.slice();return p[f.length-1]=n.setSelAfter(n.selectionsAfter.slice(0,n.selectionsAfter.length-1)),p}function Z(f,n){if(!f.length)return f;let p=f.length,b=Vt;for(;p;){let P=Q(f[p-1],n,b);if(P.changes&&!P.changes.empty||P.effects.length){let W=f.slice(0,p);return W[p-1]=P,W}else n=P.mapped,p--,b=P.selectionsAfter}return b.length?[et.selection(b)]:Vt}function Q(f,n,p){let b=_t(f.selectionsAfter.length?f.selectionsAfter.map(Ae=>Ae.map(n)):Vt,p);if(!f.changes)return et.selection(b);let P=f.changes.map(n),W=n.mapDesc(f.changes,!0),le=f.mapped?f.mapped.composeDesc(W):W;return new et(P,O.Py.mapEffects(f.effects,n),le,f.startSelection.map(W),b)}const ne=/^(input\.type|delete)($|\.)/;class _e{constructor(n,p,b=0,P=void 0){this.done=n,this.undone=p,this.prevTime=b,this.prevUserEvent=P}isolate(){return this.prevTime?new _e(this.done,this.undone):this}addChanges(n,p,b,P,W){let le=this.done,Ae=le[le.length-1];return Ae&&Ae.changes&&!Ae.changes.empty&&n.changes&&(!b||ne.test(b))&&(!Ae.selectionsAfter.length&&p-this.prevTime<P.newGroupDelay&&P.joinToEvent(W,Ie(Ae.changes,n.changes))||b=="input.type.compose")?le=he(le,le.length-1,P.minDepth,new et(n.changes.compose(Ae.changes),_t(n.effects,Ae.effects),Ae.mapped,Ae.startSelection,Vt)):le=he(le,le.length,P.minDepth,n),new _e(le,Vt,p,b)}addSelection(n,p,b,P){let W=this.done.length?this.done[this.done.length-1].selectionsAfter:Vt;return W.length>0&&p-this.prevTime<P&&b==this.prevUserEvent&&b&&/^select($|\.)/.test(b)&&ft(W[W.length-1],n)?this:new _e(Ue(this.done,n),this.undone,p,b)}addMapping(n){return new _e(Z(this.done,n),Z(this.undone,n),this.prevTime,this.prevUserEvent)}pop(n,p,b){let P=n==0?this.done:this.undone;if(P.length==0)return null;let W=P[P.length-1];if(b&&W.selectionsAfter.length)return p.update({selection:W.selectionsAfter[W.selectionsAfter.length-1],annotations:M.of({side:n,rest:K(P)}),userEvent:n==0?"select.undo":"select.redo",scrollIntoView:!0});if(W.changes){let le=P.length==1?Vt:P.slice(0,P.length-1);return W.mapped&&(le=Z(le,W.mapped)),p.update({changes:W.changes,selection:W.startSelection,effects:W.effects,annotations:M.of({side:n,rest:le}),filter:!1,userEvent:n==0?"undo":"redo",scrollIntoView:!0})}else return null}}_e.empty=new _e(Vt,Vt);const Xe=[{key:"Mod-z",run:Et,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:rr,preventDefault:!0},{linux:"Ctrl-Shift-z",run:rr,preventDefault:!0},{key:"Mod-u",run:mt,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Mt,preventDefault:!0}];function lt(f,n){return O.jT.create(f.ranges.map(n),f.mainIndex)}function kt(f,n){return f.update({selection:n,scrollIntoView:!0,userEvent:"select"})}function Qt({state:f,dispatch:n},p){let b=lt(f.selection,p);return b.eq(f.selection)?!1:(n(kt(f,b)),!0)}function Yt(f,n){return O.jT.cursor(n?f.to:f.from)}function Ht(f,n){return Qt(f,p=>p.empty?f.moveByChar(p,n):Yt(p,n))}function Xt(f){return f.textDirectionAt(f.state.selection.main.head)==D.Nm.LTR}const rt=f=>Ht(f,!Xt(f)),xt=f=>Ht(f,Xt(f)),jt=f=>Ht(f,!0),fr=f=>Ht(f,!1);function Or(f,n){return Qt(f,p=>p.empty?f.moveByGroup(p,n):Yt(p,n))}const xr=f=>Or(f,!Xt(f)),ar=f=>Or(f,Xt(f)),Rt=f=>Or(f,!0),jr=f=>Or(f,!1);function yr(f,n,p){let b=f.state.charCategorizer(n.from);return f.moveByChar(n,p,P=>{let W=CharCategory.Space,le=n.from,Ae=!1,$e=!1,yt=!1,Tt=er=>{if(Ae)return!1;le+=p?er.length:-er.length;let Gr=b(er),Nn;if(Gr==CharCategory.Word&&er.charCodeAt(0)<128&&/[\W_]/.test(er)&&(Gr=-1),W==CharCategory.Space&&(W=Gr),W!=Gr)return!1;if(W==CharCategory.Word)if(er.toLowerCase()==er){if(!p&&$e)return!1;yt=!0}else if(yt){if(p)return!1;Ae=!0}else{if($e&&p&&b(Nn=f.state.sliceDoc(le,le+1))==CharCategory.Word&&Nn.toLowerCase()==Nn)return!1;$e=!0}return!0};return Tt(P),Tt})}function dr(f,n){return Qt(f,p=>p.empty?yr(f,p,n):Yt(p,n))}const pr=f=>dr(f,!0),cr=f=>dr(f,!1);function Wr(f,n,p){if(n.type.prop(p))return!0;let b=n.to-n.from;return b&&(b>2||/[^\s,.;:]/.test(f.sliceDoc(n.from,n.to)))||n.firstChild}function Tr(f,n,p){let b=(0,_.qz)(f).resolveInner(n.head),P=p?j.md.closedBy:j.md.openedBy;for(let $e=n.head;;){let yt=p?b.childAfter($e):b.childBefore($e);if(!yt)break;Wr(f,yt,P)?b=yt:$e=p?yt.to:yt.from}let W=b.type.prop(P),le,Ae;return W&&(le=p?(0,_.Um)(f,b.from,1):(0,_.Um)(f,b.to,-1))&&le.matched?Ae=p?le.end.to:le.end.from:Ae=p?b.to:b.from,O.jT.cursor(Ae,p?-1:1)}const Le=f=>Qt(f,n=>Tr(f.state,n,!Xt(f))),Gt=f=>Qt(f,n=>Tr(f.state,n,Xt(f)));function ir(f,n){return Qt(f,p=>{if(!p.empty)return Yt(p,n);let b=f.moveVertically(p,n);return b.head!=p.head?b:f.moveToLineBoundary(p,n)})}const lr=f=>ir(f,!1),Sr=f=>ir(f,!0);function _r(f){let n=f.scrollDOM.clientHeight<f.scrollDOM.scrollHeight-2,p=0,b=0,P;if(n){for(let W of f.state.facet(D.tk.scrollMargins)){let le=W(f);le!=null&&le.top&&(p=Math.max(le==null?void 0:le.top,p)),le!=null&&le.bottom&&(b=Math.max(le==null?void 0:le.bottom,b))}P=f.scrollDOM.clientHeight-p-b}else P=(f.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:p,marginBottom:b,selfScroll:n,height:Math.max(f.defaultLineHeight,P-5)}}function Er(f,n){let p=_r(f),{state:b}=f,P=lt(b.selection,le=>le.empty?f.moveVertically(le,n,p.height):Yt(le,n));if(P.eq(b.selection))return!1;let W;if(p.selfScroll){let le=f.coordsAtPos(b.selection.main.head),Ae=f.scrollDOM.getBoundingClientRect(),$e=Ae.top+p.marginTop,yt=Ae.bottom-p.marginBottom;le&&le.top>$e&&le.bottom<yt&&(W=D.tk.scrollIntoView(P.main.head,{y:"start",yMargin:le.top-$e}))}return f.dispatch(kt(b,P),{effects:W}),!0}const Zr=f=>Er(f,!1),Ir=f=>Er(f,!0);function Rr(f,n,p){let b=f.lineBlockAt(n.head),P=f.moveToLineBoundary(n,p);if(P.head==n.head&&P.head!=(p?b.to:b.from)&&(P=f.moveToLineBoundary(n,p,!1)),!p&&P.head==b.from&&b.length){let W=/^\s*/.exec(f.state.sliceDoc(b.from,Math.min(b.from+100,b.to)))[0].length;W&&n.head!=b.from+W&&(P=O.jT.cursor(b.from+W))}return P}const Xr=f=>Qt(f,n=>Rr(f,n,!0)),fn=f=>Qt(f,n=>Rr(f,n,!1)),Nr=f=>Qt(f,n=>Rr(f,n,!Xt(f))),ln=f=>Qt(f,n=>Rr(f,n,Xt(f))),mn=f=>Qt(f,n=>O.jT.cursor(f.lineBlockAt(n.head).from,1)),vn=f=>Qt(f,n=>O.jT.cursor(f.lineBlockAt(n.head).to,-1));function gn(f,n,p){let b=!1,P=lt(f.selection,W=>{let le=(0,_.Um)(f,W.head,-1)||(0,_.Um)(f,W.head,1)||W.head>0&&(0,_.Um)(f,W.head-1,1)||W.head<f.doc.length&&(0,_.Um)(f,W.head+1,-1);if(!le||!le.end)return W;b=!0;let Ae=le.start.from==W.head?le.end.to:le.end.from;return p?O.jT.range(W.anchor,Ae):O.jT.cursor(Ae)});return b?(n(kt(f,P)),!0):!1}const un=({state:f,dispatch:n})=>gn(f,n,!1),cn=({state:f,dispatch:n})=>gn(f,n,!0);function Yr(f,n){let p=lt(f.state.selection,b=>{let P=n(b);return O.jT.range(b.anchor,P.head,P.goalColumn,P.bidiLevel||void 0)});return p.eq(f.state.selection)?!1:(f.dispatch(kt(f.state,p)),!0)}function yn(f,n){return Yr(f,p=>f.moveByChar(p,n))}const sn=f=>yn(f,!Xt(f)),Qr=f=>yn(f,Xt(f)),En=f=>yn(f,!0),bn=f=>yn(f,!1);function oi(f,n){return Yr(f,p=>f.moveByGroup(p,n))}const Ki=f=>oi(f,!Xt(f)),Pe=f=>oi(f,Xt(f)),y=f=>oi(f,!0),T=f=>oi(f,!1);function V(f,n){return Yr(f,p=>yr(f,p,n))}const q=f=>V(f,!0),we=f=>V(f,!1),ge=f=>Yr(f,n=>Tr(f.state,n,!Xt(f))),Ve=f=>Yr(f,n=>Tr(f.state,n,Xt(f)));function je(f,n){return Yr(f,p=>f.moveVertically(p,n))}const At=f=>je(f,!1),Ft=f=>je(f,!0);function Wt(f,n){return Yr(f,p=>f.moveVertically(p,n,_r(f).height))}const Pr=f=>Wt(f,!1),mr=f=>Wt(f,!0),On=f=>Yr(f,n=>Rr(f,n,!0)),Mn=f=>Yr(f,n=>Rr(f,n,!1)),zn=f=>Yr(f,n=>Rr(f,n,!Xt(f))),Mi=f=>Yr(f,n=>Rr(f,n,Xt(f))),$i=f=>Yr(f,n=>O.jT.cursor(f.lineBlockAt(n.head).from)),Cn=f=>Yr(f,n=>O.jT.cursor(f.lineBlockAt(n.head).to)),Zo=({state:f,dispatch:n})=>(n(kt(f,{anchor:0})),!0),So=({state:f,dispatch:n})=>(n(kt(f,{anchor:f.doc.length})),!0),ko=({state:f,dispatch:n})=>(n(kt(f,{anchor:f.selection.main.anchor,head:0})),!0),$n=({state:f,dispatch:n})=>(n(kt(f,{anchor:f.selection.main.anchor,head:f.doc.length})),!0),Ii=({state:f,dispatch:n})=>(n(f.update({selection:{anchor:0,head:f.doc.length},userEvent:"select"})),!0),Mo=({state:f,dispatch:n})=>{let p=si(f).map(({from:b,to:P})=>O.jT.range(b,Math.min(P+1,f.doc.length)));return n(f.update({selection:O.jT.create(p),userEvent:"select"})),!0},Jt=({state:f,dispatch:n})=>{let p=lt(f.selection,b=>{var P;let W=(0,_.qz)(f).resolveInner(b.head,1);for(;!(W.from<b.from&&W.to>=b.to||W.to>b.to&&W.from<=b.from||!(!((P=W.parent)===null||P===void 0)&&P.parent));)W=W.parent;return O.jT.range(W.to,W.from)});return n(kt(f,p)),!0},be=({state:f,dispatch:n})=>{let p=f.selection,b=null;return p.ranges.length>1?b=O.jT.create([p.main]):p.main.empty||(b=O.jT.create([O.jT.cursor(p.main.head)])),b?(n(kt(f,b)),!0):!1};function N(f,n){if(f.state.readOnly)return!1;let p="delete.selection",{state:b}=f,P=b.changeByRange(W=>{let{from:le,to:Ae}=W;if(le==Ae){let $e=n(le);$e<le?(p="delete.backward",$e=X(f,$e,!1)):$e>le&&(p="delete.forward",$e=X(f,$e,!0)),le=Math.min(le,$e),Ae=Math.max(Ae,$e)}else le=X(f,le,!1),Ae=X(f,Ae,!0);return le==Ae?{range:W}:{changes:{from:le,to:Ae},range:O.jT.cursor(le)}});return P.changes.empty?!1:(f.dispatch(b.update(P,{scrollIntoView:!0,userEvent:p,effects:p=="delete.selection"?D.tk.announce.of(b.phrase("Selection deleted")):void 0})),!0)}function X(f,n,p){if(f instanceof D.tk)for(let b of f.state.facet(D.tk.atomicRanges).map(P=>P(f)))b.between(n,n,(P,W)=>{P<n&&W>n&&(n=p?W:P)});return n}const Me=(f,n)=>N(f,p=>{let{state:b}=f,P=b.doc.lineAt(p),W,le;if(!n&&p>P.from&&p<P.from+200&&!/[^ \t]/.test(W=P.text.slice(0,p-P.from))){if(W[W.length-1]=="	")return p-1;let Ae=(0,O.IS)(W,b.tabSize),$e=Ae%(0,_.y1)(b)||(0,_.y1)(b);for(let yt=0;yt<$e&&W[W.length-1-yt]==" ";yt++)p--;le=p}else le=(0,O.cp)(P.text,p-P.from,n,n)+P.from,le==p&&P.number!=(n?b.doc.lines:1)&&(le+=n?1:-1);return le}),Fe=f=>Me(f,!1),nt=f=>Me(f,!0),ct=(f,n)=>N(f,p=>{let b=p,{state:P}=f,W=P.doc.lineAt(b),le=P.charCategorizer(b);for(let Ae=null;;){if(b==(n?W.to:W.from)){b==p&&W.number!=(n?P.doc.lines:1)&&(b+=n?1:-1);break}let $e=(0,O.cp)(W.text,b-W.from,n)+W.from,yt=W.text.slice(Math.min(b,$e)-W.from,Math.max(b,$e)-W.from),Tt=le(yt);if(Ae!=null&&Tt!=Ae)break;(yt!=" "||b!=p)&&(Ae=Tt),b=$e}return b}),Bt=f=>ct(f,!1),Nt=f=>ct(f,!0),Lr=f=>N(f,n=>{let p=f.lineBlockAt(n).to;return n<p?p:Math.min(f.state.doc.length,n+1)}),Kr=f=>N(f,n=>{let p=f.lineBlockAt(n).from;return n>p?p:Math.max(0,n-1)}),In=({state:f,dispatch:n})=>{if(f.readOnly)return!1;let p=[];for(let b=0,P="",W=f.doc.iter();;){if(W.next(),W.lineBreak||W.done){let le=P.search(/\s+$/);if(le>-1&&p.push({from:b-(P.length-le),to:b}),W.done)break;P=""}else P=W.value;b+=W.value.length}return p.length?(n(f.update({changes:p,userEvent:"delete"})),!0):!1},wi=({state:f,dispatch:n})=>{if(f.readOnly)return!1;let p=f.changeByRange(b=>({changes:{from:b.from,to:b.to,insert:O.xv.of(["",""])},range:O.jT.cursor(b.from)}));return n(f.update(p,{scrollIntoView:!0,userEvent:"input"})),!0},Ci=({state:f,dispatch:n})=>{if(f.readOnly)return!1;let p=f.changeByRange(b=>{if(!b.empty||b.from==0||b.from==f.doc.length)return{range:b};let P=b.from,W=f.doc.lineAt(P),le=P==W.from?P-1:(0,O.cp)(W.text,P-W.from,!1)+W.from,Ae=P==W.to?P+1:(0,O.cp)(W.text,P-W.from,!0)+W.from;return{changes:{from:le,to:Ae,insert:f.doc.slice(P,Ae).append(f.doc.slice(le,P))},range:O.jT.cursor(Ae)}});return p.changes.empty?!1:(n(f.update(p,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function si(f){let n=[],p=-1;for(let b of f.selection.ranges){let P=f.doc.lineAt(b.from),W=f.doc.lineAt(b.to);if(!b.empty&&b.to==W.from&&(W=f.doc.lineAt(b.to-1)),p>=P.number){let le=n[n.length-1];le.to=W.to,le.ranges.push(b)}else n.push({from:P.from,to:W.to,ranges:[b]});p=W.number+1}return n}function Si(f,n,p){if(f.readOnly)return!1;let b=[],P=[];for(let W of si(f)){if(p?W.to==f.doc.length:W.from==0)continue;let le=f.doc.lineAt(p?W.to+1:W.from-1),Ae=le.length+1;if(p){b.push({from:W.to,to:le.to},{from:W.from,insert:le.text+f.lineBreak});for(let $e of W.ranges)P.push(O.jT.range(Math.min(f.doc.length,$e.anchor+Ae),Math.min(f.doc.length,$e.head+Ae)))}else{b.push({from:le.from,to:W.from},{from:W.to,insert:f.lineBreak+le.text});for(let $e of W.ranges)P.push(O.jT.range($e.anchor-Ae,$e.head-Ae))}}return b.length?(n(f.update({changes:b,scrollIntoView:!0,selection:O.jT.create(P,f.selection.mainIndex),userEvent:"move.line"})),!0):!1}const zi=({state:f,dispatch:n})=>Si(f,n,!1),ys=({state:f,dispatch:n})=>Si(f,n,!0);function rs(f,n,p){if(f.readOnly)return!1;let b=[];for(let P of si(f))p?b.push({from:P.from,insert:f.doc.slice(P.from,P.to)+f.lineBreak}):b.push({from:P.to,insert:f.lineBreak+f.doc.slice(P.from,P.to)});return n(f.update({changes:b,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const va=({state:f,dispatch:n})=>rs(f,n,!1),Uo=({state:f,dispatch:n})=>rs(f,n,!0),zs=f=>{if(f.state.readOnly)return!1;let{state:n}=f,p=n.changes(si(n).map(({from:P,to:W})=>(P>0?P--:W<n.doc.length&&W++,{from:P,to:W}))),b=lt(n.selection,P=>f.moveVertically(P,!0)).map(p);return f.dispatch({changes:p,selection:b,scrollIntoView:!0,userEvent:"delete.line"}),!0},pt=({state:f,dispatch:n})=>(n(f.update(f.replaceSelection(f.lineBreak),{scrollIntoView:!0,userEvent:"input"})),!0);function He(f,n){if(/\(\)|\[\]|\{\}/.test(f.sliceDoc(n-1,n+1)))return{from:n,to:n};let p=(0,_.qz)(f).resolveInner(n),b=p.childBefore(n),P=p.childAfter(n),W;return b&&P&&b.to<=n&&P.from>=n&&(W=b.type.prop(j.md.closedBy))&&W.indexOf(P.name)>-1&&f.doc.lineAt(b.to).from==f.doc.lineAt(P.from).from?{from:b.to,to:P.from}:null}const Lt=nr(!1),Kt=nr(!0);function nr(f){return({state:n,dispatch:p})=>{if(n.readOnly)return!1;let b=n.changeByRange(P=>{let{from:W,to:le}=P,Ae=n.doc.lineAt(W),$e=!f&&W==le&&He(n,W);f&&(W=le=(le<=Ae.to?Ae:n.doc.lineAt(le)).to);let yt=new _.Gn(n,{simulateBreak:W,simulateDoubleBreak:!!$e}),Tt=(0,_.K0)(yt,W);for(Tt==null&&(Tt=/^\s*/.exec(n.doc.lineAt(W).text)[0].length);le<Ae.to&&/\s/.test(Ae.text[le-Ae.from]);)le++;$e?{from:W,to:le}=$e:W>Ae.from&&W<Ae.from+100&&!/\S/.test(Ae.text.slice(0,W))&&(W=Ae.from);let er=["",(0,_.SS)(n,Tt)];return $e&&er.push((0,_.SS)(n,yt.lineIndent(Ae.from,-1))),{changes:{from:W,to:le,insert:O.xv.of(er)},range:O.jT.cursor(W+1+er[1].length)}});return p(n.update(b,{scrollIntoView:!0,userEvent:"input"})),!0}}function Ur(f,n){let p=-1;return f.changeByRange(b=>{let P=[];for(let le=b.from;le<=b.to;){let Ae=f.doc.lineAt(le);Ae.number>p&&(b.empty||b.to>Ae.from)&&(n(Ae,P,b),p=Ae.number),le=Ae.to+1}let W=f.changes(P);return{changes:P,range:O.jT.range(W.mapPos(b.anchor,1),W.mapPos(b.head,1))}})}const Fr=({state:f,dispatch:n})=>{if(f.readOnly)return!1;let p=Object.create(null),b=new _.Gn(f,{overrideIndentation:W=>{let le=p[W];return le==null?-1:le}}),P=Ur(f,(W,le,Ae)=>{let $e=(0,_.K0)(b,W.from);if($e==null)return;/\S/.test(W.text)||($e=0);let yt=/^\s*/.exec(W.text)[0],Tt=(0,_.SS)(f,$e);(yt!=Tt||Ae.from<W.from+yt.length)&&(p[W.from]=$e,le.push({from:W.from,to:W.from+yt.length,insert:Tt}))});return P.changes.empty||n(f.update(P,{userEvent:"indent"})),!0},en=({state:f,dispatch:n})=>f.readOnly?!1:(n(f.update(Ur(f,(p,b)=>{b.push({from:p.from,insert:f.facet(_.c)})}),{userEvent:"input.indent"})),!0),ai=({state:f,dispatch:n})=>f.readOnly?!1:(n(f.update(Ur(f,(p,b)=>{let P=/^\s*/.exec(p.text)[0];if(!P)return;let W=(0,O.IS)(P,f.tabSize),le=0,Ae=(0,_.SS)(f,Math.max(0,W-(0,_.y1)(f)));for(;le<P.length&&le<Ae.length&&P.charCodeAt(le)==Ae.charCodeAt(le);)le++;b.push({from:p.from+le,to:p.from+P.length,insert:Ae.slice(le)})}),{userEvent:"delete.dedent"})),!0),Hn=({state:f,dispatch:n})=>f.selection.ranges.some(p=>!p.empty)?en({state:f,dispatch:n}):(n(f.update(f.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),Yn=[{key:"Ctrl-b",run:rt,shift:sn,preventDefault:!0},{key:"Ctrl-f",run:xt,shift:Qr},{key:"Ctrl-p",run:lr,shift:At},{key:"Ctrl-n",run:Sr,shift:Ft},{key:"Ctrl-a",run:mn,shift:$i},{key:"Ctrl-e",run:vn,shift:Cn},{key:"Ctrl-d",run:nt},{key:"Ctrl-h",run:Fe},{key:"Ctrl-k",run:Lr},{key:"Ctrl-Alt-h",run:Bt},{key:"Ctrl-o",run:wi},{key:"Ctrl-t",run:Ci},{key:"Ctrl-v",run:Ir}],rn=[{key:"ArrowLeft",run:rt,shift:sn,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:xr,shift:Ki,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Nr,shift:zn,preventDefault:!0},{key:"ArrowRight",run:xt,shift:Qr,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:ar,shift:Pe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:ln,shift:Mi,preventDefault:!0},{key:"ArrowUp",run:lr,shift:At,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Zo,shift:ko},{mac:"Ctrl-ArrowUp",run:Zr,shift:Pr},{key:"ArrowDown",run:Sr,shift:Ft,preventDefault:!0},{mac:"Cmd-ArrowDown",run:So,shift:$n},{mac:"Ctrl-ArrowDown",run:Ir,shift:mr},{key:"PageUp",run:Zr,shift:Pr},{key:"PageDown",run:Ir,shift:mr},{key:"Home",run:fn,shift:Mn,preventDefault:!0},{key:"Mod-Home",run:Zo,shift:ko},{key:"End",run:Xr,shift:On,preventDefault:!0},{key:"Mod-End",run:So,shift:$n},{key:"Enter",run:Lt},{key:"Mod-a",run:Ii},{key:"Backspace",run:Fe,shift:Fe},{key:"Delete",run:nt},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Bt},{key:"Mod-Delete",mac:"Alt-Delete",run:Nt},{mac:"Mod-Backspace",run:Kr},{mac:"Mod-Delete",run:Lr}].concat(Yn.map(f=>({mac:f.key,run:f.run,shift:f.shift}))),tn=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Le,shift:ge},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Gt,shift:Ve},{key:"Alt-ArrowUp",run:zi},{key:"Shift-Alt-ArrowUp",run:va},{key:"Alt-ArrowDown",run:ys},{key:"Shift-Alt-ArrowDown",run:Uo},{key:"Escape",run:be},{key:"Mod-Enter",run:Kt},{key:"Alt-l",mac:"Ctrl-l",run:Mo},{key:"Mod-i",run:Jt,preventDefault:!0},{key:"Mod-[",run:ai},{key:"Mod-]",run:en},{key:"Mod-Alt-\\",run:Fr},{key:"Shift-Mod-k",run:zs},{key:"Shift-Mod-\\",run:un},{key:"Mod-/",run:$},{key:"Alt-A",run:te}].concat(rn),Zn={key:"Tab",run:en,shift:ai};function an(){var f=arguments[0];typeof f=="string"&&(f=document.createElement(f));var n=1,p=arguments[1];if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){for(var b in p)if(Object.prototype.hasOwnProperty.call(p,b)){var P=p[b];typeof P=="string"?f.setAttribute(b,P):P!=null&&(f[b]=P)}n++}for(;n<arguments.length;n++)mi(f,arguments[n]);return f}function mi(f,n){if(typeof n=="string")f.appendChild(document.createTextNode(n));else if(n!=null)if(n.nodeType!=null)f.appendChild(n);else if(Array.isArray(n))for(var p=0;p<n.length;p++)mi(f,n[p]);else throw new RangeError("Unsupported child node: "+n)}const Ai=typeof String.prototype.normalize=="function"?f=>f.normalize("NFKD"):f=>f;class Fi{constructor(n,p,b=0,P=n.length,W,le){this.test=le,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=n.iterRange(b,P),this.bufferStart=b,this.normalize=W?Ae=>W(Ai(Ae)):Ai,this.query=this.normalize(p)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,O.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let n=this.peek();if(n<0)return this.done=!0,this;let p=(0,O.bg)(n),b=this.bufferStart+this.bufferPos;this.bufferPos+=(0,O.nZ)(n);let P=this.normalize(p);for(let W=0,le=b;;W++){let Ae=P.charCodeAt(W),$e=this.match(Ae,le);if($e)return this.value=$e,this;if(W==P.length-1)break;le==b&&W<p.length&&p.charCodeAt(W)==Ae&&le++}}}match(n,p){let b=null;for(let P=0;P<this.matches.length;P+=2){let W=this.matches[P],le=!1;this.query.charCodeAt(W)==n&&(W==this.query.length-1?b={from:this.matches[P+1],to:p+1}:(this.matches[P]++,le=!0)),le||(this.matches.splice(P,2),P-=2)}return this.query.charCodeAt(0)==n&&(this.query.length==1?b={from:p,to:p+1}:this.matches.push(1,p)),b&&this.test&&!this.test(b.from,b.to,this.buffer,this.bufferPos)&&(b=null),b}}typeof Symbol!="undefined"&&(Fi.prototype[Symbol.iterator]=function(){return this});const Qi={from:-1,to:-1,match:/.*/.exec("")},Xn="gm"+(/x/.unicode==null?"":"u");class _n{constructor(n,p,b,P=0,W=n.length){if(this.text=n,this.to=W,this.curLine="",this.done=!1,this.value=Qi,/\\[sWDnr]|\n|\r|\[\^/.test(p))return new Vo(n,p,b,P,W);this.re=new RegExp(p,Xn+(b!=null&&b.ignoreCase?"i":"")),this.test=b==null?void 0:b.test,this.iter=n.iter();let le=n.lineAt(P);this.curLineStart=le.from,this.matchPos=ci(n,P),this.getLine(this.curLineStart)}getLine(n){this.iter.next(n),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let n=this.matchPos-this.curLineStart;;){this.re.lastIndex=n;let p=this.matchPos<=this.to&&this.re.exec(this.curLine);if(p){let b=this.curLineStart+p.index,P=b+p[0].length;if(this.matchPos=ci(this.text,P+(b==P?1:0)),b==this.curLineStart+this.curLine.length&&this.nextLine(),(b<P||b>this.value.to)&&(!this.test||this.test(b,P,p)))return this.value={from:b,to:P,match:p},this;n=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),n=0;else return this.done=!0,this}}}const Ri=new WeakMap;class An{constructor(n,p){this.from=n,this.text=p}get to(){return this.from+this.text.length}static get(n,p,b){let P=Ri.get(n);if(!P||P.from>=b||P.to<=p){let Ae=new An(p,n.sliceString(p,b));return Ri.set(n,Ae),Ae}if(P.from==p&&P.to==b)return P;let{text:W,from:le}=P;return le>p&&(W=n.sliceString(p,le)+W,le=p),P.to<b&&(W+=n.sliceString(P.to,b)),Ri.set(n,new An(le,W)),new An(p,W.slice(p-le,b-le))}}class Vo{constructor(n,p,b,P,W){this.text=n,this.to=W,this.done=!1,this.value=Qi,this.matchPos=ci(n,P),this.re=new RegExp(p,Xn+(b!=null&&b.ignoreCase?"i":"")),this.test=b==null?void 0:b.test,this.flat=An.get(n,P,this.chunkEnd(P+5e3))}chunkEnd(n){return n>=this.to?this.to:this.text.lineAt(n).to}next(){for(;;){let n=this.re.lastIndex=this.matchPos-this.flat.from,p=this.re.exec(this.flat.text);if(p&&!p[0]&&p.index==n&&(this.re.lastIndex=n+1,p=this.re.exec(this.flat.text)),p){let b=this.flat.from+p.index,P=b+p[0].length;if((this.flat.to>=this.to||p.index+p[0].length<=this.flat.text.length-10)&&(!this.test||this.test(b,P,p)))return this.value={from:b,to:P,match:p},this.matchPos=ci(this.text,P+(b==P?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=An.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol!="undefined"&&(_n.prototype[Symbol.iterator]=Vo.prototype[Symbol.iterator]=function(){return this});function Hi(f){try{return new RegExp(f,Xn),!0}catch{return!1}}function ci(f,n){if(n>=f.length)return n;let p=f.lineAt(n),b;for(;n<p.to&&(b=p.text.charCodeAt(n-p.from))>=56320&&b<57344;)n++;return n}function Eo(f){let n=an("input",{class:"cm-textfield",name:"line"}),p=an("form",{class:"cm-gotoLine",onkeydown:P=>{P.keyCode==27?(P.preventDefault(),f.dispatch({effects:wo.of(!1)}),f.focus()):P.keyCode==13&&(P.preventDefault(),b())},onsubmit:P=>{P.preventDefault(),b()}},an("label",f.state.phrase("Go to line"),": ",n)," ",an("button",{class:"cm-button",type:"submit"},f.state.phrase("go")));function b(){let P=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!P)return;let{state:W}=f,le=W.doc.lineAt(W.selection.main.head),[,Ae,$e,yt,Tt]=P,er=yt?+yt.slice(1):0,Gr=$e?+$e:le.number;if($e&&Tt){let Wi=Gr/100;Ae&&(Wi=Wi*(Ae=="-"?-1:1)+le.number/W.doc.lines),Gr=Math.round(W.doc.lines*Wi)}else $e&&Ae&&(Gr=Gr*(Ae=="-"?-1:1)+le.number);let Nn=W.doc.line(Math.max(1,Math.min(W.doc.lines,Gr)));f.dispatch({effects:wo.of(!1),selection:O.jT.cursor(Nn.from+Math.max(0,Math.min(er,Nn.length))),scrollIntoView:!0}),f.focus()}return{dom:p}}const wo=O.Py.define(),$o=O.QQ.define({create(){return!0},update(f,n){for(let p of n.effects)p.is(wo)&&(f=p.value);return f},provide:f=>D.mH.from(f,n=>n?Eo:null)}),fi=f=>{let n=(0,D.Sd)(f,Eo);if(!n){let p=[wo.of(!0)];f.state.field($o,!1)==null&&p.push(O.Py.appendConfig.of([$o,ro])),f.dispatch({effects:p}),n=(0,D.Sd)(f,Eo)}return n&&n.dom.querySelector("input").focus(),!0},ro=D.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Pi={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},mo=O.r$.define({combine(f){return(0,O.BO)(f,Pi,{highlightWordAroundCursor:(n,p)=>n||p,minSelectionLength:Math.min,maxMatches:Math.min})}});function Io(f){let n=[Ro,Dn];return f&&n.push(mo.of(f)),n}const ao=D.p.mark({class:"cm-selectionMatch"}),Ps=D.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Hs(f,n,p,b){return(p==0||f(n.sliceDoc(p-1,p))!=O.D0.Word)&&(b==n.doc.length||f(n.sliceDoc(b,b+1))!=O.D0.Word)}function vs(f,n,p,b){return f(n.sliceDoc(p,p+1))==O.D0.Word&&f(n.sliceDoc(b-1,b))==O.D0.Word}const Dn=D.lg.fromClass(class{constructor(f){this.decorations=this.getDeco(f)}update(f){(f.selectionSet||f.docChanged||f.viewportChanged)&&(this.decorations=this.getDeco(f.view))}getDeco(f){let n=f.state.facet(mo),{state:p}=f,b=p.selection;if(b.ranges.length>1)return D.p.none;let P=b.main,W,le=null;if(P.empty){if(!n.highlightWordAroundCursor)return D.p.none;let $e=p.wordAt(P.head);if(!$e)return D.p.none;le=p.charCategorizer(P.head),W=p.sliceDoc($e.from,$e.to)}else{let $e=P.to-P.from;if($e<n.minSelectionLength||$e>200)return D.p.none;if(n.wholeWords){if(W=p.sliceDoc(P.from,P.to),le=p.charCategorizer(P.head),!(Hs(le,p,P.from,P.to)&&vs(le,p,P.from,P.to)))return D.p.none}else if(W=p.sliceDoc(P.from,P.to).trim(),!W)return D.p.none}let Ae=[];for(let $e of f.visibleRanges){let yt=new Fi(p.doc,W,$e.from,$e.to);for(;!yt.next().done;){let{from:Tt,to:er}=yt.value;if((!le||Hs(le,p,Tt,er))&&(P.empty&&Tt<=P.from&&er>=P.to?Ae.push(Ps.range(Tt,er)):(Tt>=P.to||er<=P.from)&&Ae.push(ao.range(Tt,er)),Ae.length>n.maxMatches))return D.p.none}}return D.p.set(Ae)}},{decorations:f=>f.decorations}),Ro=D.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Ji=({state:f,dispatch:n})=>{let{selection:p}=f,b=O.jT.create(p.ranges.map(P=>f.wordAt(P.head)||O.jT.cursor(P.head)),p.mainIndex);return b.eq(p)?!1:(n(f.update({selection:b})),!0)};function Ko(f,n){let{main:p,ranges:b}=f.selection,P=f.wordAt(p.head),W=P&&P.from==p.from&&P.to==p.to;for(let le=!1,Ae=new Fi(f.doc,n,b[b.length-1].to);;)if(Ae.next(),Ae.done){if(le)return null;Ae=new Fi(f.doc,n,0,Math.max(0,b[b.length-1].from-1)),le=!0}else{if(le&&b.some($e=>$e.from==Ae.value.from))continue;if(W){let $e=f.wordAt(Ae.value.from);if(!$e||$e.from!=Ae.value.from||$e.to!=Ae.value.to)continue}return Ae.value}}const qi=({state:f,dispatch:n})=>{let{ranges:p}=f.selection;if(p.some(W=>W.from===W.to))return Ji({state:f,dispatch:n});let b=f.sliceDoc(p[0].from,p[0].to);if(f.selection.ranges.some(W=>f.sliceDoc(W.from,W.to)!=b))return!1;let P=Ko(f,b);return P?(n(f.update({selection:f.selection.addRange(O.jT.range(P.from,P.to),!1),effects:D.tk.scrollIntoView(P.to)})),!0):!1},dn=O.r$.define({combine(f){return(0,O.BO)(f,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:n=>new vt(n),scrollToMatch:n=>D.tk.scrollIntoView(n)})}});function Ts(f){return f?[dn.of(f),gr]:gr}class Ti{constructor(n){this.search=n.search,this.caseSensitive=!!n.caseSensitive,this.literal=!!n.literal,this.regexp=!!n.regexp,this.replace=n.replace||"",this.valid=!!this.search&&(!this.regexp||Hi(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!n.wholeWord}unquote(n){return this.literal?n:n.replace(/\\([nrt\\])/g,(p,b)=>b=="n"?`
`:b=="r"?"\r":b=="t"?"	":"\\")}eq(n){return this.search==n.search&&this.replace==n.replace&&this.caseSensitive==n.caseSensitive&&this.regexp==n.regexp&&this.wholeWord==n.wholeWord}create(){return this.regexp?new Ho(this):new Oo(this)}getCursor(n,p=0,b){let P=n.doc?n:O.yy.create({doc:n});return b==null&&(b=P.doc.length),this.regexp?Un(this,P,p,b):gi(this,P,p,b)}}class zo{constructor(n){this.spec=n}}function gi(f,n,p,b){return new Fi(n.doc,f.unquoted,p,b,f.caseSensitive?void 0:P=>P.toLowerCase(),f.wholeWord?Bn(n.doc,n.charCategorizer(n.selection.main.head)):void 0)}function Bn(f,n){return(p,b,P,W)=>((W>p||W+P.length<b)&&(W=Math.max(0,p-2),P=f.sliceString(W,Math.min(f.length,b+2))),(n(Oi(P,p-W))!=O.D0.Word||n(pi(P,p-W))!=O.D0.Word)&&(n(pi(P,b-W))!=O.D0.Word||n(Oi(P,b-W))!=O.D0.Word))}class Oo extends zo{constructor(n){super(n)}nextMatch(n,p,b){let P=gi(this.spec,n,b,n.doc.length).nextOverlapping();return P.done&&(P=gi(this.spec,n,0,p).nextOverlapping()),P.done?null:P.value}prevMatchInRange(n,p,b){for(let P=b;;){let W=Math.max(p,P-1e4-this.spec.unquoted.length),le=gi(this.spec,n,W,P),Ae=null;for(;!le.nextOverlapping().done;)Ae=le.value;if(Ae)return Ae;if(W==p)return null;P-=1e4}}prevMatch(n,p,b){return this.prevMatchInRange(n,0,p)||this.prevMatchInRange(n,b,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace)}matchAll(n,p){let b=gi(this.spec,n,0,n.doc.length),P=[];for(;!b.next().done;){if(P.length>=p)return null;P.push(b.value)}return P}highlight(n,p,b,P){let W=gi(this.spec,n,Math.max(0,p-this.spec.unquoted.length),Math.min(b+this.spec.unquoted.length,n.doc.length));for(;!W.next().done;)P(W.value.from,W.value.to)}}function Un(f,n,p,b){return new _n(n.doc,f.search,{ignoreCase:!f.caseSensitive,test:f.wholeWord?li(n.charCategorizer(n.selection.main.head)):void 0},p,b)}function Oi(f,n){return f.slice((0,O.cp)(f,n,!1),n)}function pi(f,n){return f.slice(n,(0,O.cp)(f,n))}function li(f){return(n,p,b)=>!b[0].length||(f(Oi(b.input,b.index))!=O.D0.Word||f(pi(b.input,b.index))!=O.D0.Word)&&(f(pi(b.input,b.index+b[0].length))!=O.D0.Word||f(Oi(b.input,b.index+b[0].length))!=O.D0.Word)}class Ho extends zo{nextMatch(n,p,b){let P=Un(this.spec,n,b,n.doc.length).next();return P.done&&(P=Un(this.spec,n,0,p).next()),P.done?null:P.value}prevMatchInRange(n,p,b){for(let P=1;;P++){let W=Math.max(p,b-P*1e4),le=Un(this.spec,n,W,b),Ae=null;for(;!le.next().done;)Ae=le.value;if(Ae&&(W==p||Ae.from>W+10))return Ae;if(W==p)return null}}prevMatch(n,p,b){return this.prevMatchInRange(n,0,p)||this.prevMatchInRange(n,b,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(p,b)=>b=="$"?"$":b=="&"?n.match[0]:b!="0"&&+b<n.match.length?n.match[b]:p))}matchAll(n,p){let b=Un(this.spec,n,0,n.doc.length),P=[];for(;!b.next().done;){if(P.length>=p)return null;P.push(b.value)}return P}highlight(n,p,b,P){let W=Un(this.spec,n,Math.max(0,p-250),Math.min(b+250,n.doc.length));for(;!W.next().done;)P(W.value.from,W.value.to)}}const po=O.Py.define(),bs=O.Py.define(),ei=O.QQ.define({create(f){return new ji(Fn(f).create(),null)},update(f,n){for(let p of n.effects)p.is(po)?f=new ji(p.value.create(),f.panel):p.is(bs)&&(f=new ji(f.query,p.value?Js:null));return f},provide:f=>D.mH.from(f,n=>n.panel)});function no(f){let n=f.field(ei,!1);return n?n.query.spec:Fn(f)}function lo(f){var n;return((n=f.field(ei,!1))===null||n===void 0?void 0:n.panel)!=null}class ji{constructor(n,p){this.query=n,this.panel=p}}const Fo=D.p.mark({class:"cm-searchMatch"}),Ei=D.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Ss=D.lg.fromClass(class{constructor(f){this.view=f,this.decorations=this.highlight(f.state.field(ei))}update(f){let n=f.state.field(ei);(n!=f.startState.field(ei)||f.docChanged||f.selectionSet||f.viewportChanged)&&(this.decorations=this.highlight(n))}highlight({query:f,panel:n}){if(!n||!f.spec.valid)return D.p.none;let{view:p}=this,b=new O.f_;for(let P=0,W=p.visibleRanges,le=W.length;P<le;P++){let{from:Ae,to:$e}=W[P];for(;P<le-1&&$e>W[P+1].from-2*250;)$e=W[++P].to;f.highlight(p.state,Ae,$e,(yt,Tt)=>{let er=p.state.selection.ranges.some(Gr=>Gr.from==yt&&Gr.to==Tt);b.add(yt,Tt,er?Ei:Fo)})}return b.finish()}},{decorations:f=>f.decorations});function xo(f){return n=>{let p=n.state.field(ei,!1);return p&&p.query.spec.valid?f(n,p):ss(n)}}const Jn=xo((f,{query:n})=>{let{to:p}=f.state.selection.main,b=n.nextMatch(f.state,p,p);if(!b)return!1;let P=O.jT.single(b.from,b.to),W=f.state.facet(dn);return f.dispatch({selection:P,effects:[zr(f,b),W.scrollToMatch(P.main,f)],userEvent:"select.search"}),os(f),!0}),_i=xo((f,{query:n})=>{let{state:p}=f,{from:b}=p.selection.main,P=n.prevMatch(p,b,b);if(!P)return!1;let W=O.jT.single(P.from,P.to),le=f.state.facet(dn);return f.dispatch({selection:W,effects:[zr(f,P),le.scrollToMatch(W.main,f)],userEvent:"select.search"}),os(f),!0}),kr=xo((f,{query:n})=>{let p=n.matchAll(f.state,1e3);return!p||!p.length?!1:(f.dispatch({selection:O.jT.create(p.map(b=>O.jT.range(b.from,b.to))),userEvent:"select.search.matches"}),!0)}),Qn=({state:f,dispatch:n})=>{let p=f.selection;if(p.ranges.length>1||p.main.empty)return!1;let{from:b,to:P}=p.main,W=[],le=0;for(let Ae=new Fi(f.doc,f.sliceDoc(b,P));!Ae.next().done;){if(W.length>1e3)return!1;Ae.value.from==b&&(le=W.length),W.push(O.jT.range(Ae.value.from,Ae.value.to))}return n(f.update({selection:O.jT.create(W,le),userEvent:"select.search.matches"})),!0},go=xo((f,{query:n})=>{let{state:p}=f,{from:b,to:P}=p.selection.main;if(p.readOnly)return!1;let W=n.nextMatch(p,b,b);if(!W)return!1;let le=[],Ae,$e,yt=[];if(W.from==b&&W.to==P&&($e=p.toText(n.getReplacement(W)),le.push({from:W.from,to:W.to,insert:$e}),W=n.nextMatch(p,W.from,W.to),yt.push(D.tk.announce.of(p.phrase("replaced match on line $",p.doc.lineAt(b).number)+"."))),W){let Tt=le.length==0||le[0].from>=W.to?0:W.to-W.from-$e.length;Ae=O.jT.single(W.from-Tt,W.to-Tt),yt.push(zr(f,W)),yt.push(p.facet(dn).scrollToMatch(Ae.main,f))}return f.dispatch({changes:le,selection:Ae,effects:yt,userEvent:"input.replace"}),!0}),ns=xo((f,{query:n})=>{if(f.state.readOnly)return!1;let p=n.matchAll(f.state,1e9).map(P=>{let{from:W,to:le}=P;return{from:W,to:le,insert:n.getReplacement(P)}});if(!p.length)return!1;let b=f.state.phrase("replaced $ matches",p.length)+".";return f.dispatch({changes:p,effects:D.tk.announce.of(b),userEvent:"input.replace.all"}),!0});function Js(f){return f.state.facet(dn).createPanel(f)}function Fn(f,n){var p,b,P,W,le;let Ae=f.selection.main,$e=Ae.empty||Ae.to>Ae.from+100?"":f.sliceDoc(Ae.from,Ae.to);if(n&&!$e)return n;let yt=f.facet(dn);return new Ti({search:((p=n==null?void 0:n.literal)!==null&&p!==void 0?p:yt.literal)?$e:$e.replace(/\n/g,"\\n"),caseSensitive:(b=n==null?void 0:n.caseSensitive)!==null&&b!==void 0?b:yt.caseSensitive,literal:(P=n==null?void 0:n.literal)!==null&&P!==void 0?P:yt.literal,regexp:(W=n==null?void 0:n.regexp)!==null&&W!==void 0?W:yt.regexp,wholeWord:(le=n==null?void 0:n.wholeWord)!==null&&le!==void 0?le:yt.wholeWord})}function is(f){let n=(0,D.Sd)(f,Js);return n&&n.dom.querySelector("[main-field]")}function os(f){let n=is(f);n&&n==f.root.activeElement&&n.select()}const ss=f=>{let n=f.state.field(ei,!1);if(n&&n.panel){let p=is(f);if(p&&p!=f.root.activeElement){let b=Fn(f.state,n.query.spec);b.valid&&f.dispatch({effects:po.of(b)}),p.focus(),p.select()}}else f.dispatch({effects:[bs.of(!0),n?po.of(Fn(f.state,n.query.spec)):O.Py.appendConfig.of(gr)]});return!0},_s=f=>{let n=f.state.field(ei,!1);if(!n||!n.panel)return!1;let p=(0,D.Sd)(f,Js);return p&&p.dom.contains(f.root.activeElement)&&f.focus(),f.dispatch({effects:bs.of(!1)}),!0},Ds=[{key:"Mod-f",run:ss,scope:"editor search-panel"},{key:"F3",run:Jn,shift:_i,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Jn,shift:_i,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:_s,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Qn},{key:"Alt-g",run:fi},{key:"Mod-d",run:qi,preventDefault:!0}];class vt{constructor(n){this.view=n;let p=this.query=n.state.field(ei).query.spec;this.commit=this.commit.bind(this),this.searchField=an("input",{value:p.search,placeholder:it(n,"Find"),"aria-label":it(n,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=an("input",{value:p.replace,placeholder:it(n,"Replace"),"aria-label":it(n,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=an("input",{type:"checkbox",name:"case",form:"",checked:p.caseSensitive,onchange:this.commit}),this.reField=an("input",{type:"checkbox",name:"re",form:"",checked:p.regexp,onchange:this.commit}),this.wordField=an("input",{type:"checkbox",name:"word",form:"",checked:p.wholeWord,onchange:this.commit});function b(P,W,le){return an("button",{class:"cm-button",name:P,onclick:W,type:"button"},le)}this.dom=an("div",{onkeydown:P=>this.keydown(P),class:"cm-search"},[this.searchField,b("next",()=>Jn(n),[it(n,"next")]),b("prev",()=>_i(n),[it(n,"previous")]),b("select",()=>kr(n),[it(n,"all")]),an("label",null,[this.caseField,it(n,"match case")]),an("label",null,[this.reField,it(n,"regexp")]),an("label",null,[this.wordField,it(n,"by word")]),...n.state.readOnly?[]:[an("br"),this.replaceField,b("replace",()=>go(n),[it(n,"replace")]),b("replaceAll",()=>ns(n),[it(n,"replace all")])],an("button",{name:"close",onclick:()=>_s(n),"aria-label":it(n,"close"),type:"button"},["\xD7"])])}commit(){let n=new Ti({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});n.eq(this.query)||(this.query=n,this.view.dispatch({effects:po.of(n)}))}keydown(n){(0,D.$1)(this.view,n,"search-panel")?n.preventDefault():n.keyCode==13&&n.target==this.searchField?(n.preventDefault(),(n.shiftKey?_i:Jn)(this.view)):n.keyCode==13&&n.target==this.replaceField&&(n.preventDefault(),go(this.view))}update(n){for(let p of n.transactions)for(let b of p.effects)b.is(po)&&!b.value.eq(this.query)&&this.setQuery(b.value)}setQuery(n){this.query=n,this.searchField.value=n.search,this.replaceField.value=n.replace,this.caseField.checked=n.caseSensitive,this.reField.checked=n.regexp,this.wordField.checked=n.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(dn).top}}function it(f,n){return f.state.phrase(n)}const Zi=30,Ni=/[\s\.,:;?!]/;function zr(f,{from:n,to:p}){let b=f.state.doc.lineAt(n),P=f.state.doc.lineAt(p).to,W=Math.max(b.from,n-Zi),le=Math.min(P,p+Zi),Ae=f.state.sliceDoc(W,le);if(W!=b.from){for(let $e=0;$e<Zi;$e++)if(!Ni.test(Ae[$e+1])&&Ni.test(Ae[$e])){Ae=Ae.slice($e);break}}if(le!=P){for(let $e=Ae.length-1;$e>Ae.length-Zi;$e--)if(!Ni.test(Ae[$e-1])&&Ni.test(Ae[$e])){Ae=Ae.slice(0,$e);break}}return D.tk.announce.of(`${f.state.phrase("current match")}. ${Ae} ${f.state.phrase("on line")} ${b.number}.`)}const wr=D.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),gr=[ei,O.Wl.lowest(Ss),wr];class Hr{constructor(n,p,b){this.state=n,this.pos=p,this.explicit=b,this.abortListeners=[]}tokenBefore(n){let p=(0,_.qz)(this.state).resolveInner(this.pos,-1);for(;p&&n.indexOf(p.name)<0;)p=p.parent;return p?{from:p.from,to:this.pos,text:this.state.sliceDoc(p.from,this.pos),type:p.type}:null}matchBefore(n){let p=this.state.doc.lineAt(this.pos),b=Math.max(p.from,this.pos-250),P=p.text.slice(b-p.from,this.pos-p.from),W=P.search(ks(n,!1));return W<0?null:{from:b+W,to:this.pos,text:P.slice(W)}}get aborted(){return this.abortListeners==null}addEventListener(n,p){n=="abort"&&this.abortListeners&&this.abortListeners.push(p)}}function wn(f){let n=Object.keys(f).join(""),p=/\w/.test(n);return p&&(n=n.replace(/\w/g,"")),`[${p?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function xn(f){let n=Object.create(null),p=Object.create(null);for(let{label:P}of f){n[P[0]]=!0;for(let W=1;W<P.length;W++)p[P[W]]=!0}let b=wn(n)+wn(p)+"*$";return[new RegExp("^"+b),new RegExp(b)]}function di(f){let n=f.map(P=>typeof P=="string"?{label:P}:P),[p,b]=n.every(P=>/^\w+$/.test(P.label))?[/\w*$/,/\w+$/]:xn(n);return P=>{let W=P.matchBefore(b);return W||P.explicit?{from:W?W.from:P.pos,options:n,validFor:p}:null}}function yi(f,n){return p=>{for(let b=syntaxTree(p.state).resolveInner(p.pos,-1);b;b=b.parent){if(f.indexOf(b.name)>-1)return n(p);if(b.type.isTop)break}return null}}function yo(f,n){return p=>{for(let b=syntaxTree(p.state).resolveInner(p.pos,-1);b;b=b.parent){if(f.indexOf(b.name)>-1)return null;if(b.type.isTop)break}return n(p)}}class jn{constructor(n,p,b,P){this.completion=n,this.source=p,this.match=b,this.score=P}}function Vn(f){return f.selection.main.from}function ks(f,n){var p;let{source:b}=f,P=n&&b[0]!="^",W=b[b.length-1]!="$";return!P&&!W?f:new RegExp(`${P?"^":""}(?:${b})${W?"$":""}`,(p=f.flags)!==null&&p!==void 0?p:f.ignoreCase?"i":"")}const Gs=O.q6.define();function Jo(f,n,p,b){let{main:P}=f.selection,W=p-P.from,le=b-P.from;return Object.assign(Object.assign({},f.changeByRange(Ae=>Ae!=P&&p!=b&&f.sliceDoc(Ae.from+W,Ae.from+le)!=f.sliceDoc(p,b)?{range:Ae}:{changes:{from:Ae.from+W,to:b==P.from?Ae.to:Ae.from+le,insert:n},range:O.jT.cursor(Ae.from+W+n.length)})),{userEvent:"input.complete"})}const Ms=new WeakMap;function Ya(f){if(!Array.isArray(f))return f;let n=Ms.get(f);return n||Ms.set(f,n=di(f)),n}const Ys=O.Py.define(),jo=O.Py.define();class vo{constructor(n){this.pattern=n,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let p=0;p<n.length;){let b=(0,O.gm)(n,p),P=(0,O.nZ)(b);this.chars.push(b);let W=n.slice(p,p+P),le=W.toUpperCase();this.folded.push((0,O.gm)(le==W?W.toLowerCase():le,0)),p+=P}this.astral=n.length!=this.chars.length}match(n){if(this.pattern.length==0)return[-100];if(n.length<this.pattern.length)return null;let{chars:p,folded:b,any:P,precise:W,byWord:le}=this;if(p.length==1){let Ui=(0,O.gm)(n,0),ga=(0,O.nZ)(Ui),ps=ga==n.length?0:-100;if(Ui!=p[0])if(Ui==b[0])ps+=-200;else return null;return[ps,0,ga]}let Ae=n.indexOf(this.pattern);if(Ae==0)return[n.length==this.pattern.length?0:-100,0,this.pattern.length];let $e=p.length,yt=0;if(Ae<0){for(let Ui=0,ga=Math.min(n.length,200);Ui<ga&&yt<$e;){let ps=(0,O.gm)(n,Ui);(ps==p[yt]||ps==b[yt])&&(P[yt++]=Ui),Ui+=(0,O.nZ)(ps)}if(yt<$e)return null}let Tt=0,er=0,Gr=!1,Nn=0,Wi=-1,sa=-1,tl=/[a-z]/.test(n),Ja=!0;for(let Ui=0,ga=Math.min(n.length,200),ps=0;Ui<ga&&er<$e;){let Po=(0,O.gm)(n,Ui);Ae<0&&(Tt<$e&&Po==p[Tt]&&(W[Tt++]=Ui),Nn<$e&&(Po==p[Nn]||Po==b[Nn]?(Nn==0&&(Wi=Ui),sa=Ui+1,Nn++):Nn=0));let Aa,Pa=Po<255?Po>=48&&Po<=57||Po>=97&&Po<=122?2:Po>=65&&Po<=90?1:0:(Aa=(0,O.bg)(Po))!=Aa.toLowerCase()?1:Aa!=Aa.toUpperCase()?2:0;(!Ui||Pa==1&&tl||ps==0&&Pa!=0)&&(p[er]==Po||b[er]==Po&&(Gr=!0)?le[er++]=Ui:le.length&&(Ja=!1)),ps=Pa,Ui+=(0,O.nZ)(Po)}return er==$e&&le[0]==0&&Ja?this.result(-100+(Gr?-200:0),le,n):Nn==$e&&Wi==0?[-200-n.length+(sa==n.length?0:-100),0,sa]:Ae>-1?[-700-n.length,Ae,Ae+this.pattern.length]:Nn==$e?[-200+-700-n.length,Wi,sa]:er==$e?this.result(-100+(Gr?-200:0)+-700+(Ja?0:-1100),le,n):p.length==2?null:this.result((P[0]?-700:0)+-200+-1100,P,n)}result(n,p,b){let P=[n-b.length],W=1;for(let le of p){let Ae=le+(this.astral?(0,O.nZ)((0,O.gm)(b,le)):1);W>1&&P[W-1]==le?P[W-1]=Ae:(P[W++]=le,P[W++]=Ae)}return P}}const eo=O.r$.define({combine(f){return(0,O.BO)(f,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Xs,compareCompletions:(n,p)=>n.label.localeCompare(p.label),interactionDelay:75},{defaultKeymap:(n,p)=>n&&p,closeOnBlur:(n,p)=>n&&p,icons:(n,p)=>n&&p,tooltipClass:(n,p)=>b=>as(n(b),p(b)),optionClass:(n,p)=>b=>as(n(b),p(b)),addToOptions:(n,p)=>n.concat(p)})}});function as(f,n){return f?n?f+" "+n:f:n}function Xs(f,n,p,b,P){let W=f.textDirection==D.Nm.RTL,le=W,Ae=!1,$e="top",yt,Tt,er=n.left-P.left,Gr=P.right-n.right,Nn=b.right-b.left,Wi=b.bottom-b.top;if(le&&er<Math.min(Nn,Gr)?le=!1:!le&&Gr<Math.min(Nn,er)&&(le=!0),Nn<=(le?er:Gr))yt=Math.max(P.top,Math.min(p.top,P.bottom-Wi))-n.top,Tt=Math.min(400,le?er:Gr);else{Ae=!0,Tt=Math.min(400,(W?n.right:P.right-n.left)-30);let sa=P.bottom-n.bottom;sa>=Wi||sa>n.top?yt=p.bottom-n.top:($e="bottom",yt=n.bottom-p.top)}return{style:`${$e}: ${yt}px; max-width: ${Tt}px`,class:"cm-completionInfo-"+(Ae?W?"left-narrow":"right-narrow":le?"left":"right")}}function No(f,n="option"){return p=>{let b=p.state.field(Li,!1);if(!b||!b.open||b.open.disabled||Date.now()-b.open.timestamp<p.state.facet(eo).interactionDelay)return!1;let P=1,W;n=="page"&&(W=(0,D.gB)(p,b.open.tooltip))&&(P=Math.max(2,Math.floor(W.dom.offsetHeight/W.dom.querySelector("li").offsetHeight)-1));let{length:le}=b.open.options,Ae=b.open.selected>-1?b.open.selected+P*(f?1:-1):f?0:le-1;return Ae<0?Ae=n=="page"?0:le-1:Ae>=le&&(Ae=n=="page"?le-1:0),p.dispatch({effects:ua.of(Ae)}),!0}}const Wa=f=>{let n=f.state.field(Li,!1);return f.state.readOnly||!n||!n.open||n.open.selected<0||Date.now()-n.open.timestamp<f.state.facet(eo).interactionDelay?!1:n.open.disabled?!0:Sa(f,n.open.options[n.open.selected])},Ta=f=>f.state.field(Li,!1)?(f.dispatch({effects:Ys.of(!0)}),!0):!1,$s=f=>{let n=f.state.field(Li,!1);return!n||!n.active.some(p=>p.state!=0)?!1:(f.dispatch({effects:jo.of(null)}),!0)};class Es{constructor(n,p){this.active=n,this.context=p,this.time=Date.now(),this.updates=[],this.done=void 0}}const ba=50,Lo=50,Za=1e3,_a=D.lg.fromClass(class{constructor(f){this.view=f,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let n of f.state.field(Li).active)n.state==1&&this.startQuery(n)}update(f){let n=f.state.field(Li);if(!f.selectionSet&&!f.docChanged&&f.startState.field(Li)==n)return;let p=f.transactions.some(b=>(b.selection||b.docChanged)&&!Go(b));for(let b=0;b<this.running.length;b++){let P=this.running[b];if(p||P.updates.length+f.transactions.length>Lo&&Date.now()-P.time>Za){for(let W of P.context.abortListeners)try{W()}catch(le){(0,D.OO)(this.view.state,le)}P.context.abortListeners=null,this.running.splice(b--,1)}else P.updates.push(...f.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some(b=>b.state==1&&!this.running.some(P=>P.active.source==b.source))?setTimeout(()=>this.startUpdate(),ba):-1,this.composing!=0)for(let b of f.transactions)Go(b)=="input"?this.composing=2:this.composing==2&&b.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:f}=this.view,n=f.field(Li);for(let p of n.active)p.state==1&&!this.running.some(b=>b.active.source==p.source)&&this.startQuery(p)}startQuery(f){let{state:n}=this.view,p=Vn(n),b=new Hr(n,p,f.explicitPos==p),P=new Es(f,b);this.running.push(P),Promise.resolve(f.source(b)).then(W=>{P.context.aborted||(P.done=W||null,this.scheduleAccept())},W=>{this.view.dispatch({effects:jo.of(null)}),(0,D.OO)(this.view.state,W)})}scheduleAccept(){this.running.every(f=>f.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),ba))}accept(){var f;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let n=[],p=this.view.state.facet(eo);for(let b=0;b<this.running.length;b++){let P=this.running[b];if(P.done===void 0)continue;if(this.running.splice(b--,1),P.done){let le=new us(P.active.source,P.active.explicitPos,P.done,P.done.from,(f=P.done.to)!==null&&f!==void 0?f:Vn(P.updates.length?P.updates[0].startState:this.view.state));for(let Ae of P.updates)le=le.update(Ae,p);if(le.hasResult()){n.push(le);continue}}let W=this.view.state.field(Li).active.find(le=>le.source==P.active.source);if(W&&W.state==1)if(P.done==null){let le=new io(P.active.source,0);for(let Ae of P.updates)le=le.update(Ae,p);le.state!=1&&n.push(le)}else this.startQuery(W)}n.length&&this.view.dispatch({effects:Fs.of(n)})}},{eventHandlers:{blur(f){let n=this.view.state.field(Li,!1);if(n&&n.tooltip&&this.view.state.facet(eo).closeOnBlur){let p=n.open&&(0,D.gB)(this.view,n.open.tooltip);(!p||!p.dom.contains(f.relatedTarget))&&this.view.dispatch({effects:jo.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Ys.of(!1)}),20),this.composing=0}}});function Sa(f,n){const p=n.completion.apply||n.completion.label;let b=f.state.field(Li).active.find(P=>P.source==n.source);return b instanceof us?(typeof p=="string"?f.dispatch(Object.assign(Object.assign({},Jo(f.state,p,b.from,b.to)),{annotations:Gs.of(n.completion)})):p(f,n.completion,b.from,b.to),!0):!1}function ls(f){let n=f.addToOptions.slice();return f.icons&&n.push({render(p){let b=document.createElement("div");return b.classList.add("cm-completionIcon"),p.type&&b.classList.add(...p.type.split(/\s+/g).map(P=>"cm-completionIcon-"+P)),b.setAttribute("aria-hidden","true"),b},position:20}),n.push({render(p,b,P){let W=document.createElement("span");W.className="cm-completionLabel";let{label:le}=p,Ae=0;for(let $e=1;$e<P.length;){let yt=P[$e++],Tt=P[$e++];yt>Ae&&W.appendChild(document.createTextNode(le.slice(Ae,yt)));let er=W.appendChild(document.createElement("span"));er.appendChild(document.createTextNode(le.slice(yt,Tt))),er.className="cm-completionMatchedText",Ae=Tt}return Ae<le.length&&W.appendChild(document.createTextNode(le.slice(Ae))),W},position:50},{render(p){if(!p.detail)return null;let b=document.createElement("span");return b.className="cm-completionDetail",b.textContent=p.detail,b},position:80}),n.sort((p,b)=>p.position-b.position).map(p=>p.render)}function Is(f,n,p){if(f<=p)return{from:0,to:f};if(n<0&&(n=0),n<=f>>1){let P=Math.floor(n/p);return{from:P*p,to:(P+1)*p}}let b=Math.floor((f-n)/p);return{from:f-(b+1)*p,to:f-b*p}}class uo{constructor(n,p){this.view=n,this.stateField=p,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:Ae=>this.placeInfo(Ae),key:this},this.space=null,this.currentClass="";let b=n.state.field(p),{options:P,selected:W}=b.open,le=n.state.facet(eo);this.optionContent=ls(le),this.optionClass=le.optionClass,this.tooltipClass=le.tooltipClass,this.range=Is(P.length,W,le.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(n.state),this.dom.addEventListener("mousedown",Ae=>{for(let $e=Ae.target,yt;$e&&$e!=this.dom;$e=$e.parentNode)if($e.nodeName=="LI"&&(yt=/-(\d+)$/.exec($e.id))&&+yt[1]<P.length){Sa(n,P[+yt[1]]),Ae.preventDefault();return}}),this.dom.addEventListener("focusout",Ae=>{let $e=n.state.field(this.stateField,!1);$e&&$e.tooltip&&n.state.facet(eo).closeOnBlur&&Ae.relatedTarget!=n.contentDOM&&n.dispatch({effects:jo.of(null)})}),this.list=this.dom.appendChild(this.createListBox(P,b.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(n){var p,b,P;let W=n.state.field(this.stateField),le=n.startState.field(this.stateField);this.updateTooltipClass(n.state),W!=le&&(this.updateSel(),((p=W.open)===null||p===void 0?void 0:p.disabled)!=((b=le.open)===null||b===void 0?void 0:b.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((P=W.open)===null||P===void 0)&&P.disabled)))}updateTooltipClass(n){let p=this.tooltipClass(n);if(p!=this.currentClass){for(let b of this.currentClass.split(" "))b&&this.dom.classList.remove(b);for(let b of p.split(" "))b&&this.dom.classList.add(b);this.currentClass=p}}positioned(n){this.space=n,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let n=this.view.state.field(this.stateField),p=n.open;if((p.selected>-1&&p.selected<this.range.from||p.selected>=this.range.to)&&(this.range=Is(p.options.length,p.selected,this.view.state.facet(eo).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(p.options,n.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(p.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:b}=p.options[p.selected],{info:P}=b;if(!P)return;let W=typeof P=="string"?document.createTextNode(P):P(b);if(!W)return;"then"in W?W.then(le=>{le&&this.view.state.field(this.stateField,!1)==n&&this.addInfoPane(le)}).catch(le=>(0,D.OO)(this.view.state,le,"completion info")):this.addInfoPane(W)}}addInfoPane(n){let p=this.info=document.createElement("div");p.className="cm-tooltip cm-completionInfo",p.appendChild(n),this.dom.appendChild(p),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(n){let p=null;for(let b=this.list.firstChild,P=this.range.from;b;b=b.nextSibling,P++)b.nodeName!="LI"||!b.id?P--:P==n?b.hasAttribute("aria-selected")||(b.setAttribute("aria-selected","true"),p=b):b.hasAttribute("aria-selected")&&b.removeAttribute("aria-selected");return p&&aa(this.list,p),p}measureInfo(){let n=this.dom.querySelector("[aria-selected]");if(!n||!this.info)return null;let p=this.dom.getBoundingClientRect(),b=this.info.getBoundingClientRect(),P=n.getBoundingClientRect(),W=this.space;if(!W){let le=this.dom.ownerDocument.defaultView||window;W={left:0,top:0,right:le.innerWidth,bottom:le.innerHeight}}return P.top>Math.min(W.bottom,p.bottom)-10||P.bottom<Math.max(W.top,p.top)+10?null:this.view.state.facet(eo).positionInfo(this.view,p,P,b,W)}placeInfo(n){this.info&&(n?(n.style&&(this.info.style.cssText=n.style),this.info.className="cm-tooltip cm-completionInfo "+(n.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(n,p,b){const P=document.createElement("ul");P.id=p,P.setAttribute("role","listbox"),P.setAttribute("aria-expanded","true"),P.setAttribute("aria-label",this.view.state.phrase("Completions"));let W=null;for(let le=b.from;le<b.to;le++){let{completion:Ae,match:$e}=n[le],{section:yt}=Ae;if(yt){let Gr=typeof yt=="string"?yt:yt.name;if(Gr!=W&&(le>b.from||b.from==0))if(W=Gr,typeof yt!="string"&&yt.header)P.appendChild(yt.header(yt));else{let Nn=P.appendChild(document.createElement("completion-section"));Nn.textContent=Gr}}const Tt=P.appendChild(document.createElement("li"));Tt.id=p+"-"+le,Tt.setAttribute("role","option");let er=this.optionClass(Ae);er&&(Tt.className=er);for(let Gr of this.optionContent){let Nn=Gr(Ae,this.view.state,$e);Nn&&Tt.appendChild(Nn)}}return b.from&&P.classList.add("cm-completionListIncompleteTop"),b.to<n.length&&P.classList.add("cm-completionListIncompleteBottom"),P}}function ws(f){return n=>new uo(n,f)}function aa(f,n){let p=f.getBoundingClientRect(),b=n.getBoundingClientRect();b.top<p.top?f.scrollTop-=p.top-b.top:b.bottom>p.bottom&&(f.scrollTop+=b.bottom-p.bottom)}function la(f){return(f.boost||0)*100+(f.apply?10:0)+(f.info?5:0)+(f.type?1:0)}function Rs(f,n){let p=[],b=null,P=$e=>{p.push($e);let{section:yt}=$e.completion;if(yt){b||(b=[]);let Tt=typeof yt=="string"?yt:yt.name;b.some(er=>er.name==Tt)||b.push(typeof yt=="string"?{name:Tt}:yt)}};for(let $e of f)if($e.hasResult())if($e.result.filter===!1){let yt=$e.result.getMatch;for(let Tt of $e.result.options){let er=[1e9-p.length];if(yt)for(let Gr of yt(Tt))er.push(Gr);P(new jn(Tt,$e.source,er,er[0]))}}else{let yt=new vo(n.sliceDoc($e.from,$e.to)),Tt;for(let er of $e.result.options)(Tt=yt.match(er.label))&&P(new jn(er,$e.source,Tt,Tt[0]+(er.boost||0)))}if(b){let $e=Object.create(null),yt=0,Tt=(er,Gr)=>{var Nn,Wi;return((Nn=er.rank)!==null&&Nn!==void 0?Nn:1e9)-((Wi=Gr.rank)!==null&&Wi!==void 0?Wi:1e9)||(er.name<Gr.name?-1:1)};for(let er of b.sort(Tt))yt-=1e5,$e[er.name]=yt;for(let er of p){let{section:Gr}=er.completion;Gr&&(er.score+=$e[typeof Gr=="string"?Gr:Gr.name])}}let W=[],le=null,Ae=n.facet(eo).compareCompletions;for(let $e of p.sort((yt,Tt)=>Tt.score-yt.score||Ae(yt.completion,Tt.completion)))!le||le.label!=$e.completion.label||le.detail!=$e.completion.detail||le.type!=null&&$e.completion.type!=null&&le.type!=$e.completion.type||le.apply!=$e.completion.apply?W.push($e):la($e.completion)>la(le)&&(W[W.length-1]=$e),le=$e.completion;return W}class Os{constructor(n,p,b,P,W,le){this.options=n,this.attrs=p,this.tooltip=b,this.timestamp=P,this.selected=W,this.disabled=le}setSelected(n,p){return n==this.selected||n>=this.options.length?this:new Os(this.options,Ea(p,n),this.tooltip,this.timestamp,n,this.disabled)}static build(n,p,b,P,W){let le=Rs(n,p);if(!le.length)return P&&n.some($e=>$e.state==1)?new Os(P.options,P.attrs,P.tooltip,P.timestamp,P.selected,!0):null;let Ae=p.facet(eo).selectOnOpen?0:-1;if(P&&P.selected!=Ae&&P.selected!=-1){let $e=P.options[P.selected].completion;for(let yt=0;yt<le.length;yt++)if(le[yt].completion==$e){Ae=yt;break}}return new Os(le,Ea(b,Ae),{pos:n.reduce(($e,yt)=>yt.hasResult()?Math.min($e,yt.from):$e,1e8),create:ws(Li),above:W.aboveCursor},P?P.timestamp:Date.now(),Ae,!1)}map(n){return new Os(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:n.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Bo{constructor(n,p,b){this.active=n,this.id=p,this.open=b}static start(){return new Bo(qs,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(n){let{state:p}=n,b=p.facet(eo),W=(b.override||p.languageDataAt("autocomplete",Vn(p)).map(Ya)).map(Ae=>(this.active.find(yt=>yt.source==Ae)||new io(Ae,this.active.some(yt=>yt.state!=0)?1:0)).update(n,b));W.length==this.active.length&&W.every((Ae,$e)=>Ae==this.active[$e])&&(W=this.active);let le=this.open;le&&n.docChanged&&(le=le.map(n.changes)),n.selection||W.some(Ae=>Ae.hasResult()&&n.changes.touchesRange(Ae.from,Ae.to))||!Qs(W,this.active)?le=Os.build(W,p,this.id,le,b):le&&le.disabled&&!W.some(Ae=>Ae.state==1)&&(le=null),!le&&W.every(Ae=>Ae.state!=1)&&W.some(Ae=>Ae.hasResult())&&(W=W.map(Ae=>Ae.hasResult()?new io(Ae.source,0):Ae));for(let Ae of n.effects)Ae.is(ua)&&(le=le&&le.setSelected(Ae.value,this.id));return W==this.active&&le==this.open?this:new Bo(W,this.id,le)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Ua}}function Qs(f,n){if(f==n)return!0;for(let p=0,b=0;;){for(;p<f.length&&!f[p].hasResult;)p++;for(;b<n.length&&!n[b].hasResult;)b++;let P=p==f.length,W=b==n.length;if(P||W)return P==W;if(f[p++].result!=n[b++].result)return!1}}const Ua={"aria-autocomplete":"list"};function Ea(f,n){let p={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":f};return n>-1&&(p["aria-activedescendant"]=f+"-"+n),p}const qs=[];function Go(f){return f.isUserEvent("input.type")?"input":f.isUserEvent("delete.backward")?"delete":null}class io{constructor(n,p,b=-1){this.source=n,this.state=p,this.explicitPos=b}hasResult(){return!1}update(n,p){let b=Go(n),P=this;b?P=P.handleUserEvent(n,b,p):n.docChanged?P=P.handleChange(n):n.selection&&P.state!=0&&(P=new io(P.source,0));for(let W of n.effects)if(W.is(Ys))P=new io(P.source,1,W.value?Vn(n.state):-1);else if(W.is(jo))P=new io(P.source,0);else if(W.is(Fs))for(let le of W.value)le.source==P.source&&(P=le);return P}handleUserEvent(n,p,b){return p=="delete"||!b.activateOnTyping?this.map(n.changes):new io(this.source,1)}handleChange(n){return n.changes.touchesRange(Vn(n.startState))?new io(this.source,0):this.map(n.changes)}map(n){return n.empty||this.explicitPos<0?this:new io(this.source,this.state,n.mapPos(this.explicitPos))}}class us extends io{constructor(n,p,b,P,W){super(n,2,p),this.result=b,this.from=P,this.to=W}hasResult(){return!0}handleUserEvent(n,p,b){var P;let W=n.changes.mapPos(this.from),le=n.changes.mapPos(this.to,1),Ae=Vn(n.state);if((this.explicitPos<0?Ae<=W:Ae<this.from)||Ae>le||p=="delete"&&Vn(n.startState)==this.from)return new io(this.source,p=="input"&&b.activateOnTyping?1:0);let $e=this.explicitPos<0?-1:n.changes.mapPos(this.explicitPos),yt;return Xa(this.result.validFor,n.state,W,le)?new us(this.source,$e,this.result,W,le):this.result.update&&(yt=this.result.update(this.result,W,le,new Hr(n.state,Ae,$e>=0)))?new us(this.source,$e,yt,yt.from,(P=yt.to)!==null&&P!==void 0?P:Vn(n.state)):new io(this.source,1,$e)}handleChange(n){return n.changes.touchesRange(this.from,this.to)?new io(this.source,0):this.map(n.changes)}map(n){return n.empty?this:new us(this.source,this.explicitPos<0?-1:n.mapPos(this.explicitPos),this.result,n.mapPos(this.from),n.mapPos(this.to,1))}}function Xa(f,n,p,b){if(!f)return!1;let P=n.sliceDoc(p,b);return typeof f=="function"?f(P,p,b,n):ks(f,!0).test(P)}const Fs=O.Py.define({map(f,n){return f.map(p=>p.map(n))}}),ua=O.Py.define(),Li=O.QQ.define({create(){return Bo.start()},update(f,n){return f.update(n)},provide:f=>[D.hJ.from(f,n=>n.tooltip),D.tk.contentAttributes.from(f,n=>n.attrs)]}),Va=D.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class oo{constructor(n,p,b,P){this.field=n,this.line=p,this.from=b,this.to=P}}class ea{constructor(n,p,b){this.field=n,this.from=p,this.to=b}map(n){let p=n.mapPos(this.from,-1,MapMode.TrackDel),b=n.mapPos(this.to,1,MapMode.TrackDel);return p==null||b==null?null:new ea(this.field,p,b)}}class Gi{constructor(n,p){this.lines=n,this.fieldPositions=p}instantiate(n,p){let b=[],P=[p],W=n.doc.lineAt(p),le=/^\s*/.exec(W.text)[0];for(let $e of this.lines){if(b.length){let yt=le,Tt=/^\t*/.exec($e)[0].length;for(let er=0;er<Tt;er++)yt+=n.facet(indentUnit);P.push(p+yt.length-Tt),$e=yt+$e.slice(Tt)}b.push($e),p+=$e.length+1}let Ae=this.fieldPositions.map($e=>new ea($e.field,P[$e.line]+$e.from,P[$e.line]+$e.to));return{text:b,ranges:Ae}}static parse(n){let p=[],b=[],P=[],W;for(let le of n.split(/\r\n?|\n/)){for(;W=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(le);){let Ae=W[1]?+W[1]:null,$e=W[2]||W[3]||"",yt=-1;for(let Tt=0;Tt<p.length;Tt++)(Ae!=null?p[Tt].seq==Ae:$e&&p[Tt].name==$e)&&(yt=Tt);if(yt<0){let Tt=0;for(;Tt<p.length&&(Ae==null||p[Tt].seq!=null&&p[Tt].seq<Ae);)Tt++;p.splice(Tt,0,{seq:Ae,name:$e}),yt=Tt;for(let er of P)er.field>=yt&&er.field++}P.push(new oo(yt,b.length,W.index,W.index+$e.length)),le=le.slice(0,W.index)+$e+le.slice(W.index+W[0].length)}for(let Ae;Ae=/\\([{}])/.exec(le);){le=le.slice(0,Ae.index)+Ae[1]+le.slice(Ae.index+Ae[0].length);for(let $e of P)$e.line==b.length&&$e.from>Ae.index&&($e.from--,$e.to--)}b.push(le)}return new Gi(b,P)}}let Da=D.p.widget({widget:new class extends D.l9{toDOM(){let f=document.createElement("span");return f.className="cm-snippetFieldPosition",f}ignoreEvent(){return!1}}}),Yo=D.p.mark({class:"cm-snippetField"});class ta{constructor(n,p){this.ranges=n,this.active=p,this.deco=D.p.set(n.map(b=>(b.from==b.to?Da:Yo).range(b.from,b.to)))}map(n){let p=[];for(let b of this.ranges){let P=b.map(n);if(!P)return null;p.push(P)}return new ta(p,this.active)}selectionInsideField(n){return n.ranges.every(p=>this.ranges.some(b=>b.field==this.active&&b.from<=p.from&&b.to>=p.to))}}const Wo=O.Py.define({map(f,n){return f&&f.map(n)}}),ka=O.Py.define(),Co=O.QQ.define({create(){return null},update(f,n){for(let p of n.effects){if(p.is(Wo))return p.value;if(p.is(ka)&&f)return new ta(f.ranges,p.value)}return f&&n.docChanged&&(f=f.map(n.changes)),f&&n.selection&&!f.selectionInsideField(n.selection)&&(f=null),f},provide:f=>D.tk.decorations.from(f,n=>n?n.deco:D.p.none)});function Yi(f,n){return O.jT.create(f.filter(p=>p.field==n).map(p=>O.jT.range(p.from,p.to)))}function cs(f){let n=Gi.parse(f);return(p,b,P,W)=>{let{text:le,ranges:Ae}=n.instantiate(p.state,P),$e={changes:{from:P,to:W,insert:Text.of(le)},scrollIntoView:!0,annotations:b?Gs.of(b):void 0};if(Ae.length&&($e.selection=Yi(Ae,0)),Ae.length>1){let yt=new ta(Ae,0),Tt=$e.effects=[Wo.of(yt)];p.state.field(Co,!1)===void 0&&Tt.push(StateEffect.appendConfig.of([Co,fs,ds,Va]))}p.dispatch(p.state.update($e))}}function Xo(f){return({state:n,dispatch:p})=>{let b=n.field(Co,!1);if(!b||f<0&&b.active==0)return!1;let P=b.active+f,W=f>0&&!b.ranges.some(le=>le.field==P+f);return p(n.update({selection:Yi(b.ranges,P),effects:Wo.of(W?null:new ta(b.ranges,P))})),!0}}const Ma=({state:f,dispatch:n})=>f.field(Co,!1)?(n(f.update({effects:Wo.of(null)})),!0):!1,xs=Xo(1),ca=Xo(-1);function Ka(f){let n=f.field(Co,!1);return!!(n&&n.ranges.some(p=>p.field==n.active+1))}function Cs(f){let n=f.field(Co,!1);return!!(n&&n.active>0)}const wa=[{key:"Tab",run:xs,shift:ca},{key:"Escape",run:Ma}],xi=O.r$.define({combine(f){return f.length?f[0]:wa}}),fs=O.Wl.highest(D.$f.compute([xi],f=>f.facet(xi)));function js(f,n){return Object.assign(Object.assign({},n),{apply:cs(f)})}const ds=D.tk.domEventHandlers({mousedown(f,n){let p=n.state.field(Co,!1),b;if(!p||(b=n.posAtCoords({x:f.clientX,y:f.clientY}))==null)return!1;let P=p.ranges.find(W=>W.from<=b&&W.to>=b);return!P||P.field==p.active?!1:(n.dispatch({selection:Yi(p.ranges,P.field),effects:Wo.of(p.ranges.some(W=>W.field>P.field)?new ta(p.ranges,P.field):null)}),!0)}});function $a(f){let n=f.replace(/[\\[.+*?(){|^$]/g,"\\$&");try{return new RegExp(`[\\p{Alphabetic}\\p{Number}_${n}]+`,"ug")}catch{return new RegExp(`[w${n}]`,"g")}}function Ns(f,n){return new RegExp(n(f.source),f.unicode?"u":"")}const Ls=null;function fa(f){return Ls[f]||(Ls[f]=new WeakMap)}function Qo(f,n,p,b,P){for(let W=f.iterLines(),le=0;!W.next().done;){let{value:Ae}=W,$e;for(n.lastIndex=0;$e=n.exec(Ae);)if(!b[$e[0]]&&le+$e.index!=P&&(p.push({type:"text",label:$e[0]}),b[$e[0]]=!0,p.length>=2e3))return;le+=Ae.length+1}}function Bs(f,n,p,b,P){let W=f.length>=1e3,le=W&&n.get(f);if(le)return le;let Ae=[],$e=Object.create(null);if(f.children){let yt=0;for(let Tt of f.children){if(Tt.length>=1e3)for(let er of Bs(Tt,n,p,b-yt,P-yt))$e[er.label]||($e[er.label]=!0,Ae.push(er));else Qo(Tt,p,Ae,$e,P-yt);yt+=Tt.length+1}}else Qo(f,p,Ae,$e,P);return W&&Ae.length<2e3&&n.set(f,Ae),Ae}const za=f=>{let n=f.state.languageDataAt("wordChars",f.pos).join(""),p=$a(n),b=f.matchBefore(Ns(p,le=>le+"$"));if(!b&&!f.explicit)return null;let P=b?b.from:f.pos,W=Bs(f.state.doc,fa(n),p,5e4,P);return{from:P,options:W,validFor:Ns(p,le=>"^"+le)}},hs={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},bo=O.Py.define({map(f,n){let p=n.mapPos(f,-1,O.gc.TrackAfter);return p==null?void 0:p}}),qo=new class extends O.uU{};qo.startSide=1,qo.endSide=-1;const da=O.QQ.define({create(){return O.Xs.empty},update(f,n){if(n.selection){let p=n.state.doc.lineAt(n.selection.main.head).from,b=n.startState.doc.lineAt(n.startState.selection.main.head).from;p!=n.changes.mapPos(b,-1)&&(f=O.Xs.empty)}f=f.map(n.changes);for(let p of n.effects)p.is(bo)&&(f=f.update({add:[qo.range(p.value,p.value+1)]}));return f}});function Oa(){return[Oe,da]}const Ws="()[]{}<>";function C(f){for(let n=0;n<Ws.length;n+=2)if(Ws.charCodeAt(n)==f)return Ws.charAt(n+1);return(0,O.bg)(f<128?f:f+1)}function U(f,n){return f.languageDataAt("closeBrackets",n)[0]||hs}const ie=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Oe=D.tk.inputHandler.of((f,n,p,b)=>{if((ie?f.composing:f.compositionStarted)||f.state.readOnly)return!1;let P=f.state.selection.main;if(b.length>2||b.length==2&&(0,O.nZ)((0,O.gm)(b,0))==1||n!=P.from||p!=P.to)return!1;let W=at(f.state,b);return W?(f.dispatch(W),!0):!1}),Re=[{key:"Backspace",run:({state:f,dispatch:n})=>{if(f.readOnly)return!1;let b=U(f,f.selection.main.head).brackets||hs.brackets,P=null,W=f.changeByRange(le=>{if(le.empty){let Ae=or(f.doc,le.head);for(let $e of b)if($e==Ae&&Ct(f.doc,le.head)==C((0,O.gm)($e,0)))return{changes:{from:le.head-$e.length,to:le.head+$e.length},range:O.jT.cursor(le.head-$e.length)}}return{range:P=le}});return P||n(f.update(W,{scrollIntoView:!0,userEvent:"delete.backward"})),!P}}];function at(f,n){let p=U(f,f.selection.main.head),b=p.brackets||hs.brackets;for(let P of b){let W=C((0,O.gm)(P,0));if(n==P)return W==P?Br(f,P,b.indexOf(P+P+P)>-1,p):vr(f,P,W,p.before||hs.before);if(n==W&&It(f,f.selection.main.from))return Ar(f,P,W)}return null}function It(f,n){let p=!1;return f.field(da).between(0,f.doc.length,b=>{b==n&&(p=!0)}),p}function Ct(f,n){let p=f.sliceString(n,n+2);return p.slice(0,(0,O.nZ)((0,O.gm)(p,0)))}function or(f,n){let p=f.sliceString(n-2,n);return(0,O.nZ)((0,O.gm)(p,0))==p.length?p:p.slice(1)}function vr(f,n,p,b){let P=null,W=f.changeByRange(le=>{if(!le.empty)return{changes:[{insert:n,from:le.from},{insert:p,from:le.to}],effects:bo.of(le.to+n.length),range:O.jT.range(le.anchor+n.length,le.head+n.length)};let Ae=Ct(f.doc,le.head);return!Ae||/\s/.test(Ae)||b.indexOf(Ae)>-1?{changes:{insert:n+p,from:le.head},effects:bo.of(le.head+n.length),range:O.jT.cursor(le.head+n.length)}:{range:P=le}});return P?null:f.update(W,{scrollIntoView:!0,userEvent:"input.type"})}function Ar(f,n,p){let b=null,P=f.changeByRange(W=>W.empty&&Ct(f.doc,W.head)==p?{changes:{from:W.head,to:W.head+p.length,insert:p},range:O.jT.cursor(W.head+p.length)}:b={range:W});return b?null:f.update(P,{scrollIntoView:!0,userEvent:"input.type"})}function Br(f,n,p,b){let P=b.stringPrefixes||hs.stringPrefixes,W=null,le=f.changeByRange(Ae=>{if(!Ae.empty)return{changes:[{insert:n,from:Ae.from},{insert:n,from:Ae.to}],effects:bo.of(Ae.to+n.length),range:O.jT.range(Ae.anchor+n.length,Ae.head+n.length)};let $e=Ae.head,yt=Ct(f.doc,$e),Tt;if(yt==n){if(Sn(f,$e))return{changes:{insert:n+n,from:$e},effects:bo.of($e+n.length),range:O.jT.cursor($e+n.length)};if(It(f,$e)){let Gr=p&&f.sliceDoc($e,$e+n.length*3)==n+n+n?n+n+n:n;return{changes:{from:$e,to:$e+Gr.length,insert:Gr},range:O.jT.cursor($e+Gr.length)}}}else{if(p&&f.sliceDoc($e-2*n.length,$e)==n+n&&(Tt=kn(f,$e-2*n.length,P))>-1&&Sn(f,Tt))return{changes:{insert:n+n+n+n,from:$e},effects:bo.of($e+n.length),range:O.jT.cursor($e+n.length)};if(f.charCategorizer($e)(yt)!=O.D0.Word&&kn(f,$e,P)>-1&&!Kn(f,$e,n,P))return{changes:{insert:n+n,from:$e},effects:bo.of($e+n.length),range:O.jT.cursor($e+n.length)}}return{range:W=Ae}});return W?null:f.update(le,{scrollIntoView:!0,userEvent:"input.type"})}function Sn(f,n){let p=(0,_.qz)(f).resolveInner(n+1);return p.parent&&p.from==n}function Kn(f,n,p,b){let P=(0,_.qz)(f).resolveInner(n,-1),W=b.reduce((le,Ae)=>Math.max(le,Ae.length),0);for(let le=0;le<5;le++){let Ae=f.sliceDoc(P.from,Math.min(P.to,P.from+p.length+W)),$e=Ae.indexOf(p);if(!$e||$e>-1&&b.indexOf(Ae.slice(0,$e))>-1){let Tt=P.firstChild;for(;Tt&&Tt.from==P.from&&Tt.to-Tt.from>p.length+$e;){if(f.sliceDoc(Tt.to-p.length,Tt.to)==p)return!1;Tt=Tt.firstChild}return!0}let yt=P.to==n&&P.parent;if(!yt)break;P=yt}return!1}function kn(f,n,p){let b=f.charCategorizer(n);if(b(f.sliceDoc(n-1,n))!=O.D0.Word)return n;for(let P of p){let W=n-P.length;if(f.sliceDoc(W,n)==P&&b(f.sliceDoc(W-1,W))!=O.D0.Word)return W}return-1}function Tn(f={}){return[Li,eo.of(f),_a,vi,Va]}const qn=[{key:"Ctrl-Space",run:Ta},{key:"Escape",run:$s},{key:"ArrowDown",run:No(!0)},{key:"ArrowUp",run:No(!1)},{key:"PageDown",run:No(!0,"page")},{key:"PageUp",run:No(!1,"page")},{key:"Enter",run:Wa}],vi=O.Wl.highest(D.$f.computeN([eo],f=>f.facet(eo).defaultKeymap?[qn]:[]));function co(f){let n=f.field(Li,!1);return n&&n.active.some(p=>p.state==1)?"pending":n&&n.active.some(p=>p.state!=0)?"active":null}const bi=new WeakMap;function so(f){var n;let p=(n=f.field(Li,!1))===null||n===void 0?void 0:n.open;if(!p||p.disabled)return[];let b=bi.get(p.options);return b||bi.set(p.options,b=p.options.map(P=>P.completion)),b}function Gn(f){var n;let p=(n=f.field(Li,!1))===null||n===void 0?void 0:n.open;return p&&!p.disabled&&p.selected>=0?p.options[p.selected].completion:null}function Bi(f){var n;let p=(n=f.field(Li,!1))===null||n===void 0?void 0:n.open;return p&&!p.disabled&&p.selected>=0?p.selected:null}function Zs(f){return ua.of(f)}class ha{constructor(n,p,b){this.from=n,this.to=p,this.diagnostic=b}}class Pn{constructor(n,p,b){this.diagnostics=n,this.panel=p,this.selected=b}static init(n,p,b){let P=n,W=b.facet(g).markerFilter;W&&(P=W(P));let le=D.p.set(P.map(Ae=>Ae.from==Ae.to||Ae.from==Ae.to-1&&b.doc.lineAt(Ae.from).to==Ae.from?D.p.widget({widget:new ut(Ae),diagnostic:Ae}).range(Ae.from):D.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+Ae.severity},diagnostic:Ae}).range(Ae.from,Ae.to)),!0);return new Pn(le,p,ra(le))}}function ra(f,n=null,p=0){let b=null;return f.between(p,1e9,(P,W,{spec:le})=>{if(!(n&&le.diagnostic!=n))return b=new ha(P,W,le.diagnostic),!1}),b}function ms(f,n){let p=f.startState.doc.lineAt(n.pos);return!!(f.effects.some(b=>b.is(es))||f.changes.touchesRange(p.from,p.to))}function Ia(f,n){return f.field(fo,!1)?n:n.concat(O.Py.appendConfig.of(ot))}function el(f,n){return{effects:Ia(f,[es.of(n)])}}const es=O.Py.define(),Ra=O.Py.define(),Fa=O.Py.define(),fo=O.QQ.define({create(){return new Pn(D.p.none,null,null)},update(f,n){if(n.docChanged){let p=f.diagnostics.map(n.changes),b=null;if(f.selected){let P=n.changes.mapPos(f.selected.from,1);b=ra(p,f.selected.diagnostic,P)||ra(p,null,P)}f=new Pn(p,f.panel,b)}for(let p of n.effects)p.is(es)?f=Pn.init(p.value,f.panel,n.state):p.is(Ra)?f=new Pn(f.diagnostics,p.value?Ot.open:null,f.selected):p.is(Fa)&&(f=new Pn(f.diagnostics,f.panel,p.value));return f},provide:f=>[D.mH.from(f,n=>n.panel),D.tk.decorations.from(f,n=>n.diagnostics)]});function Vr(f){let n=f.field(fo,!1);return n?n.diagnostics.size:0}const ma=D.p.mark({class:"cm-lintRange cm-lintRange-active"});function ja(f,n,p){let{diagnostics:b}=f.state.field(fo),P=[],W=2e8,le=0;b.between(n-(p<0?1:0),n+(p>0?1:0),($e,yt,{spec:Tt})=>{n>=$e&&n<=yt&&($e==yt||(n>$e||p>0)&&(n<yt||p<0))&&(P.push(Tt.diagnostic),W=Math.min($e,W),le=Math.max(yt,le))});let Ae=f.state.facet(g).tooltipFilter;return Ae&&(P=Ae(P)),P.length?{pos:W,end:le,above:f.state.doc.lineAt(W).to<le,create(){return{dom:Ao(f,P)}}}:null}function Ao(f,n){return an("ul",{class:"cm-tooltip-lint"},n.map(p=>tt(f,p,!1)))}const ul=f=>{let n=f.state.field(fo,!1);(!n||!n.panel)&&f.dispatch({effects:Ia(f.state,[Ra.of(!0)])});let p=(0,D.Sd)(f,Ot.open);return p&&p.dom.querySelector(".cm-panel-lint ul").focus(),!0},Ha=f=>{let n=f.state.field(fo,!1);return!n||!n.panel?!1:(f.dispatch({effects:Ra.of(!1)}),!0)},h=[{key:"Mod-Shift-m",run:ul,preventDefault:!0},{key:"F8",run:f=>{let n=f.state.field(fo,!1);if(!n)return!1;let p=f.state.selection.main,b=n.diagnostics.iter(p.to+1);return!b.value&&(b=n.diagnostics.iter(0),!b.value||b.from==p.from&&b.to==p.to)?!1:(f.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:!0}),!0)}}],x=null,g=O.r$.define({combine(f){return Object.assign({sources:f.map(n=>n.source)},(0,O.BO)(f.map(n=>n.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(n,p)=>n?p?b=>n(b)||p(b):n:p}))}});function L(f,n={}){return[g.of({source:f,config:n}),x,ot]}function pe(f){let n=f.plugin(x);n&&n.force()}function Qe(f){let n=[];if(f)e:for(let{name:p}of f){for(let b=0;b<p.length;b++){let P=p[b];if(/[a-zA-Z]/.test(P)&&!n.some(W=>W.toLowerCase()==P.toLowerCase())){n.push(P);continue e}}n.push("")}return n}function tt(f,n,p){var b;let P=p?Qe(n.actions):[];return an("li",{class:"cm-diagnostic cm-diagnostic-"+n.severity},an("span",{class:"cm-diagnosticText"},n.renderMessage?n.renderMessage():n.message),(b=n.actions)===null||b===void 0?void 0:b.map((W,le)=>{let Ae=!1,$e=Gr=>{if(Gr.preventDefault(),Ae)return;Ae=!0;let Nn=ra(f.state.field(fo).diagnostics,n);Nn&&W.apply(f,Nn.from,Nn.to)},{name:yt}=W,Tt=P[le]?yt.indexOf(P[le]):-1,er=Tt<0?yt:[yt.slice(0,Tt),an("u",yt.slice(Tt,Tt+1)),yt.slice(Tt+1)];return an("button",{type:"button",class:"cm-diagnosticAction",onclick:$e,onmousedown:$e,"aria-label":` Action: ${yt}${Tt<0?"":` (access key "${P[le]})"`}.`},er)}),n.source&&an("div",{class:"cm-diagnosticSource"},n.source))}class ut extends D.l9{constructor(n){super(),this.diagnostic=n}eq(n){return n.diagnostic==this.diagnostic}toDOM(){return an("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class wt{constructor(n,p){this.diagnostic=p,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=tt(n,p,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ot{constructor(n){this.view=n,this.items=[];let p=P=>{if(P.keyCode==27)Ha(this.view),this.view.focus();else if(P.keyCode==38||P.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(P.keyCode==40||P.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(P.keyCode==36)this.moveSelection(0);else if(P.keyCode==35)this.moveSelection(this.items.length-1);else if(P.keyCode==13)this.view.focus();else if(P.keyCode>=65&&P.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:W}=this.items[this.selectedIndex],le=Qe(W.actions);for(let Ae=0;Ae<le.length;Ae++)if(le[Ae].toUpperCase().charCodeAt(0)==P.keyCode){let $e=ra(this.view.state.field(fo).diagnostics,W);$e&&W.actions[Ae].apply(n,$e.from,$e.to)}}else return;P.preventDefault()},b=P=>{for(let W=0;W<this.items.length;W++)this.items[W].dom.contains(P.target)&&this.moveSelection(W)};this.list=an("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:p,onclick:b}),this.dom=an("div",{class:"cm-panel-lint"},this.list,an("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Ha(this.view)},"\xD7")),this.update()}get selectedIndex(){let n=this.view.state.field(fo).selected;if(!n)return-1;for(let p=0;p<this.items.length;p++)if(this.items[p].diagnostic==n.diagnostic)return p;return-1}update(){let{diagnostics:n,selected:p}=this.view.state.field(fo),b=0,P=!1,W=null;for(n.between(0,this.view.state.doc.length,(le,Ae,{spec:$e})=>{let yt=-1,Tt;for(let er=b;er<this.items.length;er++)if(this.items[er].diagnostic==$e.diagnostic){yt=er;break}yt<0?(Tt=new wt(this.view,$e.diagnostic),this.items.splice(b,0,Tt),P=!0):(Tt=this.items[yt],yt>b&&(this.items.splice(b,yt-b),P=!0)),p&&Tt.diagnostic==p.diagnostic?Tt.dom.hasAttribute("aria-selected")||(Tt.dom.setAttribute("aria-selected","true"),W=Tt):Tt.dom.hasAttribute("aria-selected")&&Tt.dom.removeAttribute("aria-selected"),b++});b<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)P=!0,this.items.pop();this.items.length==0&&(this.items.push(new wt(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),P=!0),W?(this.list.setAttribute("aria-activedescendant",W.id),this.view.requestMeasure({key:this,read:()=>({sel:W.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:le,panel:Ae})=>{le.top<Ae.top?this.list.scrollTop-=Ae.top-le.top:le.bottom>Ae.bottom&&(this.list.scrollTop+=le.bottom-Ae.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),P&&this.sync()}sync(){let n=this.list.firstChild;function p(){let b=n;n=b.nextSibling,b.remove()}for(let b of this.items)if(b.dom.parentNode==this.list){for(;n!=b.dom;)p();n=b.dom.nextSibling}else this.list.insertBefore(b.dom,n);for(;n;)p()}moveSelection(n){if(this.selectedIndex<0)return;let p=this.view.state.field(fo),b=ra(p.diagnostics,this.items[n].diagnostic);b&&this.view.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:!0,effects:Fa.of(b)})}static open(n){return new Ot(n)}}function a(f,n='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${n}>${encodeURIComponent(f)}</svg>')`}function e(f){return a(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${f}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const t=D.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:e("#d11")},".cm-lintRange-warning":{backgroundImage:e("orange")},".cm-lintRange-info":{backgroundImage:e("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class r extends D.SJ{constructor(n){super(),this.diagnostics=n,this.severity=n.reduce((p,b)=>{let P=b.severity;return P=="error"||P=="warning"&&p=="info"?P:p},"info")}toDOM(n){let p=document.createElement("div");p.className="cm-lint-marker cm-lint-marker-"+this.severity;let b=this.diagnostics,P=n.state.facet(dt).tooltipFilter;return P&&(b=P(b)),b.length&&(p.onmouseover=()=>v(n,p,b)),p}}function u(f,n){let p=b=>{let P=n.getBoundingClientRect();if(!(b.clientX>P.left-10&&b.clientX<P.right+10&&b.clientY>P.top-10&&b.clientY<P.bottom+10)){for(let W=b.target;W;W=W.parentNode)if(W.nodeType==1&&W.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",p),f.state.field(fe)&&f.dispatch({effects:de.of(null)})}};window.addEventListener("mousemove",p)}function v(f,n,p){function b(){let le=f.elementAtHeight(n.getBoundingClientRect().top+5-f.documentTop);f.coordsAtPos(le.from)&&f.dispatch({effects:de.of({pos:le.from,above:!1,create(){return{dom:Ao(f,p),getCoords:()=>n.getBoundingClientRect()}}})}),n.onmouseout=n.onmousemove=null,u(f,n)}let{hoverTime:P}=f.state.facet(dt),W=setTimeout(b,P);n.onmouseout=()=>{clearTimeout(W),n.onmouseout=n.onmousemove=null},n.onmousemove=()=>{clearTimeout(W),W=setTimeout(b,P)}}function A(f,n){let p=Object.create(null);for(let P of n){let W=f.lineAt(P.from);(p[W.from]||(p[W.from]=[])).push(P)}let b=[];for(let P in p)b.push(new r(p[P]).range(+P));return O.Xs.of(b,!0)}const B=(0,D.v5)({class:"cm-gutter-lint",markers:f=>f.state.field(G)}),G=O.QQ.define({create(){return O.Xs.empty},update(f,n){f=f.map(n.changes);let p=n.state.facet(dt).markerFilter;for(let b of n.effects)if(b.is(es)){let P=b.value;p&&(P=p(P||[])),f=A(n.state.doc,P.slice(0))}return f}}),de=O.Py.define(),fe=O.QQ.define({create(){return null},update(f,n){return f&&n.docChanged&&(f=ms(n,f)?null:Object.assign(Object.assign({},f),{pos:n.changes.mapPos(f.pos)})),n.effects.reduce((p,b)=>b.is(de)?b.value:p,f)},provide:f=>D.hJ.from(f)}),ke=D.tk.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:a('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:a('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:a('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),ot=[fo,D.tk.decorations.compute([fo],f=>{let{selected:n,panel:p}=f.field(fo);return!n||!p||n.from==n.to?D.p.none:D.p.set([ma.range(n.from,n.to)])}),(0,D.bF)(ja,{hideOn:ms}),t],dt=O.r$.define({combine(f){return(0,O.BO)(f,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function Pt(f={}){return[dt.of(f),G,B,ke,fe]}function zt(f,n){let p=f.field(fo,!1);if(p&&p.diagnostics.size)for(let b=RangeSet.iter([p.diagnostics]);b.value;b.next())n(b.value.spec.diagnostic,b.from,b.to)}var Zt=function(n){n===void 0&&(n={});var p=[];n.closeBracketsKeymap!==!1&&(p=p.concat(Re)),n.defaultKeymap!==!1&&(p=p.concat(tn)),n.searchKeymap!==!1&&(p=p.concat(Ds)),n.historyKeymap!==!1&&(p=p.concat(Xe)),n.foldKeymap!==!1&&(p=p.concat(_.e7)),n.completionKeymap!==!1&&(p=p.concat(qn)),n.lintKeymap!==!1&&(p=p.concat(h));var b=[];return n.lineNumbers!==!1&&b.push((0,D.Eu)()),n.highlightActiveLineGutter!==!1&&b.push((0,D.HQ)()),n.highlightSpecialChars!==!1&&b.push((0,D.AE)()),n.history!==!1&&b.push(ht()),n.foldGutter!==!1&&b.push((0,_.mi)()),n.drawSelection!==!1&&b.push((0,D.Uw)()),n.dropCursor!==!1&&b.push((0,D.qr)()),n.allowMultipleSelections!==!1&&b.push(O.yy.allowMultipleSelections.of(!0)),n.indentOnInput!==!1&&b.push((0,_.nY)()),n.syntaxHighlighting!==!1&&b.push((0,_.nF)(_.R_,{fallback:!0})),n.bracketMatching!==!1&&b.push((0,_.n$)()),n.closeBrackets!==!1&&b.push(Oa()),n.autocompletion!==!1&&b.push(Tn()),n.rectangularSelection!==!1&&b.push((0,D.Zs)()),n.crosshairCursor!==!1&&b.push((0,D.S2)()),n.highlightActiveLine!==!1&&b.push((0,D.ZO)()),n.highlightSelectionMatches!==!1&&b.push(Io()),n.tabSize&&typeof n.tabSize=="number"&&b.push(_.c.of(" ".repeat(n.tabSize))),b.concat([D.$f.of(p.flat())]).filter(Boolean)},sr=function(n){n===void 0&&(n={});var p=[];n.defaultKeymap!==!1&&(p=p.concat(defaultKeymap)),n.historyKeymap!==!1&&(p=p.concat(historyKeymap));var b=[];return n.highlightSpecialChars!==!1&&b.push(highlightSpecialChars()),n.history!==!1&&b.push(history()),n.drawSelection!==!1&&b.push(drawSelection()),n.syntaxHighlighting!==!1&&b.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),b.concat([keymap.of(p.flat())]).filter(Boolean)},qt=l(86253);const hn="#e5c07b",Dr="#e06c75",nn="#56b6c2",qr="#ffffff",hi="#abb2bf",to="#7d8799",ho="#61afef",As="#98c379",na="#d19a66",Us="#c678dd",Na="#21252b",Vs="#2c313a",ia="#282c34",oa="#353a42",xa="#3E4451",La="#528bff",Ca={chalky:hn,coral:Dr,cyan:nn,invalid:qr,ivory:hi,stone:to,malibu:ho,sage:As,whiskey:na,violet:Us,darkBackground:Na,highlightBackground:Vs,background:ia,tooltipBackground:oa,selection:xa,cursor:La},pa=D.tk.theme({"&":{color:hi,backgroundColor:ia},".cm-content":{caretColor:La},".cm-cursor, .cm-dropCursor":{borderLeftColor:La},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:xa},".cm-panels":{backgroundColor:Na,color:hi},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:ia,color:to,border:"none"},".cm-activeLineGutter":{backgroundColor:Vs},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:oa},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:oa,borderBottomColor:oa},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Vs,color:hi}}},{dark:!0}),Sl=_.Qf.define([{tag:qt.pJ.keyword,color:Us},{tag:[qt.pJ.name,qt.pJ.deleted,qt.pJ.character,qt.pJ.propertyName,qt.pJ.macroName],color:Dr},{tag:[qt.pJ.function(qt.pJ.variableName),qt.pJ.labelName],color:ho},{tag:[qt.pJ.color,qt.pJ.constant(qt.pJ.name),qt.pJ.standard(qt.pJ.name)],color:na},{tag:[qt.pJ.definition(qt.pJ.name),qt.pJ.separator],color:hi},{tag:[qt.pJ.typeName,qt.pJ.className,qt.pJ.number,qt.pJ.changed,qt.pJ.annotation,qt.pJ.modifier,qt.pJ.self,qt.pJ.namespace],color:hn},{tag:[qt.pJ.operator,qt.pJ.operatorKeyword,qt.pJ.url,qt.pJ.escape,qt.pJ.regexp,qt.pJ.link,qt.pJ.special(qt.pJ.string)],color:nn},{tag:[qt.pJ.meta,qt.pJ.comment],color:to},{tag:qt.pJ.strong,fontWeight:"bold"},{tag:qt.pJ.emphasis,fontStyle:"italic"},{tag:qt.pJ.strikethrough,textDecoration:"line-through"},{tag:qt.pJ.link,color:to,textDecoration:"underline"},{tag:qt.pJ.heading,fontWeight:"bold",color:Dr},{tag:[qt.pJ.atom,qt.pJ.bool,qt.pJ.special(qt.pJ.variableName)],color:na},{tag:[qt.pJ.processingInstruction,qt.pJ.string,qt.pJ.inserted],color:As},{tag:qt.pJ.invalid,color:qr}]),El=[pa,(0,_.nF)(Sl)];var wl=D.tk.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Ol=function(n){n===void 0&&(n={});var{indentWithTab:p=!0,editable:b=!0,readOnly:P=!1,theme:W="light",placeholder:le="",basicSetup:Ae=!0}=n,$e=[];switch(p&&$e.unshift(D.$f.of([Zn])),Ae&&(typeof Ae=="boolean"?$e.unshift(Zt()):$e.unshift(Zt(Ae))),le&&$e.unshift((0,D.W$)(le)),W){case"light":$e.push(wl);break;case"dark":$e.push(El);break;case"none":break;default:$e.push(W);break}return b===!1&&$e.push(D.tk.editable.of(!1)),P&&$e.push(O.yy.readOnly.of(!0)),[...$e]},xl=f=>({line:f.state.doc.lineAt(f.state.selection.main.from),lineCount:f.state.doc.lines,lineBreak:f.state.lineBreak,length:f.state.doc.length,readOnly:f.state.readOnly,tabSize:f.state.tabSize,selection:f.state.selection,selectionAsSingle:f.state.selection.asSingle().main,ranges:f.state.selection.ranges,selectionCode:f.state.sliceDoc(f.state.selection.main.from,f.state.selection.main.to),selections:f.state.selection.ranges.map(n=>f.state.sliceDoc(n.from,n.to)),selectedText:f.state.selection.ranges.some(n=>!n.empty)}),pl=O.q6.define();function Cl(f){var{value:n,selection:p,onChange:b,onStatistics:P,onCreateEditor:W,onUpdate:le,extensions:Ae=[],autoFocus:$e,theme:yt="light",height:Tt="",minHeight:er="",maxHeight:Gr="",placeholder:Nn="",width:Wi="",minWidth:sa="",maxWidth:tl="",editable:Ja=!0,readOnly:Ui=!1,indentWithTab:ga=!0,basicSetup:ps=!0,root:Po,initialState:Aa}=f,[Pa,fl]=(0,R.useState)(),[To,Ba]=(0,R.useState)(),[rl,nl]=(0,R.useState)(),ml=D.tk.theme({"&":{height:Tt,minHeight:er,maxHeight:Gr,width:Wi,minWidth:sa,maxWidth:tl}}),il=D.tk.updateListener.of(ya=>{if(ya.docChanged&&typeof b=="function"&&!ya.transactions.some(_l=>_l.annotation(pl))){var al=ya.state.doc,dl=al.toString();b(dl,ya)}P&&P(xl(ya))}),ol=Ol({theme:yt,editable:Ja,readOnly:Ui,placeholder:Nn,indentWithTab:ga,basicSetup:ps}),sl=[il,ml,...ol];return le&&typeof le=="function"&&sl.push(D.tk.updateListener.of(le)),sl=sl.concat(Ae),(0,R.useEffect)(()=>{if(Pa&&!rl){var ya={doc:n,selection:p,extensions:sl},al=Aa?O.yy.fromJSON(Aa.json,ya,Aa.fields):O.yy.create(ya);if(nl(al),!To){var dl=new D.tk({state:al,parent:Pa,root:Po});Ba(dl),W&&W(dl,al)}}return()=>{To&&(nl(void 0),Ba(void 0))}},[Pa,rl]),(0,R.useEffect)(()=>fl(f.container),[f.container]),(0,R.useEffect)(()=>()=>{To&&(To.destroy(),Ba(void 0))},[To]),(0,R.useEffect)(()=>{$e&&To&&To.focus()},[$e,To]),(0,R.useEffect)(()=>{To&&To.dispatch({effects:O.Py.reconfigure.of(sl)})},[yt,Ae,Tt,er,Gr,Wi,sa,tl,Nn,Ja,Ui,ga,ps,b,le]),(0,R.useEffect)(()=>{if(n!==void 0){var ya=To?To.state.doc.toString():"";To&&n!==ya&&To.dispatch({changes:{from:0,to:ya.length,insert:n||""},annotations:[pl.of(!0)]})}},[n,To]),{state:rl,setState:nl,view:To,setView:Ba,container:Pa,setContainer:fl}}var Al=l(52322),Pl=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],gl=(0,R.forwardRef)((f,n)=>{var{className:p,value:b="",selection:P,extensions:W=[],onChange:le,onStatistics:Ae,onCreateEditor:$e,onUpdate:yt,autoFocus:Tt,theme:er="light",height:Gr,minHeight:Nn,maxHeight:Wi,width:sa,minWidth:tl,maxWidth:Ja,basicSetup:Ui,placeholder:ga,indentWithTab:ps,editable:Po,readOnly:Aa,root:Pa,initialState:fl}=f,To=(0,m.Z)(f,Pl),Ba=(0,R.useRef)(null),{state:rl,view:nl,container:ml}=Cl({container:Ba.current,root:Pa,value:b,autoFocus:Tt,theme:er,height:Gr,minHeight:Nn,maxHeight:Wi,width:sa,minWidth:tl,maxWidth:Ja,basicSetup:Ui,placeholder:ga,indentWithTab:ps,editable:Po,readOnly:Aa,selection:P,onChange:le,onStatistics:Ae,onCreateEditor:$e,onUpdate:yt,extensions:W,initialState:fl});if((0,R.useImperativeHandle)(n,()=>({editor:Ba.current,state:rl,view:nl}),[Ba,ml,rl,nl]),typeof b!="string")throw new Error("value must be typeof string but got "+typeof b);var il=typeof er=="string"?"cm-theme-"+er:"cm-theme";return(0,Al.jsx)("div",(0,o.Z)({ref:Ba,className:""+il+(p?" "+p:"")},To))});gl.displayName="CodeMirror";var Tl=gl},93948:function(Te,S,l){"use strict";var o=l(87245),m=l(63772),R=l(8615),O=Math.pow(2,31)-1;function D($,I){var J=1,z;if($===0)return I;if(I===0)return $;for(;$%2===0&&I%2===0;)$=$/2,I=I/2,J=J*2;for(;$%2===0;)$=$/2;for(;I;){for(;I%2===0;)I=I/2;$>I&&(z=I,I=$,$=z),I=I-$}return J*$}function _($,I){var J=0,z;if($===0)return I;if(I===0)return $;for(;!($&1)&&!(I&1);)$>>>=1,I>>>=1,J++;for(;!($&1);)$>>>=1;for(;I;){for(;!(I&1);)I>>>=1;$>I&&(z=I,I=$,$=z),I=I-$}return $<<J}function j(){var $=arguments.length,I,J,z,ee,te,oe,ye;for(I=new Array($),ye=0;ye<$;ye++)I[ye]=arguments[ye];if(m(I)){if($===2)return te=I[0],oe=I[1],te<0&&(te=-te),oe<0&&(oe=-oe),te<=O&&oe<=O?_(te,oe):D(te,oe);z=I}else if(o(I[0]))if($>1){if(z=I[0],J=I[1],!R(J))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+J+"`.")}else z=I[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+I[0]+"`.");if(ee=z.length,ee<2)return null;if(J){for(te=new Array(ee),ye=0;ye<ee;ye++)te[ye]=J(z[ye],ye);z=te}if($<3&&!m(z))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+z+"`.");for(ye=0;ye<ee;ye++)te=z[ye],te<0&&(z[ye]=-te);for(te=z[0],ye=1;ye<ee;ye++)oe=z[ye],oe<=O&&te<=O?te=_(te,oe):te=D(te,oe);return te}Te.exports=j},73198:function(Te,S,l){"use strict";var o=l(93948),m=l(87245),R=l(63772),O=l(8615);function D(){var _=arguments.length,j,$,I,J,z,ee,te;for(j=new Array(_),te=0;te<_;te++)j[te]=arguments[te];if(R(j)){if(_===2)return z=j[0],ee=j[1],z<0&&(z=-z),ee<0&&(ee=-ee),z===0||ee===0?0:z/o(z,ee)*ee;I=j}else if(m(j[0]))if(_>1){if(I=j[0],$=j[1],!O($))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+$+"`.")}else I=j[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+j[0]+"`.");if(J=I.length,J<2)return null;if($){for(z=new Array(J),te=0;te<J;te++)z[te]=$(I[te],te);I=z}if(_<3&&!R(I))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+I+"`.");for(te=0;te<J;te++)z=I[te],z<0&&(I[te]=-z);for(z=I[0],te=1;te<J;te++){if(ee=I[te],z===0||ee===0)return 0;z=z/o(z,ee)*ee}return z}Te.exports=D},16455:function(Te,S,l){var o=l(6200);Te.exports=o},35558:function(Te,S,l){l(21710);var o=l(47923);Te.exports=o("Array","fill")},5594:function(Te,S,l){l(70024);var o=l(47923);Te.exports=o("Array","includes")},29320:function(Te,S,l){var o=l(16455);Te.exports=o},47923:function(Te,S,l){var o=l(10150);Te.exports=o},6200:function(Te,S,l){var o=l(35558);Te.exports=o},44091:function(Te,S,l){"use strict";var o;o={value:!0};const m=l(73961);var R;(function(O){O.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[[`'"'`,/[^"]*/,`'"'`],[`"'"`,/[^']*/,`"'"`]],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],O.defaultParser=new m.Parser(O.RULES,{debug:!1});const D=/^(!|&)/,_=/(\?|\+|\*)$/,j=/^%/;function $(xe,re){if(typeof xe=="string"){if(D.test(xe))return"";if(j.test(xe)){let Ee=_.exec(xe),Ne=Ee?Ee[0]+" ":"";return I(xe,re)?z(xe,re)+Ne:"("+z(xe,re)+")"+Ne}return xe}else return xe.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function I(xe,re){let M=m.findRuleByName(xe,re);return M&&M.bnf.length==1&&M.bnf[0].length==1&&(M.bnf[0][0]instanceof RegExp||M.bnf[0][0][0]=='"'||M.bnf[0][0][0]=="'")}function J(xe,re){return xe.map(M=>$(M,re)).join(" ")}function z(xe,re){let M=m.findRuleByName(xe,re);return M?M.bnf.map(Ee=>J(Ee,re)).join(" | "):"RULE_NOT_FOUND {"+xe+"}"}function ee(xe){let re=[];return xe.grammarRules.forEach(M=>{if(!/^%/.test(M.name)){let Ee=M.recover?" /* { recoverUntil="+M.recover+" } */":"";re.push(M.name+" ::= "+z(M.name,xe)+Ee)}}),re.join(`
`)}O.emit=ee;let te=0;function oe(xe,re){throw console.log("reberia restar "+re+" a "+xe),new Error("Difference not supported yet")}function ye(xe){return new RegExp(xe.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function F(xe,re,M){let Ee=null,Ne=[];return re.children.forEach((Ce,ze)=>{Ce.type=="Minus"&&oe(Ee,Ce);let Ge=re.children[ze+1];Ge=Ge&&Ge.type=="PrimaryDecoration"&&Ge.text||"";let ht="";switch(Ce.type){case"SubItem":let st="%"+(M+te++);Y(xe,Ce,st),Ne.push(ht+st+Ge);break;case"NCName":case"StringLiteral":Ne.push(ht+Ce.text+Ge);break;case"CharCode":case"CharClass":if(Ge||ht){let Ye={name:"%"+(M+te++),bnf:[[ye(Ce.text)]]};xe.push(Ye),Ne.push(ht+Ye.name+Ge)}else Ne.push(ye(Ce.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+Ce.type+" -> "+JSON.stringify(Ce.text))}Ee=Ce}),Ne}function Y(xe,re,M){let Ee=re.children.filter(ze=>ze.type=="SequenceOrDifference").map(ze=>F(xe,ze,M)),Ne={name:M,bnf:Ee},Ce=null;Ee.forEach(ze=>{Ce=Ce||ze.recover,delete ze.recover}),M.indexOf("%")==0&&(Ne.fragment=!0),Ce&&(Ne.recover=Ce),xe.push(Ne)}function ve(xe,re=O.defaultParser){let M=re.getAST(xe);if(!M)throw new Error("Could not parse "+xe);if(M.errors&&M.errors.length)throw M.errors[0];let Ee=[];return M.children.filter(Ne=>Ne.type=="Production").map(Ne=>{let Ce=Ne.children.filter(ze=>ze.type=="NCName")[0].text;Y(Ee,Ne,Ce)}),Ee}O.getRules=ve;function se(xe,re=O.defaultParser){return ve(xe.join(""),re)}O.Transform=se;class me extends m.Parser{constructor(re,M){const Ee=M&&M.debugRulesParser===!0?new m.Parser(O.RULES,{debug:!0}):O.defaultParser;super(ve(re,Ee),M)}emitSource(){return ee(this)}}O.Parser=me})(R||(R={})),S.Z=R},73961:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Parser=exports.findRuleByName=exports.parseRuleName=exports.escapeRegExp=exports.readToken=void 0;const UPPER_SNAKE_RE=/^[A-Z0-9_]+$/,decorationRE=/(\?|\+|\*)$/,preDecorationRE=/^(@|&|!)/,WS_RULE="WS",TokenError_1=__webpack_require__(80707);function readToken(Te,S){let l=S.exec(Te);return l&&l.index==0?l[0].length==0&&S.source.length>0?null:{type:null,text:l[0],rest:Te.substr(l[0].length),start:0,end:l[0].length-1,fullText:l[0],errors:[],children:[],parent:null}:null}exports.readToken=readToken;function escapeRegExp(Te){return Te.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}exports.escapeRegExp=escapeRegExp;function fixRest(Te){Te.rest="",Te.children&&Te.children.forEach(S=>fixRest(S))}function fixPositions(Te,S){Te.start+=S,Te.end+=S,Te.children&&Te.children.forEach(l=>fixPositions(l,Te.start))}function agregateErrors(Te,S){S.errors&&S.errors.length&&S.errors.forEach(l=>Te.push(l)),S.children&&S.children.forEach(l=>agregateErrors(Te,l))}function parseRuleName(Te){let S=decorationRE.exec(Te),l=preDecorationRE.exec(Te),o=S&&S[0]||"",m=l&&l[0]||"",R={raw:Te,name:Te.replace(decorationRE,"").replace(preDecorationRE,""),isOptional:o=="?"||o=="*",allowRepetition:o=="+"||o=="*",atLeastOne:o=="+",lookupPositive:m=="&",lookupNegative:m=="!",pinned:m=="@",lookup:!1,isLiteral:!1};return R.isLiteral=R.name[0]=="'"||R.name[0]=='"',R.lookup=R.lookupNegative||R.lookupPositive,R}exports.parseRuleName=parseRuleName;function findRuleByName(Te,S){let l=parseRuleName(Te);return S.cachedRules[l.name]||null}exports.findRuleByName=findRuleByName;function stripRules(Te,S){if(Te.children){let l=Te.children.filter(o=>o.type&&S.test(o.type));for(let o=0;o<l.length;o++){let m=Te.children.indexOf(l[o]);m!=-1&&Te.children.splice(m,1)}Te.children.forEach(o=>stripRules(o,S))}}const ignoreMissingRules=["EOF"];class Parser{constructor(Te,S){this.grammarRules=Te,this.options=S,this.cachedRules={},this.debug=S?S.debug===!0:!1;let l=[],o=[];if(Te.forEach(m=>{let R=parseRuleName(m.name);if(R.name in this.cachedRules){l.push("Duplicated rule "+R.name);return}else this.cachedRules[R.name]=m;if(!m.bnf||!m.bnf.length){let O="Missing rule content, rule: "+m.name;l.indexOf(O)==-1&&l.push(O)}else m.bnf.forEach(O=>{if(typeof O[0]=="string"&&parseRuleName(O[0]).name==m.name){let _="Left recursion is not allowed, rule: "+m.name;l.indexOf(_)==-1&&l.push(_)}O.forEach(D=>{if(typeof D=="string"){let _=parseRuleName(D);!_.isLiteral&&o.indexOf(_.name)==-1&&ignoreMissingRules.indexOf(_.name)==-1&&o.push(_.name)}})});WS_RULE==m.name&&(m.implicitWs=!1),m.implicitWs&&o.indexOf(WS_RULE)==-1&&o.push(WS_RULE),m.recover&&o.indexOf(m.recover)==-1&&o.push(m.recover)}),o.forEach(m=>{m in this.cachedRules||l.push("Missing rule "+m)}),l.length)throw new Error(l.join(`
`))}getAST(Te,S){S||(S=this.grammarRules.filter(o=>!o.fragment&&o.name.indexOf("%")!=0)[0].name);let l=this.parse(Te,S);if(l){agregateErrors(l.errors,l),fixPositions(l,0),stripRules(l,/^%/),(!this.options||!this.options.keepUpperRules)&&stripRules(l,UPPER_SNAKE_RE);let o=l.rest;o&&new TokenError_1.TokenError(`Unexpected end of input: 
`+o,l),fixRest(l),l.rest=o}return l}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(txt,target,recursion=0){let out=null,type=parseRuleName(target),expr,printable=this.debug&&!UPPER_SNAKE_RE.test(type.name);printable&&console.log(new Array(recursion).join("\u2502  ")+"Trying to get "+target+" from "+JSON.stringify(txt.split(`
`)[0]));let realType=type.name,targetLex=findRuleByName(type.name,this);if(type.name=="EOF"){if(txt.length)return null;if(txt.length==0)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!targetLex&&type.isLiteral){let src=eval(type.name);if(src==="")return{type:"%%EMPTY%%",text:"",rest:txt,start:0,end:0,fullText:"",errors:[],children:[],parent:null};expr=new RegExp(escapeRegExp(src)),realType=null}}catch(Te){return Te instanceof ReferenceError&&console.error(Te),null}if(expr){let Te=readToken(txt,expr);if(Te)return Te.type=realType,Te}else{let Te=targetLex.bnf;Te instanceof Array&&Te.forEach(S=>{if(out)return;let l=null,o={type:type.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:txt};targetLex.fragment&&(o.fragment=!0);let m=txt,R=0,O=S.length>0,D=!1;for(let _=0;_<S.length;_++)if(typeof S[_]=="string"){let j=parseRuleName(S[_]);O=O&&j.isOptional;let $,I=!1;do{if($=null,targetLex.implicitWs&&($=this.parse(m,j.name,recursion+1),!$)){let J;do if(J=this.parse(m,WS_RULE,recursion+1),J)o.text=o.text+J.text,o.end=o.text.length,J.parent=o,o.children.push(J),m=m.substr(J.text.length),R+=J.text.length;else break;while(J&&J.text.length)}if($=$||this.parse(m,j.name,recursion+1),j.lookupNegative){if($)return;break}if(j.lookupPositive&&!$)return;if(!$&&(j.isOptional||j.atLeastOne&&I))break;if($&&targetLex.pinned==_+1&&(l=$,printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514\u2500 "+$.type+" PINNED")),$||($=this.parseRecovery(targetLex,m,recursion+1)),!$)if(l)out=o,$={type:"SyntaxError",text:m,children:[],end:m.length,errors:[],fullText:"",parent:null,start:0,rest:""},m.length?new TokenError_1.TokenError(`Unexpected end of input. Expecting ${j.name} Got: ${m}`,$):new TokenError_1.TokenError(`Unexpected end of input. Missing ${j.name}`,$),printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514\u2500 "+$.type+" "+JSON.stringify($.text));else return;if(I=!0,D=!0,$.type=="%%EMPTY%%")break;$.start+=R,$.end+=R,!j.lookupPositive&&$.type&&($.fragment?$.children&&$.children.forEach(J=>{J.start+=R,J.end+=R,J.parent=o,o.children.push(J)}):($.parent=o,o.children.push($))),j.lookup&&($.lookup=!0),printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514\u2500 "+$.type+" "+JSON.stringify($.text)),!j.lookup&&!$.lookup&&(o.text=o.text+$.text,o.end=o.text.length,m=m.substr($.text.length),R+=$.text.length),o.rest=m}while($&&j.allowRepetition&&m.length&&!$.lookup)}else{let j=readToken(m,S[_]);if(!j)return;printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514> "+JSON.stringify(j.text)+S[_].source),D=!0,j.start+=R,j.end+=R,o.text=o.text+j.text,o.end=o.text.length,m=m.substr(j.text.length),R+=j.text.length,o.rest=m}D&&(out=o,printable&&console.log(new Array(recursion).join("\u2502  ")+"\u251C<\u2500\u2534< PUSHING "+out.type+" "+JSON.stringify(out.text)))}),out&&targetLex.simplifyWhenOneChildren&&out.children.length==1&&(out=out.children[0])}return out||printable&&console.log(target+" NOT RESOLVED FROM "+txt),out}parseRecovery(Te,S,l){if(Te.recover&&S.length){let o=this.debug;o&&console.log(new Array(l+1).join("\u2502  ")+"Trying to recover until token "+Te.recover+" from "+JSON.stringify(S.split(`
`)[0]+S.split(`
`)[1]));let m={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""},R;do if(R=this.parse(S,Te.recover,l+1),R){new TokenError_1.TokenError('Unexpected input: "'+m.text+`" Expecting: ${Te.name}`,m);break}else m.text=m.text+S[0],m.end=m.text.length,S=S.substr(1);while(!R&&S.length>0);if(m.text.length>0&&R)return o&&console.log(new Array(l+1).join("\u2502  ")+"Recovered text: "+JSON.stringify(m.text)),m}return null}}exports.Parser=Parser,exports.default=Parser},80707:function(Te,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.TokenError=void 0;class l extends Error{constructor(m,R){if(super(m),this.message=m,this.token=R,R&&R.errors)R.errors.push(this);else throw this}inspect(){return"SyntaxError: "+this.message}}S.TokenError=l},93503:function(Te,S,l){var o=l(18149),m=l(829),R=l(75652),O=l(39642),D=l(84573),_=l(74186),j=l(97030),$=l(4335),I=st=>Array.isArray(st)?st:[st],J=st=>st===void 0,z=st=>j(st)||Array.isArray(st)?Object.keys(st):[],ee=(st,Ye)=>st.hasOwnProperty(Ye),te=st=>m(R(st)),oe=st=>J(st)||Array.isArray(st)&&st.length===0,ye=(st,Ye,Et,rr)=>Ye&&ee(Ye,Et)&&st&&ee(st,Et)&&rr(st[Et],Ye[Et]),F=(st,Ye)=>J(st)&&Ye===0||J(Ye)&&st===0||o(st,Ye),Y=(st,Ye)=>J(st)&&Ye===!1||J(Ye)&&st===!1||o(st,Ye),ve=st=>J(st)||o(st,{})||st===!0,se=st=>J(st)||o(st,{}),me=st=>J(st)||j(st)||st===!0||st===!1;function xe(st,Ye){return oe(st)&&oe(Ye)?!0:o(te(st),te(Ye))}function re(st,Ye){return st=I(st),Ye=I(Ye),o(te(st),te(Ye))}function M(st,Ye,Et,rr){var mt=R(z(st).concat(z(Ye)));return se(st)&&se(Ye)?!0:se(st)&&z(Ye).length||se(Ye)&&z(st).length?!1:mt.every(function(Mt){var gt=st[Mt],Ze=Ye[Mt];return Array.isArray(gt)&&Array.isArray(Ze)?o(te(st),te(Ye)):Array.isArray(gt)&&!Array.isArray(Ze)||Array.isArray(Ze)&&!Array.isArray(gt)?!1:ye(st,Ye,Mt,rr)})}function Ee(st,Ye,Et,rr){return j(st)&&j(Ye)?rr(st,Ye):Array.isArray(st)&&Array.isArray(Ye)?M(st,Ye,Et,rr):o(st,Ye)}function Ne(st,Ye,Et,rr){var mt=O(st,rr),Mt=O(Ye,rr),gt=_(mt,Mt,rr);return gt.length===Math.max(mt.length,Mt.length)}var Ce={title:o,uniqueItems:Y,minLength:F,minItems:F,minProperties:F,required:xe,enum:xe,type:re,items:Ee,anyOf:Ne,allOf:Ne,oneOf:Ne,properties:M,patternProperties:M,dependencies:M},ze=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],Ge=["additionalProperties","additionalItems","contains","propertyNames","not"];function ht(st,Ye,Et){if(Et=D(Et,{ignore:[]}),ve(st)&&ve(Ye))return!0;if(!me(st)||!me(Ye))throw new Error("Either of the values are not a JSON schema.");if(st===Ye)return!0;if($(st)&&$(Ye))return st===Ye;if(st===void 0&&Ye===!1||Ye===void 0&&st===!1||J(st)&&!J(Ye)||!J(st)&&J(Ye))return!1;var rr=R(Object.keys(st).concat(Object.keys(Ye)));if(Et.ignore.length&&(rr=rr.filter(Mt=>Et.ignore.indexOf(Mt)===-1)),!rr.length)return!0;function mt(Mt,gt){return ht(Mt,gt,Et)}return rr.every(function(Mt){var gt=st[Mt],Ze=Ye[Mt];if(Ge.indexOf(Mt)!==-1)return ht(gt,Ze,Et);var bt=Ce[Mt];if(bt||(bt=o),o(gt,Ze))return!0;if(ze.indexOf(Mt)===-1&&(!ee(st,Mt)&&ee(Ye,Mt)||ee(st,Mt)&&!ee(Ye,Mt)))return gt===Ze;var et=bt(gt,Ze,Mt,mt);if(!$(et))throw new Error("Comparer must return true or false");return et})}Te.exports=ht},81995:function(Te,S,l){const o=l(35676),m=l(68632),R=l(97030),O=l(75652),D=l(39642),_=l(67304);function j(F){for(const Y in F)J(F,Y)&&oe(F[Y])&&delete F[Y];return F}const $=F=>O(m(F.map(z))),I=(F,Y)=>F.map(ve=>ve&&ve[Y]),J=(F,Y)=>Object.prototype.hasOwnProperty.call(F,Y),z=F=>R(F)||Array.isArray(F)?Object.keys(F):[],ee=F=>F!==void 0,te=F=>R(F)||F===!0||F===!1,oe=F=>!z(F).length&&F!==!1&&F!==!0,ye=(F,...Y)=>_.apply(null,[F].concat(o(Y)));Te.exports={allUniqueKeys:$,deleteUndefinedProps:j,getValues:I,has:J,isEmptySchema:oe,isSchema:te,keys:z,notUndefined:ee,uniqWith:D,withoutArr:ye}},16430:function(Te,S,l){const o=l(93503),m=l(59756),{allUniqueKeys:R,deleteUndefinedProps:O,has:D,isSchema:_,notUndefined:j,uniqWith:$}=l(81995);function I(te){m(te,function(oe,ye){oe===!1&&te.splice(ye,1)})}function J(te,oe){return te.map(function(ye){if(ye)if(Array.isArray(ye.items)){const F=ye.items[oe];if(_(F))return F;if(D(ye,"additionalItems"))return ye.additionalItems}else return ye.items})}function z(te){return te.map(function(oe){if(oe)return Array.isArray(oe.items)?oe.additionalItems:oe.items})}function ee(te,oe,ye){return R(ye).reduce(function(Y,ve){const se=J(te,ve),me=$(se.filter(j),o);return Y[ve]=oe(me,ve),Y},[])}Te.exports={keywords:["items","additionalItems"],resolver(te,oe,ye){const F=te.map(me=>me.items),Y=F.filter(j),ve={};Y.every(_)?ve.items=ye.items(F):ve.items=ee(te,ye.items,F);let se;return Y.every(Array.isArray)?se=te.map(me=>me.additionalItems):Y.some(Array.isArray)&&(se=z(te)),se&&(ve.additionalItems=ye.additionalItems(se)),ve.additionalItems===!1&&Array.isArray(ve.items)&&I(ve.items),O(ve)}}},67953:function(Te,S,l){const o=l(93503),m=l(59756),{allUniqueKeys:R,deleteUndefinedProps:O,getValues:D,keys:_,notUndefined:j,uniqWith:$,withoutArr:I}=l(81995);function J(ee){m(ee,function(te,oe){te===!1&&delete ee[oe]})}function z(ee,te){return R(ee).reduce(function(ye,F){const Y=D(ee,F),ve=$(Y.filter(j),o);return ye[F]=te(ve,F),ye},{})}Te.exports={keywords:["properties","patternProperties","additionalProperties"],resolver(ee,te,oe,ye){ye.ignoreAdditionalProperties||(ee.forEach(function(Y){const ve=ee.filter(re=>re!==Y),se=_(Y.properties),xe=_(Y.patternProperties).map(re=>new RegExp(re));ve.forEach(function(re){const M=_(re.properties),Ee=M.filter(Ce=>xe.some(ze=>ze.test(Ce)));I(M,se,Ee).forEach(function(Ce){re.properties[Ce]=oe.properties([re.properties[Ce],Y.additionalProperties],Ce)})})}),ee.forEach(function(Y){const ve=ee.filter(me=>me!==Y),se=_(Y.patternProperties);Y.additionalProperties===!1&&ve.forEach(function(me){const xe=_(me.patternProperties);I(xe,se).forEach(M=>delete me.patternProperties[M])})}));const F={additionalProperties:oe.additionalProperties(ee.map(Y=>Y.additionalProperties)),patternProperties:z(ee.map(Y=>Y.patternProperties),oe.patternProperties),properties:z(ee.map(Y=>Y.properties),oe.properties)};return F.additionalProperties===!1&&J(F.properties),O(F)}}},33372:function(Te,S,l){const o=l(9850),m=l(93503),R=l(73198),O=l(19003),D=l(35676),_=l(68632),j=l(30898),$=l(74186),I=l(18149),J=l(97030),z=l(78911),ee=l(829),te=l(75652),oe=l(39642),ye=l(67953),F=l(16430),Y=(Ue,K)=>Ue.indexOf(K)!==-1,ve=Ue=>J(Ue)||Ue===!0||Ue===!1,se=Ue=>Ue===!1,me=Ue=>Ue===!0,xe=(Ue,K,Z)=>Z(Ue),re=Ue=>ee(te(_(Ue))),M=Ue=>Ue!==void 0,Ee=Ue=>te(_(Ue.map(Mt))),Ne=Ue=>Ue[0],Ce=Ue=>re(Ue),ze=Ue=>Math.max.apply(Math,Ue),Ge=Ue=>Math.min.apply(Math,Ue),ht=Ue=>Ue.some(me),st=Ue=>oe(D(Ue),I);function Ye(Ue){return function(K,Z){return m({[Ue]:K},{[Ue]:Z})}}function Et(Ue){let{allOf:K=[],...Z}=Ue;return Z=J(Ue)?Z:Ue,[Z,...K.map(Et)]}function rr(Ue,K){return Ue.map(Z=>Z&&Z[K])}function mt(Ue,K){return Ue.map(function(Z,Q){try{return K(Z,Q)}catch{return}}).filter(M)}function Mt(Ue){return J(Ue)||Array.isArray(Ue)?Object.keys(Ue):[]}function gt(Ue,K){if(K=K||[],!Ue.length)return K;const Z=Ue.slice(0).shift(),Q=Ue.slice(1);return K.length?gt(Q,D(K.map(ne=>Z.map(_e=>[_e].concat(ne))))):gt(Q,Z.map(ne=>ne))}function Ze(Ue,K){let Z;try{Z=Ue.map(function(Q){return JSON.stringify(Q,null,2)}).join(`
`)}catch{Z=Ue.join(", ")}throw new Error('Could not resolve values for path:"'+K.join(".")+`". They are probably incompatible. Values: 
`+Z)}function bt(Ue,K,Z,Q,ne,_e){if(Ue.length){const Xe=ne.complexResolvers[K];if(!Xe||!Xe.resolver)throw new Error("No resolver found for "+K);const lt=Z.map(Ht=>Ue.reduce((Xt,rt)=>(Ht[rt]!==void 0&&(Xt[rt]=Ht[rt]),Xt),{})),kt=oe(lt,m),Qt=Xe.keywords.reduce((Ht,Xt)=>({...Ht,[Xt]:(rt,xt=[])=>Q(rt,null,_e.concat(Xt,xt))}),{}),Yt=Xe.resolver(kt,_e.concat(K),Qt,ne);return J(Yt)||Ze(kt,_e.concat(K)),Yt}}function et(Ue){return{required:Ue}}const he=["properties","patternProperties","definitions","dependencies"],Ie=["anyOf","oneOf"],ft=["additionalProperties","additionalItems","contains","propertyNames","not","items"],_t={type(Ue){if(Ue.some(Array.isArray)){const K=Ue.map(function(Q){return Array.isArray(Q)?Q:[Q]}),Z=j.apply(null,K);if(Z.length===1)return Z[0];if(Z.length>1)return te(Z)}},dependencies(Ue,K,Z){return Ee(Ue).reduce(function(ne,_e){const Xe=rr(Ue,_e);let lt=oe(Xe.filter(M),I);const kt=lt.filter(Array.isArray);if(kt.length){if(kt.length===lt.length)ne[_e]=re(lt);else{const Qt=lt.filter(ve),Yt=kt.map(et);ne[_e]=Z(Qt.concat(Yt),_e)}return ne}return lt=oe(lt,m),ne[_e]=Z(lt,_e),ne},{})},oneOf(Ue,K,Z){const Q=gt(o(Ue)),ne=mt(Q,Z),_e=oe(ne,m);if(_e.length)return _e},not(Ue){return{anyOf:Ue}},pattern(Ue){return Ue.map(K=>"(?="+K+")").join("")},multipleOf(Ue){let K=Ue.slice(0),Z=1;for(;K.some(Q=>!Number.isInteger(Q));)K=K.map(Q=>Q*10),Z=Z*10;return R(K)/Z},enum(Ue){const K=$.apply(null,Ue.concat(I));if(K.length)return ee(K)}};_t.$id=Ne,_t.$ref=Ne,_t.$schema=Ne,_t.additionalItems=xe,_t.additionalProperties=xe,_t.anyOf=_t.oneOf,_t.contains=xe,_t.default=Ne,_t.definitions=_t.dependencies,_t.description=Ne,_t.examples=st,_t.exclusiveMaximum=Ge,_t.exclusiveMinimum=ze,_t.items=F,_t.maximum=Ge,_t.maxItems=Ge,_t.maxLength=Ge,_t.maxProperties=Ge,_t.minimum=ze,_t.minItems=ze,_t.minLength=ze,_t.minProperties=ze,_t.properties=ye,_t.propertyNames=xe,_t.required=Ce,_t.title=Ne,_t.uniqueItems=ht;const Vt={properties:ye,items:F};function Cr(Ue,K,Z){Z=Z||[],K=O(K,{ignoreAdditionalProperties:!1,resolvers:_t,complexResolvers:Vt,deep:!0});const Q=Object.entries(K.complexResolvers);function ne(lt,kt,Qt){lt=o(lt.filter(M)),Qt=Qt||[];const Yt=J(kt)?kt:{};if(!lt.length)return;if(lt.some(se))return!1;if(lt.every(me))return!0;lt=lt.filter(J);const Ht=Ee(lt);if(K.deep&&Y(Ht,"allOf"))return Cr({allOf:lt},K,Z);const Xt=Q.map(([rt,xt])=>Ht.filter(jt=>xt.keywords.includes(jt)));return Xt.forEach(rt=>z(Ht,rt)),Ht.forEach(function(rt){const xt=rr(lt,rt),jt=oe(xt.filter(M),Ye(rt));if(jt.length===1&&Y(Ie,rt))Yt[rt]=jt[0].map(fr=>ne([fr],fr));else if(jt.length===1&&!Y(he,rt)&&!Y(ft,rt))Yt[rt]=jt[0];else{const fr=K.resolvers[rt]||K.resolvers.defaultResolver;if(!fr)throw new Error("No resolver found for key "+rt+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const Or=(xr,ar=[])=>ne(xr,null,Qt.concat(rt,ar));Yt[rt]=fr(jt,Qt.concat(rt),Or,K),Yt[rt]===void 0?Ze(jt,Qt.concat(rt)):Yt[rt]===void 0&&delete Yt[rt]}}),Q.reduce((rt,[xt,jt],fr)=>({...rt,...bt(Xt[fr],xt,lt,ne,K,Qt)}),Yt)}const _e=_(Et(Ue));return ne(_e)}Cr.options={resolvers:_t},Te.exports=Cr},404:function(Te,S){var l=/~/,o=/~[01]/g;function m(I){switch(I){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+I)}function R(I){return l.test(I)?I.replace(o,m):I}function O(I,J,z){for(var ee,te,oe=1,ye=J.length;oe<ye;){if(J[oe]==="constructor"||J[oe]==="prototype"||J[oe]==="__proto__")return I;if(ee=R(J[oe++]),te=ye>oe,typeof I[ee]=="undefined"&&(Array.isArray(I)&&ee==="-"&&(ee=I.length),te&&(J[oe]!==""&&J[oe]<1/0||J[oe]==="-"?I[ee]=[]:I[ee]={})),!te)break;I=I[ee]}var F=I[ee];return z===void 0?delete I[ee]:I[ee]=z,F}function D(I){if(typeof I=="string"){if(I=I.split("/"),I[0]==="")return I;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(I)){for(const J of I)if(typeof J!="string"&&typeof J!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return I}throw new Error("Invalid JSON pointer.")}function _(I,J){if(typeof I!="object")throw new Error("Invalid input object.");J=D(J);var z=J.length;if(z===1)return I;for(var ee=1;ee<z;){if(I=I[R(J[ee++])],z===ee)return I;if(typeof I!="object"||I===null)return}}function j(I,J,z){if(typeof I!="object")throw new Error("Invalid input object.");if(J=D(J),J.length===0)throw new Error("Invalid JSON pointer for set.");return O(I,J,z)}function $(I){var J=D(I);return{get:function(z){return _(z,J)},set:function(z,ee){return j(z,J,ee)}}}S.get=_,S.set=j,S.compile=$},85246:function(Te,S,l){var o=l(45386),m=l(38333),R=l(34893),O=l(50343),D=l(47826),_=l(59950),j=200;function $(I,J,z,ee){var te=-1,oe=m,ye=!0,F=I.length,Y=[],ve=J.length;if(!F)return Y;z&&(J=O(J,D(z))),ee?(oe=R,ye=!1):J.length>=j&&(oe=_,ye=!1,J=new o(J));e:for(;++te<F;){var se=I[te],me=z==null?se:z(se);if(se=ee||se!==0?se:0,ye&&me===me){for(var xe=ve;xe--;)if(J[xe]===me)continue e;Y.push(se)}else oe(J,me,ee)||Y.push(se)}return Y}Te.exports=$},84190:function(Te){function S(l,o,m,R){for(var O=m-1,D=l.length;++O<D;)if(R(l[O],o))return O;return-1}Te.exports=S},88390:function(Te,S,l){var o=l(45386),m=l(38333),R=l(34893),O=l(50343),D=l(47826),_=l(59950),j=Math.min;function $(I,J,z){for(var ee=z?R:m,te=I[0].length,oe=I.length,ye=oe,F=Array(oe),Y=1/0,ve=[];ye--;){var se=I[ye];ye&&J&&(se=O(se,D(J))),Y=j(se.length,Y),F[ye]=!z&&(J||te>=120&&se.length>=120)?new o(ye&&se):void 0}se=I[0];var me=-1,xe=F[0];e:for(;++me<te&&ve.length<Y;){var re=se[me],M=J?J(re):re;if(re=z||re!==0?re:0,!(xe?_(xe,M):ee(ve,M,z))){for(ye=oe;--ye;){var Ee=F[ye];if(!(Ee?_(Ee,M):ee(I[ye],M,z)))continue e}xe&&xe.push(M),ve.push(re)}}return ve}Te.exports=$},45169:function(Te,S,l){var o=l(50343),m=l(77832),R=l(84190),O=l(47826),D=l(51522),_=Array.prototype,j=_.splice;function $(I,J,z,ee){var te=ee?R:m,oe=-1,ye=J.length,F=I;for(I===J&&(J=D(J)),z&&(F=o(I,O(z)));++oe<ye;)for(var Y=0,ve=J[oe],se=z?z(ve):ve;(Y=te(F,se,Y,ee))>-1;)F!==I&&j.call(F,Y,1),j.call(I,Y,1);return I}Te.exports=$},5642:function(Te,S,l){var o=l(93746);function m(R){return o(R)?R:[]}Te.exports=m},88302:function(Te,S,l){var o=l(84565),m=l(29259);function R(O,D,_,j,$,I){return m(O)&&m(D)&&(I.set(D,O),o(O,D,void 0,R,I),I.delete(D)),O}Te.exports=R},19003:function(Te,S,l){var o=l(49432),m=l(36060),R=l(88302),O=l(12782),D=m(function(_){return _.push(void 0,R),o(O,void 0,_)});Te.exports=D},68632:function(Te,S,l){var o=l(62034),m=1/0;function R(O){var D=O==null?0:O.length;return D?o(O,m):[]}Te.exports=R},30898:function(Te,S,l){var o=l(50343),m=l(88390),R=l(36060),O=l(5642),D=R(function(_){var j=o(_,O);return j.length&&j[0]===_[0]?m(j):[]});Te.exports=D},74186:function(Te,S,l){var o=l(50343),m=l(88390),R=l(36060),O=l(5642),D=l(56974),_=R(function(j){var $=D(j),I=o(j,O);return $=typeof $=="function"?$:void 0,$&&I.pop(),I.length&&I[0]===j[0]?m(I,void 0,$):[]});Te.exports=_},4335:function(Te,S,l){var o=l(53366),m=l(15125),R="[object Boolean]";function O(D){return D===!0||D===!1||m(D)&&o(D)==R}Te.exports=O},78911:function(Te,S,l){var o=l(45169);function m(R,O){return R&&R.length&&O&&O.length?o(R,O):R}Te.exports=m},25497:function(Te,S,l){var o=l(50343),m=l(51522),R=l(86152),O=l(4795),D=l(54452),_=l(33812),j=l(66188);function $(I){return R(I)?o(I,_):O(I)?[I]:m(D(j(I)))}Te.exports=$},75652:function(Te,S,l){var o=l(67326);function m(R){return R&&R.length?o(R):[]}Te.exports=m},39642:function(Te,S,l){var o=l(67326);function m(R,O){return O=typeof O=="function"?O:void 0,R&&R.length?o(R,void 0,O):[]}Te.exports=m},67304:function(Te,S,l){var o=l(85246),m=l(36060),R=l(93746),O=m(function(D,_){return R(D)?o(D,_):[]});Te.exports=O},1170:function(Te,S,l){Te=l.nmd(Te),function(o){"use strict";o.exports.is_uri=R,o.exports.is_http_uri=O,o.exports.is_https_uri=D,o.exports.is_web_uri=_,o.exports.isUri=R,o.exports.isHttpUri=O,o.exports.isHttpsUri=D,o.exports.isWebUri=_;var m=function(j){var $=j.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return $};function R(j){if(j&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(j)&&!/%[^0-9a-f]/i.test(j)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(j)){var $=[],I="",J="",z="",ee="",te="",oe="";if($=m(j),I=$[1],J=$[2],z=$[3],ee=$[4],te=$[5],!!(I&&I.length&&z.length>=0)){if(J&&J.length){if(!(z.length===0||/^\//.test(z)))return}else if(/^\/\//.test(z))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(I.toLowerCase()))return oe+=I+":",J&&J.length&&(oe+="//"+J),oe+=z,ee&&ee.length&&(oe+="?"+ee),te&&te.length&&(oe+="#"+te),oe}}}function O(j,$){if(R(j)){var I=[],J="",z="",ee="",te="",oe="",ye="",F="";if(I=m(j),J=I[1],z=I[2],ee=I[3],oe=I[4],ye=I[5],!!J){if($){if(J.toLowerCase()!="https")return}else if(J.toLowerCase()!="http")return;if(z)return/:(\d+)$/.test(z)&&(te=z.match(/:(\d+)$/)[0],z=z.replace(/:\d+$/,"")),F+=J+":",F+="//"+z,te&&(F+=te),F+=ee,oe&&oe.length&&(F+="?"+oe),ye&&ye.length&&(F+="#"+ye),F}}}function D(j){return O(j,!0)}function _(j){return O(j)||D(j)}}(Te)},87245:function(Te){"use strict";function S(l){return Object.prototype.toString.call(l)==="[object Array]"}Te.exports=Array.isArray||S},8615:function(Te){"use strict";function S(l){return typeof l=="function"}Te.exports=S},63772:function(Te,S,l){"use strict";var o=l(87245),m=l(45002);function R(O){var D;if(!o(O)||(D=O.length,!D))return!1;for(var _=0;_<D;_++)if(!m(O[_]))return!1;return!0}Te.exports=R},45002:function(Te,S,l){"use strict";var o=l(87040);function m(R){return o(R)&&R%1===0}Te.exports=m},87040:function(Te){"use strict";function S(l){return(typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]")&&l.valueOf()===l.valueOf()}Te.exports=S},77120:function(Te,S,l){"use strict";l.d(S,{Gn:function(){return Mt},K0:function(){return rr},Qf:function(){return Ir},R_:function(){return gn},SS:function(){return Et},Um:function(){return V},c:function(){return st},e7:function(){return Tr},il:function(){return Wt},mi:function(){return Er},n$:function(){return Ki},nF:function(){return Nr},nY:function(){return ne},qz:function(){return te},y1:function(){return Ye}});var o=l(21649),m=l(1727),R=l(65329),O=l(86253),D=l(37207),_;const j=new o.md;function $(be){return m.r$.define({combine:be?N=>N.concat(be):void 0})}const I=new o.md;class J{constructor(N,X,Me=[],Fe=""){this.data=N,this.name=Fe,m.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(m.yy.prototype,"tree",{get(){return te(this)}}),this.parser=X,this.extension=[Ce.of(this),m.yy.languageData.of((nt,ct,Bt)=>{let Nt=z(nt,ct,Bt),Lr=Nt.type.prop(j);if(!Lr)return[];let Kr=nt.facet(Lr),In=Nt.type.prop(I);if(In){let wi=Nt.resolve(ct-Nt.from,Bt);for(let Ci of In)if(Ci.test(wi,nt)){let si=nt.facet(Ci.facet);return Ci.type=="replace"?si:si.concat(Kr)}}return Kr})].concat(Me)}isActiveAt(N,X,Me=-1){return z(N,X,Me).type.prop(j)==this.data}findRegions(N){let X=N.facet(Ce);if((X==null?void 0:X.data)==this.data)return[{from:0,to:N.doc.length}];if(!X||!X.allowsNesting)return[];let Me=[],Fe=(nt,ct)=>{if(nt.prop(j)==this.data){Me.push({from:ct,to:ct+nt.length});return}let Bt=nt.prop(o.md.mounted);if(Bt){if(Bt.tree.prop(j)==this.data){if(Bt.overlay)for(let Nt of Bt.overlay)Me.push({from:Nt.from+ct,to:Nt.to+ct});else Me.push({from:ct,to:ct+nt.length});return}else if(Bt.overlay){let Nt=Me.length;if(Fe(Bt.tree,Bt.overlay[0].from+ct),Me.length>Nt)return}}for(let Nt=0;Nt<nt.children.length;Nt++){let Lr=nt.children[Nt];Lr instanceof o.mp&&Fe(Lr,nt.positions[Nt]+ct)}};return Fe(te(N),0),Me}get allowsNesting(){return!0}}J.setState=m.Py.define();function z(be,N,X){let Me=be.facet(Ce),Fe=te(be).topNode;if(!Me||Me.allowsNesting)for(let nt=Fe;nt;nt=nt.enter(N,X,o.vj.ExcludeBuffers))nt.type.isTop&&(Fe=nt);return Fe}class ee extends null{constructor(N,X,Me){super(N,X,[],Me),this.parser=X}static define(N){let X=$(N.languageData);return new ee(X,N.parser.configure({props:[j.add(Me=>Me.isTop?X:void 0)]}),N.name)}configure(N,X){return new ee(this.data,this.parser.configure(N),X||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function te(be){let N=be.field(J.state,!1);return N?N.tree:o.mp.empty}function oe(be,N,X=50){var Me;let Fe=(Me=be.field(J.state,!1))===null||Me===void 0?void 0:Me.context;if(!Fe)return null;let nt=Fe.viewport;Fe.updateViewport({from:0,to:N});let ct=Fe.isDone(N)||Fe.work(X,N)?Fe.tree:null;return Fe.updateViewport(nt),ct}function ye(be,N=be.doc.length){var X;return((X=be.field(J.state,!1))===null||X===void 0?void 0:X.context.isDone(N))||!1}function F(be,N=be.viewport.to,X=100){let Me=oe(be.state,N,X);return Me!=te(be.state)&&be.dispatch({}),!!Me}function Y(be){var N;return((N=be.plugin(Ne))===null||N===void 0?void 0:N.isWorking())||!1}class ve{constructor(N){this.doc=N,this.cursorPos=0,this.string="",this.cursor=N.iter()}get length(){return this.doc.length}syncTo(N){return this.string=this.cursor.next(N-this.cursorPos).value,this.cursorPos=N+this.string.length,this.cursorPos-this.string.length}chunk(N){return this.syncTo(N),this.string}get lineChunks(){return!0}read(N,X){let Me=this.cursorPos-this.string.length;return N<Me||X>=this.cursorPos?this.doc.sliceString(N,X):this.string.slice(N-Me,X-Me)}}let se=null;class me{constructor(N,X,Me=[],Fe,nt,ct,Bt,Nt){this.parser=N,this.state=X,this.fragments=Me,this.tree=Fe,this.treeLen=nt,this.viewport=ct,this.skipped=Bt,this.scheduleOn=Nt,this.parse=null,this.tempSkipped=[]}static create(N,X,Me){return new me(N,X,[],o.mp.empty,0,Me,[],null)}startParse(){return this.parser.startParse(new ve(this.state.doc),this.fragments)}work(N,X){return X!=null&&X>=this.state.doc.length&&(X=void 0),this.tree!=o.mp.empty&&this.isDone(X!=null?X:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var Me;if(typeof N=="number"){let Fe=Date.now()+N;N=()=>Date.now()>Fe}for(this.parse||(this.parse=this.startParse()),X!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>X)&&X<this.state.doc.length&&this.parse.stopAt(X);;){let Fe=this.parse.advance();if(Fe)if(this.fragments=this.withoutTempSkipped(o.i9.addTree(Fe,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(Me=this.parse.stoppedAt)!==null&&Me!==void 0?Me:this.state.doc.length,this.tree=Fe,this.parse=null,this.treeLen<(X!=null?X:this.state.doc.length))this.parse=this.startParse();else return!0;if(N())return!1}})}takeTree(){let N,X;this.parse&&(N=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>N)&&this.parse.stopAt(N),this.withContext(()=>{for(;!(X=this.parse.advance()););}),this.treeLen=N,this.tree=X,this.fragments=this.withoutTempSkipped(o.i9.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(N){let X=se;se=this;try{return N()}finally{se=X}}withoutTempSkipped(N){for(let X;X=this.tempSkipped.pop();)N=xe(N,X.from,X.to);return N}changes(N,X){let{fragments:Me,tree:Fe,treeLen:nt,viewport:ct,skipped:Bt}=this;if(this.takeTree(),!N.empty){let Nt=[];if(N.iterChangedRanges((Lr,Kr,In,wi)=>Nt.push({fromA:Lr,toA:Kr,fromB:In,toB:wi})),Me=o.i9.applyChanges(Me,Nt),Fe=o.mp.empty,nt=0,ct={from:N.mapPos(ct.from,-1),to:N.mapPos(ct.to,1)},this.skipped.length){Bt=[];for(let Lr of this.skipped){let Kr=N.mapPos(Lr.from,1),In=N.mapPos(Lr.to,-1);Kr<In&&Bt.push({from:Kr,to:In})}}}return new me(this.parser,X,Me,Fe,nt,ct,Bt,this.scheduleOn)}updateViewport(N){if(this.viewport.from==N.from&&this.viewport.to==N.to)return!1;this.viewport=N;let X=this.skipped.length;for(let Me=0;Me<this.skipped.length;Me++){let{from:Fe,to:nt}=this.skipped[Me];Fe<N.to&&nt>N.from&&(this.fragments=xe(this.fragments,Fe,nt),this.skipped.splice(Me--,1))}return this.skipped.length>=X?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(N,X){this.skipped.push({from:N,to:X})}static getSkippingParser(N){return new class extends o._b{createParse(X,Me,Fe){let nt=Fe[0].from,ct=Fe[Fe.length-1].to;return{parsedPos:nt,advance(){let Nt=se;if(Nt){for(let Lr of Fe)Nt.tempSkipped.push(Lr);N&&(Nt.scheduleOn=Nt.scheduleOn?Promise.all([Nt.scheduleOn,N]):N)}return this.parsedPos=ct,new o.mp(o.Jq.none,[],[],ct-nt)},stoppedAt:null,stopAt(){}}}}}isDone(N){N=Math.min(N,this.state.doc.length);let X=this.fragments;return this.treeLen>=N&&X.length&&X[0].from==0&&X[0].to>=N}static get(){return se}}function xe(be,N,X){return o.i9.applyChanges(be,[{fromA:N,toA:X,fromB:N,toB:X}])}class re{constructor(N){this.context=N,this.tree=N.tree}apply(N){if(!N.docChanged&&this.tree==this.context.tree)return this;let X=this.context.changes(N.changes,N.state),Me=this.context.treeLen==N.startState.doc.length?void 0:Math.max(N.changes.mapPos(this.context.treeLen),X.viewport.to);return X.work(20,Me)||X.takeTree(),new re(X)}static init(N){let X=Math.min(3e3,N.doc.length),Me=me.create(N.facet(Ce).parser,N,{from:0,to:X});return Me.work(20,X)||Me.takeTree(),new re(Me)}}J.state=m.QQ.define({create:re.init,update(be,N){for(let X of N.effects)if(X.is(J.setState))return X.value;return N.startState.facet(Ce)!=N.state.facet(Ce)?re.init(N.state):be.apply(N)}});let M=be=>{let N=setTimeout(()=>be(),500);return()=>clearTimeout(N)};typeof requestIdleCallback!="undefined"&&(M=be=>{let N=-1,X=setTimeout(()=>{N=requestIdleCallback(be,{timeout:500-100})},100);return()=>N<0?clearTimeout(X):cancelIdleCallback(N)});const Ee=typeof navigator!="undefined"&&(!((_=navigator.scheduling)===null||_===void 0)&&_.isInputPending)?()=>navigator.scheduling.isInputPending():null,Ne=R.lg.fromClass(class{constructor(N){this.view=N,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(N){let X=this.view.state.field(J.state).context;(X.updateViewport(N.view.viewport)||this.view.viewport.to>X.treeLen)&&this.scheduleWork(),N.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(X)}scheduleWork(){if(this.working)return;let{state:N}=this.view,X=N.field(J.state);(X.tree!=X.context.tree||!X.context.isDone(N.doc.length))&&(this.working=M(this.work))}work(N){this.working=null;let X=Date.now();if(this.chunkEnd<X&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=X+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:Me,viewport:{to:Fe}}=this.view,nt=Me.field(J.state);if(nt.tree==nt.context.tree&&nt.context.isDone(Fe+1e5))return;let ct=Date.now()+Math.min(this.chunkBudget,100,N&&!Ee?Math.max(25,N.timeRemaining()-5):1e9),Bt=nt.context.treeLen<Fe&&Me.doc.length>Fe+1e3,Nt=nt.context.work(()=>Ee&&Ee()||Date.now()>ct,Fe+(Bt?0:1e5));this.chunkBudget-=Date.now()-X,(Nt||this.chunkBudget<=0)&&(nt.context.takeTree(),this.view.dispatch({effects:J.setState.of(new re(nt.context))})),this.chunkBudget>0&&!(Nt&&!Bt)&&this.scheduleWork(),this.checkAsyncSchedule(nt.context)}checkAsyncSchedule(N){N.scheduleOn&&(this.workScheduled++,N.scheduleOn.then(()=>this.scheduleWork()).catch(X=>(0,R.OO)(this.view.state,X)).then(()=>this.workScheduled--),N.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ce=m.r$.define({combine(be){return be.length?be[0]:null},enables:be=>[J.state,Ne,R.tk.contentAttributes.compute([be],N=>{let X=N.facet(be);return X&&X.name?{"data-language":X.name}:{}})]});class ze{constructor(N,X=[]){this.language=N,this.support=X,this.extension=[N,X]}}class Ge{constructor(N,X,Me,Fe,nt,ct=void 0){this.name=N,this.alias=X,this.extensions=Me,this.filename=Fe,this.loadFunc=nt,this.support=ct,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(N=>this.support=N,N=>{throw this.loading=null,N}))}static of(N){let{load:X,support:Me}=N;if(!X){if(!Me)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");X=()=>Promise.resolve(Me)}return new Ge(N.name,(N.alias||[]).concat(N.name).map(Fe=>Fe.toLowerCase()),N.extensions||[],N.filename,X,Me)}static matchFilename(N,X){for(let Fe of N)if(Fe.filename&&Fe.filename.test(X))return Fe;let Me=/\.([^.]+)$/.exec(X);if(Me){for(let Fe of N)if(Fe.extensions.indexOf(Me[1])>-1)return Fe}return null}static matchLanguageName(N,X,Me=!0){X=X.toLowerCase();for(let Fe of N)if(Fe.alias.some(nt=>nt==X))return Fe;if(Me)for(let Fe of N)for(let nt of Fe.alias){let ct=X.indexOf(nt);if(ct>-1&&(nt.length>2||!/\w/.test(X[ct-1])&&!/\w/.test(X[ct+nt.length])))return Fe}return null}}const ht=m.r$.define(),st=m.r$.define({combine:be=>{if(!be.length)return"  ";let N=be[0];if(!N||/\S/.test(N)||Array.from(N).some(X=>X!=N[0]))throw new Error("Invalid indent unit: "+JSON.stringify(be[0]));return N}});function Ye(be){let N=be.facet(st);return N.charCodeAt(0)==9?be.tabSize*N.length:N.length}function Et(be,N){let X="",Me=be.tabSize,Fe=be.facet(st)[0];if(Fe=="	"){for(;N>=Me;)X+="	",N-=Me;Fe=" "}for(let nt=0;nt<N;nt++)X+=Fe;return X}function rr(be,N){be instanceof m.yy&&(be=new Mt(be));for(let Me of be.state.facet(ht)){let Fe=Me(be,N);if(Fe!==void 0)return Fe}let X=te(be.state);return X?Ze(be,X,N):null}function mt(be,N,X){let Me=Object.create(null),Fe=new Mt(be,{overrideIndentation:ct=>{var Bt;return(Bt=Me[ct])!==null&&Bt!==void 0?Bt:-1}}),nt=[];for(let ct=N;ct<=X;){let Bt=be.doc.lineAt(ct);ct=Bt.to+1;let Nt=rr(Fe,Bt.from);if(Nt==null)continue;/\S/.test(Bt.text)||(Nt=0);let Lr=/^\s*/.exec(Bt.text)[0],Kr=Et(be,Nt);Lr!=Kr&&(Me[Bt.from]=Nt,nt.push({from:Bt.from,to:Bt.from+Lr.length,insert:Kr}))}return be.changes(nt)}class Mt{constructor(N,X={}){this.state=N,this.options=X,this.unit=Ye(N)}lineAt(N,X=1){let Me=this.state.doc.lineAt(N),{simulateBreak:Fe,simulateDoubleBreak:nt}=this.options;return Fe!=null&&Fe>=Me.from&&Fe<=Me.to?nt&&Fe==N?{text:"",from:N}:(X<0?Fe<N:Fe<=N)?{text:Me.text.slice(Fe-Me.from),from:Fe}:{text:Me.text.slice(0,Fe-Me.from),from:Me.from}:Me}textAfterPos(N,X=1){if(this.options.simulateDoubleBreak&&N==this.options.simulateBreak)return"";let{text:Me,from:Fe}=this.lineAt(N,X);return Me.slice(N-Fe,Math.min(Me.length,N+100-Fe))}column(N,X=1){let{text:Me,from:Fe}=this.lineAt(N,X),nt=this.countColumn(Me,N-Fe),ct=this.options.overrideIndentation?this.options.overrideIndentation(Fe):-1;return ct>-1&&(nt+=ct-this.countColumn(Me,Me.search(/\S|$/))),nt}countColumn(N,X=N.length){return(0,m.IS)(N,this.state.tabSize,X)}lineIndent(N,X=1){let{text:Me,from:Fe}=this.lineAt(N,X),nt=this.options.overrideIndentation;if(nt){let ct=nt(Fe);if(ct>-1)return ct}return this.countColumn(Me,Me.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const gt=new o.md;function Ze(be,N,X){return he(N.resolveInner(X).enterUnfinishedNodesBefore(X),X,be)}function bt(be){return be.pos==be.options.simulateBreak&&be.options.simulateDoubleBreak}function et(be){let N=be.type.prop(gt);if(N)return N;let X=be.firstChild,Me;if(X&&(Me=X.type.prop(o.md.closedBy))){let Fe=be.lastChild,nt=Fe&&Me.indexOf(Fe.name)>-1;return ct=>Ue(ct,!0,1,void 0,nt&&!bt(ct)?Fe.from:void 0)}return be.parent==null?Ie:null}function he(be,N,X){for(;be;be=be.parent){let Me=et(be);if(Me)return Me(ft.create(X,N,be))}return null}function Ie(){return 0}class ft extends Mt{constructor(N,X,Me){super(N.state,N.options),this.base=N,this.pos=X,this.node=Me}static create(N,X,Me){return new ft(N,X,Me)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let N=this.state.doc.lineAt(this.node.from);for(;;){let X=this.node.resolve(N.from);for(;X.parent&&X.parent.from==X.from;)X=X.parent;if(_t(X,this.node))break;N=this.state.doc.lineAt(X.from)}return this.lineIndent(N.from)}continue(){let N=this.node.parent;return N?he(N,this.pos,this.base):0}}function _t(be,N){for(let X=N;X;X=X.parent)if(be==X)return!0;return!1}function Vt(be){let N=be.node,X=N.childAfter(N.from),Me=N.lastChild;if(!X)return null;let Fe=be.options.simulateBreak,nt=be.state.doc.lineAt(X.from),ct=Fe==null||Fe<=nt.from?nt.to:Math.min(nt.to,Fe);for(let Bt=X.to;;){let Nt=N.childAfter(Bt);if(!Nt||Nt==Me)return null;if(!Nt.type.isSkipped)return Nt.from<ct?X:null;Bt=Nt.to}}function Cr({closing:be,align:N=!0,units:X=1}){return Me=>Ue(Me,N,X,be)}function Ue(be,N,X,Me,Fe){let nt=be.textAfter,ct=nt.match(/^\s*/)[0].length,Bt=Me&&nt.slice(ct,ct+Me.length)==Me||Fe==be.pos+ct,Nt=N?Vt(be):null;return Nt?Bt?be.column(Nt.from):be.column(Nt.to):be.baseIndent+(Bt?0:be.unit*X)}const K=be=>be.baseIndent;function Z({except:be,units:N=1}={}){return X=>{let Me=be&&be.test(X.textAfter);return X.baseIndent+(Me?0:N*X.unit)}}const Q=200;function ne(){return m.yy.transactionFilter.of(be=>{if(!be.docChanged||!be.isUserEvent("input.type")&&!be.isUserEvent("input.complete"))return be;let N=be.startState.languageDataAt("indentOnInput",be.startState.selection.main.head);if(!N.length)return be;let X=be.newDoc,{head:Me}=be.newSelection.main,Fe=X.lineAt(Me);if(Me>Fe.from+Q)return be;let nt=X.sliceString(Fe.from,Me);if(!N.some(Lr=>Lr.test(nt)))return be;let{state:ct}=be,Bt=-1,Nt=[];for(let{head:Lr}of ct.selection.ranges){let Kr=ct.doc.lineAt(Lr);if(Kr.from==Bt)continue;Bt=Kr.from;let In=rr(ct,Kr.from);if(In==null)continue;let wi=/^\s*/.exec(Kr.text)[0],Ci=Et(ct,In);wi!=Ci&&Nt.push({from:Kr.from,to:Kr.from+wi.length,insert:Ci})}return Nt.length?[be,{changes:Nt,sequential:!0}]:be})}const _e=m.r$.define(),Xe=new o.md;function lt(be){let N=be.firstChild,X=be.lastChild;return N&&N.to<X.from?{from:N.to,to:X.type.isError?be.to:X.from}:null}function kt(be,N,X){let Me=te(be);if(Me.length<X)return null;let Fe=Me.resolveInner(X,1),nt=null;for(let ct=Fe;ct;ct=ct.parent){if(ct.to<=X||ct.from>X)continue;if(nt&&ct.from<N)break;let Bt=ct.type.prop(Xe);if(Bt&&(ct.to<Me.length-50||Me.length==be.doc.length||!Qt(ct))){let Nt=Bt(ct,be);Nt&&Nt.from<=X&&Nt.from>=N&&Nt.to>X&&(nt=Nt)}}return nt}function Qt(be){let N=be.lastChild;return N&&N.to==be.to&&N.type.isError}function Yt(be,N,X){for(let Me of be.facet(_e)){let Fe=Me(be,N,X);if(Fe)return Fe}return kt(be,N,X)}function Ht(be,N){let X=N.mapPos(be.from,1),Me=N.mapPos(be.to,-1);return X>=Me?void 0:{from:X,to:Me}}const Xt=m.Py.define({map:Ht}),rt=m.Py.define({map:Ht});function xt(be){let N=[];for(let{head:X}of be.state.selection.ranges)N.some(Me=>Me.from<=X&&Me.to>=X)||N.push(be.lineBlockAt(X));return N}const jt=m.QQ.define({create(){return R.p.none},update(be,N){be=be.map(N.changes);for(let X of N.effects)X.is(Xt)&&!xr(be,X.value.from,X.value.to)?be=be.update({add:[lr.range(X.value.from,X.value.to)]}):X.is(rt)&&(be=be.update({filter:(Me,Fe)=>X.value.from!=Me||X.value.to!=Fe,filterFrom:X.value.from,filterTo:X.value.to}));if(N.selection){let X=!1,{head:Me}=N.selection.main;be.between(Me,Me,(Fe,nt)=>{Fe<Me&&nt>Me&&(X=!0)}),X&&(be=be.update({filterFrom:Me,filterTo:Me,filter:(Fe,nt)=>nt<=Me||Fe>=Me}))}return be},provide:be=>R.tk.decorations.from(be),toJSON(be,N){let X=[];return be.between(0,N.doc.length,(Me,Fe)=>{X.push(Me,Fe)}),X},fromJSON(be){if(!Array.isArray(be)||be.length%2)throw new RangeError("Invalid JSON for fold state");let N=[];for(let X=0;X<be.length;){let Me=be[X++],Fe=be[X++];if(typeof Me!="number"||typeof Fe!="number")throw new RangeError("Invalid JSON for fold state");N.push(lr.range(Me,Fe))}return R.p.set(N,!0)}});function fr(be){return be.field(jt,!1)||RangeSet.empty}function Or(be,N,X){var Me;let Fe=null;return(Me=be.field(jt,!1))===null||Me===void 0||Me.between(N,X,(nt,ct)=>{(!Fe||Fe.from>nt)&&(Fe={from:nt,to:ct})}),Fe}function xr(be,N,X){let Me=!1;return be.between(N,N,(Fe,nt)=>{Fe==N&&nt==X&&(Me=!0)}),Me}function ar(be,N){return be.field(jt,!1)?N:N.concat(m.Py.appendConfig.of(ir()))}const Rt=be=>{for(let N of xt(be)){let X=Yt(be.state,N.from,N.to);if(X)return be.dispatch({effects:ar(be.state,[Xt.of(X),yr(be,X)])}),!0}return!1},jr=be=>{if(!be.state.field(jt,!1))return!1;let N=[];for(let X of xt(be)){let Me=Or(be.state,X.from,X.to);Me&&N.push(rt.of(Me),yr(be,Me,!1))}return N.length&&be.dispatch({effects:N}),N.length>0};function yr(be,N,X=!0){let Me=be.state.doc.lineAt(N.from).number,Fe=be.state.doc.lineAt(N.to).number;return R.tk.announce.of(`${be.state.phrase(X?"Folded lines":"Unfolded lines")} ${Me} ${be.state.phrase("to")} ${Fe}.`)}const dr=be=>{let{state:N}=be,X=[];for(let Me=0;Me<N.doc.length;){let Fe=be.lineBlockAt(Me),nt=Yt(N,Fe.from,Fe.to);nt&&X.push(Xt.of(nt)),Me=(nt?be.lineBlockAt(nt.to):Fe).to+1}return X.length&&be.dispatch({effects:ar(be.state,X)}),!!X.length},pr=be=>{let N=be.state.field(jt,!1);if(!N||!N.size)return!1;let X=[];return N.between(0,be.state.doc.length,(Me,Fe)=>{X.push(rt.of({from:Me,to:Fe}))}),be.dispatch({effects:X}),!0};function cr(be,N){for(let X=N;;){let Me=Yt(be.state,X.from,X.to);if(Me&&Me.to>N.from)return Me;if(!X.from)return null;X=be.lineBlockAt(X.from-1)}}const Wr=be=>{let N=[];for(let X of xt(be)){let Me=Or(be.state,X.from,X.to);if(Me)N.push(rt.of(Me),yr(be,Me,!1));else{let Fe=cr(be,X);Fe&&N.push(Xt.of(Fe),yr(be,Fe))}}return N.length>0&&be.dispatch({effects:ar(be.state,N)}),!!N.length},Tr=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Rt},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:jr},{key:"Ctrl-Alt-[",run:dr},{key:"Ctrl-Alt-]",run:pr}],Le={placeholderDOM:null,placeholderText:"\u2026"},Gt=m.r$.define({combine(be){return(0,m.BO)(be,Le)}});function ir(be){let N=[jt,Zr];return be&&N.push(Gt.of(be)),N}const lr=R.p.replace({widget:new class extends R.l9{toDOM(be){let{state:N}=be,X=N.facet(Gt),Me=nt=>{let ct=be.lineBlockAt(be.posAtDOM(nt.target)),Bt=Or(be.state,ct.from,ct.to);Bt&&be.dispatch({effects:rt.of(Bt)}),nt.preventDefault()};if(X.placeholderDOM)return X.placeholderDOM(be,Me);let Fe=document.createElement("span");return Fe.textContent=X.placeholderText,Fe.setAttribute("aria-label",N.phrase("folded code")),Fe.title=N.phrase("unfold"),Fe.className="cm-foldPlaceholder",Fe.onclick=Me,Fe}}}),Sr={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class _r extends R.SJ{constructor(N,X){super(),this.config=N,this.open=X}eq(N){return this.config==N.config&&this.open==N.open}toDOM(N){if(this.config.markerDOM)return this.config.markerDOM(this.open);let X=document.createElement("span");return X.textContent=this.open?this.config.openText:this.config.closedText,X.title=N.state.phrase(this.open?"Fold line":"Unfold line"),X}}function Er(be={}){let N=Object.assign(Object.assign({},Sr),be),X=new _r(N,!0),Me=new _r(N,!1),Fe=R.lg.fromClass(class{constructor(ct){this.from=ct.viewport.from,this.markers=this.buildMarkers(ct)}update(ct){(ct.docChanged||ct.viewportChanged||ct.startState.facet(Ce)!=ct.state.facet(Ce)||ct.startState.field(jt,!1)!=ct.state.field(jt,!1)||te(ct.startState)!=te(ct.state)||N.foldingChanged(ct))&&(this.markers=this.buildMarkers(ct.view))}buildMarkers(ct){let Bt=new m.f_;for(let Nt of ct.viewportLineBlocks){let Lr=Or(ct.state,Nt.from,Nt.to)?Me:Yt(ct.state,Nt.from,Nt.to)?X:null;Lr&&Bt.add(Nt.from,Nt.from,Lr)}return Bt.finish()}}),{domEventHandlers:nt}=N;return[Fe,(0,R.v5)({class:"cm-foldGutter",markers(ct){var Bt;return((Bt=ct.plugin(Fe))===null||Bt===void 0?void 0:Bt.markers)||m.Xs.empty},initialSpacer(){return new _r(N,!1)},domEventHandlers:Object.assign(Object.assign({},nt),{click:(ct,Bt,Nt)=>{if(nt.click&&nt.click(ct,Bt,Nt))return!0;let Lr=Or(ct.state,Bt.from,Bt.to);if(Lr)return ct.dispatch({effects:rt.of(Lr)}),!0;let Kr=Yt(ct.state,Bt.from,Bt.to);return Kr?(ct.dispatch({effects:Xt.of(Kr)}),!0):!1}})}),ir()]}const Zr=R.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ir{constructor(N,X){this.specs=N;let Me;function Fe(Bt){let Nt=D.V.newName();return(Me||(Me=Object.create(null)))["."+Nt]=Bt,Nt}const nt=typeof X.all=="string"?X.all:X.all?Fe(X.all):void 0,ct=X.scope;this.scope=ct instanceof J?Bt=>Bt.prop(j)==ct.data:ct?Bt=>Bt==ct:void 0,this.style=(0,O.QR)(N.map(Bt=>({tag:Bt.tag,class:Bt.class||Fe(Object.assign({},Bt,{tag:null}))})),{all:nt}).style,this.module=Me?new D.V(Me):null,this.themeType=X.themeType}static define(N,X){return new Ir(N,X||{})}}const Rr=m.r$.define(),Xr=m.r$.define({combine(be){return be.length?[be[0]]:null}});function fn(be){let N=be.facet(Rr);return N.length?N:be.facet(Xr)}function Nr(be,N){let X=[vn],Me;return be instanceof Ir&&(be.module&&X.push(R.tk.styleModule.of(be.module)),Me=be.themeType),N!=null&&N.fallback?X.push(Xr.of(be)):Me?X.push(Rr.computeN([R.tk.darkTheme],Fe=>Fe.facet(R.tk.darkTheme)==(Me=="dark")?[be]:[])):X.push(Rr.of(be)),X}function ln(be,N,X){let Me=fn(be),Fe=null;if(Me){for(let nt of Me)if(!nt.scope||X&&nt.scope(X)){let ct=nt.style(N);ct&&(Fe=Fe?Fe+" "+ct:ct)}}return Fe}class mn{constructor(N){this.markCache=Object.create(null),this.tree=te(N.state),this.decorations=this.buildDeco(N,fn(N.state))}update(N){let X=te(N.state),Me=fn(N.state),Fe=Me!=fn(N.startState);X.length<N.view.viewport.to&&!Fe&&X.type==this.tree.type?this.decorations=this.decorations.map(N.changes):(X!=this.tree||N.viewportChanged||Fe)&&(this.tree=X,this.decorations=this.buildDeco(N.view,Me))}buildDeco(N,X){if(!X||!this.tree.length)return R.p.none;let Me=new m.f_;for(let{from:Fe,to:nt}of N.visibleRanges)(0,O.bW)(this.tree,X,(ct,Bt,Nt)=>{Me.add(ct,Bt,this.markCache[Nt]||(this.markCache[Nt]=R.p.mark({class:Nt})))},Fe,nt);return Me.finish()}}const vn=m.Wl.high(R.lg.fromClass(mn,{decorations:be=>be.decorations})),gn=Ir.define([{tag:O.pJ.meta,color:"#404740"},{tag:O.pJ.link,textDecoration:"underline"},{tag:O.pJ.heading,textDecoration:"underline",fontWeight:"bold"},{tag:O.pJ.emphasis,fontStyle:"italic"},{tag:O.pJ.strong,fontWeight:"bold"},{tag:O.pJ.strikethrough,textDecoration:"line-through"},{tag:O.pJ.keyword,color:"#708"},{tag:[O.pJ.atom,O.pJ.bool,O.pJ.url,O.pJ.contentSeparator,O.pJ.labelName],color:"#219"},{tag:[O.pJ.literal,O.pJ.inserted],color:"#164"},{tag:[O.pJ.string,O.pJ.deleted],color:"#a11"},{tag:[O.pJ.regexp,O.pJ.escape,O.pJ.special(O.pJ.string)],color:"#e40"},{tag:O.pJ.definition(O.pJ.variableName),color:"#00f"},{tag:O.pJ.local(O.pJ.variableName),color:"#30a"},{tag:[O.pJ.typeName,O.pJ.namespace],color:"#085"},{tag:O.pJ.className,color:"#167"},{tag:[O.pJ.special(O.pJ.variableName),O.pJ.macroName],color:"#256"},{tag:O.pJ.definition(O.pJ.propertyName),color:"#00c"},{tag:O.pJ.comment,color:"#940"},{tag:O.pJ.invalid,color:"#f00"}]),un=R.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),cn=1e4,Yr="()[]{}",yn=m.r$.define({combine(be){return(0,m.BO)(be,{afterCursor:!0,brackets:Yr,maxScanDistance:cn,renderMatch:En})}}),sn=R.p.mark({class:"cm-matchingBracket"}),Qr=R.p.mark({class:"cm-nonmatchingBracket"});function En(be){let N=[],X=be.matched?sn:Qr;return N.push(X.range(be.start.from,be.start.to)),be.end&&N.push(X.range(be.end.from,be.end.to)),N}const oi=[m.QQ.define({create(){return R.p.none},update(be,N){if(!N.docChanged&&!N.selection)return be;let X=[],Me=N.state.facet(yn);for(let Fe of N.state.selection.ranges){if(!Fe.empty)continue;let nt=V(N.state,Fe.head,-1,Me)||Fe.head>0&&V(N.state,Fe.head-1,1,Me)||Me.afterCursor&&(V(N.state,Fe.head,1,Me)||Fe.head<N.state.doc.length&&V(N.state,Fe.head+1,-1,Me));nt&&(X=X.concat(Me.renderMatch(nt,N.state)))}return R.p.set(X,!0)},provide:be=>R.tk.decorations.from(be)}),un];function Ki(be={}){return[yn.of(be),oi]}const Pe=new o.md;function y(be,N,X){let Me=be.prop(N<0?o.md.openedBy:o.md.closedBy);if(Me)return Me;if(be.name.length==1){let Fe=X.indexOf(be.name);if(Fe>-1&&Fe%2==(N<0?1:0))return[X[Fe+N]]}return null}function T(be){let N=be.type.prop(Pe);return N?N(be.node):be}function V(be,N,X,Me={}){let Fe=Me.maxScanDistance||cn,nt=Me.brackets||Yr,ct=te(be),Bt=ct.resolveInner(N,X);for(let Nt=Bt;Nt;Nt=Nt.parent){let Lr=y(Nt.type,X,nt);if(Lr&&Nt.from<Nt.to){let Kr=T(Nt);if(Kr&&(X>0?N>=Kr.from&&N<Kr.to:N>Kr.from&&N<=Kr.to))return q(be,N,X,Nt,Kr,Lr,nt)}}return we(be,N,X,ct,Bt.type,Fe,nt)}function q(be,N,X,Me,Fe,nt,ct){let Bt=Me.parent,Nt={from:Fe.from,to:Fe.to},Lr=0,Kr=Bt==null?void 0:Bt.cursor();if(Kr&&(X<0?Kr.childBefore(Me.from):Kr.childAfter(Me.to)))do if(X<0?Kr.to<=Me.from:Kr.from>=Me.to){if(Lr==0&&nt.indexOf(Kr.type.name)>-1&&Kr.from<Kr.to){let In=T(Kr);return{start:Nt,end:In?{from:In.from,to:In.to}:void 0,matched:!0}}else if(y(Kr.type,X,ct))Lr++;else if(y(Kr.type,-X,ct)){if(Lr==0){let In=T(Kr);return{start:Nt,end:In&&In.from<In.to?{from:In.from,to:In.to}:void 0,matched:!1}}Lr--}}while(X<0?Kr.prevSibling():Kr.nextSibling());return{start:Nt,matched:!1}}function we(be,N,X,Me,Fe,nt,ct){let Bt=X<0?be.sliceDoc(N-1,N):be.sliceDoc(N,N+1),Nt=ct.indexOf(Bt);if(Nt<0||Nt%2==0!=X>0)return null;let Lr={from:X<0?N-1:N,to:X>0?N+1:N},Kr=be.doc.iterRange(N,X>0?be.doc.length:0),In=0;for(let wi=0;!Kr.next().done&&wi<=nt;){let Ci=Kr.value;X<0&&(wi+=Ci.length);let si=N+wi*X;for(let Si=X>0?0:Ci.length-1,zi=X>0?Ci.length:-1;Si!=zi;Si+=X){let ys=ct.indexOf(Ci[Si]);if(!(ys<0||Me.resolveInner(si+Si,1).type!=Fe))if(ys%2==0==X>0)In++;else{if(In==1)return{start:Lr,end:{from:si+Si,to:si+Si+1},matched:ys>>1==Nt>>1};In--}}X>0&&(wi+=Ci.length)}return Kr.done?{start:Lr,matched:!1}:null}function ge(be,N,X,Me=0,Fe=0){N==null&&(N=be.search(/[^\s\u00a0]/),N==-1&&(N=be.length));let nt=Fe;for(let ct=Me;ct<N;ct++)be.charCodeAt(ct)==9?nt+=X-nt%X:nt++;return nt}class Ve{constructor(N,X,Me,Fe){this.string=N,this.tabSize=X,this.indentUnit=Me,this.overrideIndent=Fe,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(N){let X=this.string.charAt(this.pos),Me;if(typeof N=="string"?Me=X==N:Me=X&&(N instanceof RegExp?N.test(X):N(X)),Me)return++this.pos,X}eatWhile(N){let X=this.pos;for(;this.eat(N););return this.pos>X}eatSpace(){let N=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>N}skipToEnd(){this.pos=this.string.length}skipTo(N){let X=this.string.indexOf(N,this.pos);if(X>-1)return this.pos=X,!0}backUp(N){this.pos-=N}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ge(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var N;return(N=this.overrideIndent)!==null&&N!==void 0?N:ge(this.string,null,this.tabSize)}match(N,X,Me){if(typeof N=="string"){let Fe=ct=>Me?ct.toLowerCase():ct,nt=this.string.substr(this.pos,N.length);return Fe(nt)==Fe(N)?(X!==!1&&(this.pos+=N.length),!0):null}else{let Fe=this.string.slice(this.pos).match(N);return Fe&&Fe.index>0?null:(Fe&&X!==!1&&(this.pos+=Fe[0].length),Fe)}}current(){return this.string.slice(this.start,this.pos)}}function je(be){return{name:be.name||"",token:be.token,blankLine:be.blankLine||(()=>{}),startState:be.startState||(()=>!0),copyState:be.copyState||At,indent:be.indent||(()=>null),languageData:be.languageData||{},tokenTable:be.tokenTable||Mi}}function At(be){if(typeof be!="object")return be;let N={};for(let X in be){let Me=be[X];N[X]=Me instanceof Array?Me.slice():Me}return N}const Ft=new WeakMap;class Wt extends J{constructor(N){let X=$(N.languageData),Me=je(N),Fe,nt=new class extends o._b{createParse(ct,Bt,Nt){return new Mn(Fe,ct,Bt,Nt)}};super(X,nt,[ht.of((ct,Bt)=>this.getIndent(ct,Bt))],N.name),this.topNode=Jt(X),Fe=this,this.streamParser=Me,this.stateAfter=new o.md({perNode:!0}),this.tokenTable=N.tokenTable?new ko(Me.tokenTable):$n}static define(N){return new Wt(N)}getIndent(N,X){let Me=te(N.state),Fe=Me.resolve(X);for(;Fe&&Fe.type!=this.topNode;)Fe=Fe.parent;if(!Fe)return null;let nt,{overrideIndentation:ct}=N.options;ct&&(nt=Ft.get(N.state),nt!=null&&nt<X-1e4&&(nt=void 0));let Bt=Pr(this,Me,0,Fe.from,nt!=null?nt:X),Nt,Lr;if(Bt?(Lr=Bt.state,Nt=Bt.pos+1):(Lr=this.streamParser.startState(N.unit),Nt=0),X-Nt>1e4)return null;for(;Nt<X;){let In=N.state.doc.lineAt(Nt),wi=Math.min(X,In.to);if(In.length){let Ci=ct?ct(In.from):-1,si=new Ve(In.text,N.state.tabSize,N.unit,Ci<0?void 0:Ci);for(;si.pos<wi-In.from;)zn(this.streamParser.token,si,Lr)}else this.streamParser.blankLine(Lr,N.unit);if(wi==X)break;Nt=In.to+1}let Kr=N.lineAt(X);return ct&&nt==null&&Ft.set(N.state,Kr.from),this.streamParser.indent(Lr,/^\s*(.*)/.exec(Kr.text)[1],N)}get allowsNesting(){return!1}}function Pr(be,N,X,Me,Fe){let nt=X>=Me&&X+N.length<=Fe&&N.prop(be.stateAfter);if(nt)return{state:be.streamParser.copyState(nt),pos:X+N.length};for(let ct=N.children.length-1;ct>=0;ct--){let Bt=N.children[ct],Nt=X+N.positions[ct],Lr=Bt instanceof o.mp&&Nt<Fe&&Pr(be,Bt,Nt,Me,Fe);if(Lr)return Lr}return null}function mr(be,N,X,Me,Fe){if(Fe&&X<=0&&Me>=N.length)return N;!Fe&&N.type==be.topNode&&(Fe=!0);for(let nt=N.children.length-1;nt>=0;nt--){let ct=N.positions[nt],Bt=N.children[nt],Nt;if(ct<Me&&Bt instanceof o.mp){if(!(Nt=mr(be,Bt,X-ct,Me-ct,Fe)))break;return Fe?new o.mp(N.type,N.children.slice(0,nt).concat(Nt),N.positions.slice(0,nt+1),ct+Nt.length):Nt}}return null}function On(be,N,X,Me){for(let Fe of N){let nt=Fe.from+(Fe.openStart?25:0),ct=Fe.to-(Fe.openEnd?25:0),Bt=nt<=X&&ct>X&&Pr(be,Fe.tree,0-Fe.offset,X,ct),Nt;if(Bt&&(Nt=mr(be,Fe.tree,X+Fe.offset,Bt.pos+Fe.offset,!1)))return{state:Bt.state,tree:Nt}}return{state:be.streamParser.startState(Me?Ye(Me):4),tree:o.mp.empty}}class Mn{constructor(N,X,Me,Fe){this.lang=N,this.input=X,this.fragments=Me,this.ranges=Fe,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=Fe[Fe.length-1].to;let nt=me.get(),ct=Fe[0].from,{state:Bt,tree:Nt}=On(N,Me,ct,nt==null?void 0:nt.state);this.state=Bt,this.parsedPos=this.chunkStart=ct+Nt.length;for(let Lr=0;Lr<Nt.children.length;Lr++)this.chunks.push(Nt.children[Lr]),this.chunkPos.push(Nt.positions[Lr]);nt&&this.parsedPos<nt.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Ye(nt.state)),nt.skipUntilInView(this.parsedPos,nt.viewport.from),this.parsedPos=nt.viewport.from),this.moveRangeIndex()}advance(){let N=me.get(),X=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),Me=Math.min(X,this.chunkStart+2048);for(N&&(Me=Math.min(Me,N.viewport.to));this.parsedPos<Me;)this.parseLine(N);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=X?this.finish():N&&this.parsedPos>=N.viewport.to?(N.skipUntilInView(this.parsedPos,X),this.finish()):null}stopAt(N){this.stoppedAt=N}lineAfter(N){let X=this.input.chunk(N);if(this.input.lineChunks)X==`
`&&(X="");else{let Me=X.indexOf(`
`);Me>-1&&(X=X.slice(0,Me))}return N+X.length<=this.to?X:X.slice(0,this.to-N)}nextLine(){let N=this.parsedPos,X=this.lineAfter(N),Me=N+X.length;for(let Fe=this.rangeIndex;;){let nt=this.ranges[Fe].to;if(nt>=Me||(X=X.slice(0,nt-(Me-X.length)),Fe++,Fe==this.ranges.length))break;let ct=this.ranges[Fe].from,Bt=this.lineAfter(ct);X+=Bt,Me=ct+Bt.length}return{line:X,end:Me}}skipGapsTo(N,X,Me){for(;;){let Fe=this.ranges[this.rangeIndex].to,nt=N+X;if(Me>0?Fe>nt:Fe>=nt)break;let ct=this.ranges[++this.rangeIndex].from;X+=ct-Fe}return X}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(N,X,Me,Fe,nt){if(this.ranges.length>1){nt=this.skipGapsTo(X,nt,1),X+=nt;let ct=this.chunk.length;nt=this.skipGapsTo(Me,nt,-1),Me+=nt,Fe+=this.chunk.length-ct}return this.chunk.push(N,X,Me,Fe),nt}parseLine(N){let{line:X,end:Me}=this.nextLine(),Fe=0,{streamParser:nt}=this.lang,ct=new Ve(X,N?N.state.tabSize:4,N?Ye(N.state):2);if(ct.eol())nt.blankLine(this.state,ct.indentUnit);else for(;!ct.eol();){let Bt=zn(nt.token,ct,this.state);if(Bt&&(Fe=this.emitToken(this.lang.tokenTable.resolve(Bt),this.parsedPos+ct.start,this.parsedPos+ct.pos,4,Fe)),ct.start>1e4)break}this.parsedPos=Me,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let N=o.mp.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Cn,topID:0,maxBufferLength:2048,reused:this.chunkReused});N=new o.mp(N.type,N.children,N.positions,N.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(N),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new o.mp(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function zn(be,N,X){N.start=N.pos;for(let Me=0;Me<10;Me++){let Fe=be(N,X);if(N.pos>N.start)return Fe}throw new Error("Stream parser failed to advance stream.")}const Mi=Object.create(null),$i=[o.Jq.none],Cn=new o.Lj($i),Zo=[],So=Object.create(null);for(let[be,N]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])So[be]=Mo(Mi,N);class ko{constructor(N){this.extra=N,this.table=Object.assign(Object.create(null),So)}resolve(N){return N?this.table[N]||(this.table[N]=Mo(this.extra,N)):0}}const $n=new ko(Mi);function Ii(be,N){Zo.indexOf(be)>-1||(Zo.push(be),console.warn(N))}function Mo(be,N){let X=null;for(let nt of N.split(".")){let ct=be[nt]||O.pJ[nt];ct?typeof ct=="function"?X?X=ct(X):Ii(nt,`Modifier ${nt} used at start of tag`):X?Ii(nt,`Tag ${nt} used as modifier`):X=ct:Ii(nt,`Unknown highlighting tag ${nt}`)}if(!X)return 0;let Me=N.replace(/ /g,"_"),Fe=o.Jq.define({id:$i.length,name:Me,props:[(0,O.Gv)({[Me]:X})]});return $i.push(Fe),Fe.id}function Jt(be){let N=o.Jq.define({id:$i.length,name:"Document",props:[j.add(()=>be)]});return $i.push(N),N}},42123:function(Te,S,l){"use strict";l.d(S,{r:function(){return R}});var o=["true","false","on","off","yes","no"],m=new RegExp("\\b(("+o.join(")|(")+"))$","i");const R={name:"yaml",token:function(O,D){var _=O.peek(),j=D.escaped;if(D.escaped=!1,_=="#"&&(O.pos==0||/\s/.test(O.string.charAt(O.pos-1))))return O.skipToEnd(),"comment";if(O.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(D.literal&&O.indentation()>D.keyCol)return O.skipToEnd(),"string";if(D.literal&&(D.literal=!1),O.sol()){if(D.keyCol=0,D.pair=!1,D.pairStart=!1,O.match("---")||O.match("..."))return"def";if(O.match(/^\s*-\s+/))return"meta"}if(O.match(/^(\{|\}|\[|\])/))return _=="{"?D.inlinePairs++:_=="}"?D.inlinePairs--:_=="["?D.inlineList++:D.inlineList--,"meta";if(D.inlineList>0&&!j&&_==",")return O.next(),"meta";if(D.inlinePairs>0&&!j&&_==",")return D.keyCol=0,D.pair=!1,D.pairStart=!1,O.next(),"meta";if(D.pairStart){if(O.match(/^\s*(\||\>)\s*/))return D.literal=!0,"meta";if(O.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(D.inlinePairs==0&&O.match(/^\s*-?[0-9\.\,]+\s?$/)||D.inlinePairs>0&&O.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(O.match(m))return"keyword"}return!D.pair&&O.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(D.pair=!0,D.keyCol=O.indentation(),"atom"):D.pair&&O.match(/^:\s*/)?(D.pairStart=!0,"meta"):(D.pairStart=!1,D.escaped=_=="\\",O.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}}},1727:function(Te,S,l){"use strict";l.d(S,{BO:function(){return Zr},D0:function(){return Gt},Gz:function(){return Ki},IS:function(){return oi},Py:function(){return ar},QQ:function(){return Vt},Wl:function(){return K},Xs:function(){return Nr},YW:function(){return Rt},as:function(){return Ce},bg:function(){return xe},cp:function(){return ye},f_:function(){return mn},gc:function(){return Ee},gm:function(){return me},jT:function(){return mt},n0:function(){return Ne},nZ:function(){return re},q6:function(){return fr},r$:function(){return Ze},uU:function(){return Ir},xv:function(){return o},yy:function(){return Er}});class o{lineAt(y){if(y<0||y>this.length)throw new RangeError(`Invalid position ${y} in document of length ${this.length}`);return this.lineInner(y,!1,1,0)}line(y){if(y<1||y>this.lines)throw new RangeError(`Invalid line number ${y} in ${this.lines}-line document`);return this.lineInner(y,!0,1,0)}replace(y,T,V){let q=[];return this.decompose(0,y,q,2),V.length&&V.decompose(0,V.length,q,3),this.decompose(T,this.length,q,1),R.from(q,this.length-(T-y)+V.length)}append(y){return this.replace(this.length,this.length,y)}slice(y,T=this.length){let V=[];return this.decompose(y,T,V,0),R.from(V,T-y)}eq(y){if(y==this)return!0;if(y.length!=this.length||y.lines!=this.lines)return!1;let T=this.scanIdentical(y,1),V=this.length-this.scanIdentical(y,-1),q=new j(this),we=new j(y);for(let ge=T,Ve=T;;){if(q.next(ge),we.next(ge),ge=0,q.lineBreak!=we.lineBreak||q.done!=we.done||q.value!=we.value)return!1;if(Ve+=q.value.length,q.done||Ve>=V)return!0}}iter(y=1){return new j(this,y)}iterRange(y,T=this.length){return new $(this,y,T)}iterLines(y,T){let V;if(y==null)V=this.iter();else{T==null&&(T=this.lines+1);let q=this.line(y).from;V=this.iterRange(q,Math.max(q,T==this.lines+1?this.length:T<=1?0:this.line(T-1).to))}return new I(V)}toString(){return this.sliceString(0)}toJSON(){let y=[];return this.flatten(y),y}constructor(){}static of(y){if(y.length==0)throw new RangeError("A document must have at least one line");return y.length==1&&!y[0]?o.empty:y.length<=32?new m(y):R.from(m.split(y,[]))}}class m extends o{constructor(y,T=O(y)){super(),this.text=y,this.length=T}get lines(){return this.text.length}get children(){return null}lineInner(y,T,V,q){for(let we=0;;we++){let ge=this.text[we],Ve=q+ge.length;if((T?V:Ve)>=y)return new J(q,Ve,V,ge);q=Ve+1,V++}}decompose(y,T,V,q){let we=y<=0&&T>=this.length?this:new m(_(this.text,y,T),Math.min(T,this.length)-Math.max(0,y));if(q&1){let ge=V.pop(),Ve=D(we.text,ge.text.slice(),0,we.length);if(Ve.length<=32)V.push(new m(Ve,ge.length+we.length));else{let je=Ve.length>>1;V.push(new m(Ve.slice(0,je)),new m(Ve.slice(je)))}}else V.push(we)}replace(y,T,V){if(!(V instanceof m))return super.replace(y,T,V);let q=D(this.text,D(V.text,_(this.text,0,y)),T),we=this.length+V.length-(T-y);return q.length<=32?new m(q,we):R.from(m.split(q,[]),we)}sliceString(y,T=this.length,V=`
`){let q="";for(let we=0,ge=0;we<=T&&ge<this.text.length;ge++){let Ve=this.text[ge],je=we+Ve.length;we>y&&ge&&(q+=V),y<je&&T>we&&(q+=Ve.slice(Math.max(0,y-we),T-we)),we=je+1}return q}flatten(y){for(let T of this.text)y.push(T)}scanIdentical(){return 0}static split(y,T){let V=[],q=-1;for(let we of y)V.push(we),q+=we.length+1,V.length==32&&(T.push(new m(V,q)),V=[],q=-1);return q>-1&&T.push(new m(V,q)),T}}class R extends o{constructor(y,T){super(),this.children=y,this.length=T,this.lines=0;for(let V of y)this.lines+=V.lines}lineInner(y,T,V,q){for(let we=0;;we++){let ge=this.children[we],Ve=q+ge.length,je=V+ge.lines-1;if((T?je:Ve)>=y)return ge.lineInner(y,T,V,q);q=Ve+1,V=je+1}}decompose(y,T,V,q){for(let we=0,ge=0;ge<=T&&we<this.children.length;we++){let Ve=this.children[we],je=ge+Ve.length;if(y<=je&&T>=ge){let At=q&((ge<=y?1:0)|(je>=T?2:0));ge>=y&&je<=T&&!At?V.push(Ve):Ve.decompose(y-ge,T-ge,V,At)}ge=je+1}}replace(y,T,V){if(V.lines<this.lines)for(let q=0,we=0;q<this.children.length;q++){let ge=this.children[q],Ve=we+ge.length;if(y>=we&&T<=Ve){let je=ge.replace(y-we,T-we,V),At=this.lines-ge.lines+je.lines;if(je.lines<At>>5-1&&je.lines>At>>5+1){let Ft=this.children.slice();return Ft[q]=je,new R(Ft,this.length-(T-y)+V.length)}return super.replace(we,Ve,je)}we=Ve+1}return super.replace(y,T,V)}sliceString(y,T=this.length,V=`
`){let q="";for(let we=0,ge=0;we<this.children.length&&ge<=T;we++){let Ve=this.children[we],je=ge+Ve.length;ge>y&&we&&(q+=V),y<je&&T>ge&&(q+=Ve.sliceString(y-ge,T-ge,V)),ge=je+1}return q}flatten(y){for(let T of this.children)T.flatten(y)}scanIdentical(y,T){if(!(y instanceof R))return 0;let V=0,[q,we,ge,Ve]=T>0?[0,0,this.children.length,y.children.length]:[this.children.length-1,y.children.length-1,-1,-1];for(;;q+=T,we+=T){if(q==ge||we==Ve)return V;let je=this.children[q],At=y.children[we];if(je!=At)return V+je.scanIdentical(At,T);V+=je.length+1}}static from(y,T=y.reduce((V,q)=>V+q.length+1,-1)){let V=0;for(let mr of y)V+=mr.lines;if(V<32){let mr=[];for(let On of y)On.flatten(mr);return new m(mr,T)}let q=Math.max(32,V>>5),we=q<<1,ge=q>>1,Ve=[],je=0,At=-1,Ft=[];function Wt(mr){let On;if(mr.lines>we&&mr instanceof R)for(let Mn of mr.children)Wt(Mn);else mr.lines>ge&&(je>ge||!je)?(Pr(),Ve.push(mr)):mr instanceof m&&je&&(On=Ft[Ft.length-1])instanceof m&&mr.lines+On.lines<=32?(je+=mr.lines,At+=mr.length+1,Ft[Ft.length-1]=new m(On.text.concat(mr.text),On.length+1+mr.length)):(je+mr.lines>q&&Pr(),je+=mr.lines,At+=mr.length+1,Ft.push(mr))}function Pr(){je!=0&&(Ve.push(Ft.length==1?Ft[0]:R.from(Ft,At)),At=-1,je=Ft.length=0)}for(let mr of y)Wt(mr);return Pr(),Ve.length==1?Ve[0]:new R(Ve,T)}}o.empty=new m([""],0);function O(Pe){let y=-1;for(let T of Pe)y+=T.length+1;return y}function D(Pe,y,T=0,V=1e9){for(let q=0,we=0,ge=!0;we<Pe.length&&q<=V;we++){let Ve=Pe[we],je=q+Ve.length;je>=T&&(je>V&&(Ve=Ve.slice(0,V-q)),q<T&&(Ve=Ve.slice(T-q)),ge?(y[y.length-1]+=Ve,ge=!1):y.push(Ve)),q=je+1}return y}function _(Pe,y,T){return D(Pe,[""],y,T)}class j{constructor(y,T=1){this.dir=T,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[y],this.offsets=[T>0?1:(y instanceof m?y.text.length:y.children.length)<<1]}nextInner(y,T){for(this.done=this.lineBreak=!1;;){let V=this.nodes.length-1,q=this.nodes[V],we=this.offsets[V],ge=we>>1,Ve=q instanceof m?q.text.length:q.children.length;if(ge==(T>0?Ve:0)){if(V==0)return this.done=!0,this.value="",this;T>0&&this.offsets[V-1]++,this.nodes.pop(),this.offsets.pop()}else if((we&1)==(T>0?0:1)){if(this.offsets[V]+=T,y==0)return this.lineBreak=!0,this.value=`
`,this;y--}else if(q instanceof m){let je=q.text[ge+(T<0?-1:0)];if(this.offsets[V]+=T,je.length>Math.max(0,y))return this.value=y==0?je:T>0?je.slice(y):je.slice(0,je.length-y),this;y-=je.length}else{let je=q.children[ge+(T<0?-1:0)];y>je.length?(y-=je.length,this.offsets[V]+=T):(T<0&&this.offsets[V]--,this.nodes.push(je),this.offsets.push(T>0?1:(je instanceof m?je.text.length:je.children.length)<<1))}}}next(y=0){return y<0&&(this.nextInner(-y,-this.dir),y=this.value.length),this.nextInner(y,this.dir)}}class ${constructor(y,T,V){this.value="",this.done=!1,this.cursor=new j(y,T>V?-1:1),this.pos=T>V?y.length:0,this.from=Math.min(T,V),this.to=Math.max(T,V)}nextInner(y,T){if(T<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;y+=Math.max(0,T<0?this.pos-this.to:this.from-this.pos);let V=T<0?this.pos-this.from:this.to-this.pos;y>V&&(y=V),V-=y;let{value:q}=this.cursor.next(y);return this.pos+=(q.length+y)*T,this.value=q.length<=V?q:T<0?q.slice(q.length-V):q.slice(0,V),this.done=!this.value,this}next(y=0){return y<0?y=Math.max(y,this.from-this.pos):y>0&&(y=Math.min(y,this.to-this.pos)),this.nextInner(y,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class I{constructor(y){this.inner=y,this.afterBreak=!0,this.value="",this.done=!1}next(y=0){let{done:T,lineBreak:V,value:q}=this.inner.next(y);return T?(this.done=!0,this.value=""):V?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=q,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(o.prototype[Symbol.iterator]=function(){return this.iter()},j.prototype[Symbol.iterator]=$.prototype[Symbol.iterator]=I.prototype[Symbol.iterator]=function(){return this});class J{constructor(y,T,V,q){this.from=y,this.to=T,this.number=V,this.text=q}get length(){return this.to-this.from}}let z="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(Pe=>Pe?parseInt(Pe,36):1);for(let Pe=1;Pe<z.length;Pe++)z[Pe]+=z[Pe-1];function ee(Pe){for(let y=1;y<z.length;y+=2)if(z[y]>Pe)return z[y-1]<=Pe;return!1}function te(Pe){return Pe>=127462&&Pe<=127487}const oe=8205;function ye(Pe,y,T=!0,V=!0){return(T?F:Y)(Pe,y,V)}function F(Pe,y,T){if(y==Pe.length)return y;y&&ve(Pe.charCodeAt(y))&&se(Pe.charCodeAt(y-1))&&y--;let V=me(Pe,y);for(y+=re(V);y<Pe.length;){let q=me(Pe,y);if(V==oe||q==oe||T&&ee(q))y+=re(q),V=q;else if(te(q)){let we=0,ge=y-2;for(;ge>=0&&te(me(Pe,ge));)we++,ge-=2;if(we%2==0)break;y+=2}else break}return y}function Y(Pe,y,T){for(;y>0;){let V=F(Pe,y-2,T);if(V<y)return V;y--}return 0}function ve(Pe){return Pe>=56320&&Pe<57344}function se(Pe){return Pe>=55296&&Pe<56320}function me(Pe,y){let T=Pe.charCodeAt(y);if(!se(T)||y+1==Pe.length)return T;let V=Pe.charCodeAt(y+1);return ve(V)?(T-55296<<10)+(V-56320)+65536:T}function xe(Pe){return Pe<=65535?String.fromCharCode(Pe):(Pe-=65536,String.fromCharCode((Pe>>10)+55296,(Pe&1023)+56320))}function re(Pe){return Pe<65536?1:2}const M=/\r\n?|\n/;var Ee=function(Pe){return Pe[Pe.Simple=0]="Simple",Pe[Pe.TrackDel=1]="TrackDel",Pe[Pe.TrackBefore=2]="TrackBefore",Pe[Pe.TrackAfter=3]="TrackAfter",Pe}(Ee||(Ee={}));class Ne{constructor(y){this.sections=y}get length(){let y=0;for(let T=0;T<this.sections.length;T+=2)y+=this.sections[T];return y}get newLength(){let y=0;for(let T=0;T<this.sections.length;T+=2){let V=this.sections[T+1];y+=V<0?this.sections[T]:V}return y}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(y){for(let T=0,V=0,q=0;T<this.sections.length;){let we=this.sections[T++],ge=this.sections[T++];ge<0?(y(V,q,we),q+=we):q+=ge,V+=we}}iterChangedRanges(y,T=!1){ht(this,y,T)}get invertedDesc(){let y=[];for(let T=0;T<this.sections.length;){let V=this.sections[T++],q=this.sections[T++];q<0?y.push(V,q):y.push(q,V)}return new Ne(y)}composeDesc(y){return this.empty?y:y.empty?this:Ye(this,y)}mapDesc(y,T=!1){return y.empty?this:st(this,y,T)}mapPos(y,T=-1,V=Ee.Simple){let q=0,we=0;for(let ge=0;ge<this.sections.length;){let Ve=this.sections[ge++],je=this.sections[ge++],At=q+Ve;if(je<0){if(At>y)return we+(y-q);we+=Ve}else{if(V!=Ee.Simple&&At>=y&&(V==Ee.TrackDel&&q<y&&At>y||V==Ee.TrackBefore&&q<y||V==Ee.TrackAfter&&At>y))return null;if(At>y||At==y&&T<0&&!Ve)return y==q||T<0?we:we+je;we+=je}q=At}if(y>q)throw new RangeError(`Position ${y} is out of range for changeset of length ${q}`);return we}touchesRange(y,T=y){for(let V=0,q=0;V<this.sections.length&&q<=T;){let we=this.sections[V++],ge=this.sections[V++],Ve=q+we;if(ge>=0&&q<=T&&Ve>=y)return q<y&&Ve>T?"cover":!0;q=Ve}return!1}toString(){let y="";for(let T=0;T<this.sections.length;){let V=this.sections[T++],q=this.sections[T++];y+=(y?" ":"")+V+(q>=0?":"+q:"")}return y}toJSON(){return this.sections}static fromJSON(y){if(!Array.isArray(y)||y.length%2||y.some(T=>typeof T!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ne(y)}static create(y){return new Ne(y)}}class Ce extends Ne{constructor(y,T){super(y),this.inserted=T}apply(y){if(this.length!=y.length)throw new RangeError("Applying change set to a document with the wrong length");return ht(this,(T,V,q,we,ge)=>y=y.replace(q,q+(V-T),ge),!1),y}mapDesc(y,T=!1){return st(this,y,T,!0)}invert(y){let T=this.sections.slice(),V=[];for(let q=0,we=0;q<T.length;q+=2){let ge=T[q],Ve=T[q+1];if(Ve>=0){T[q]=Ve,T[q+1]=ge;let je=q>>1;for(;V.length<je;)V.push(o.empty);V.push(ge?y.slice(we,we+ge):o.empty)}we+=ge}return new Ce(T,V)}compose(y){return this.empty?y:y.empty?this:Ye(this,y,!0)}map(y,T=!1){return y.empty?this:st(this,y,T,!0)}iterChanges(y,T=!1){ht(this,y,T)}get desc(){return Ne.create(this.sections)}filter(y){let T=[],V=[],q=[],we=new Et(this);e:for(let ge=0,Ve=0;;){let je=ge==y.length?1e9:y[ge++];for(;Ve<je||Ve==je&&we.len==0;){if(we.done)break e;let Ft=Math.min(we.len,je-Ve);ze(q,Ft,-1);let Wt=we.ins==-1?-1:we.off==0?we.ins:0;ze(T,Ft,Wt),Wt>0&&Ge(V,T,we.text),we.forward(Ft),Ve+=Ft}let At=y[ge++];for(;Ve<At;){if(we.done)break e;let Ft=Math.min(we.len,At-Ve);ze(T,Ft,-1),ze(q,Ft,we.ins==-1?-1:we.off==0?we.ins:0),we.forward(Ft),Ve+=Ft}}return{changes:new Ce(T,V),filtered:Ne.create(q)}}toJSON(){let y=[];for(let T=0;T<this.sections.length;T+=2){let V=this.sections[T],q=this.sections[T+1];q<0?y.push(V):q==0?y.push([V]):y.push([V].concat(this.inserted[T>>1].toJSON()))}return y}static of(y,T,V){let q=[],we=[],ge=0,Ve=null;function je(Ft=!1){if(!Ft&&!q.length)return;ge<T&&ze(q,T-ge,-1);let Wt=new Ce(q,we);Ve=Ve?Ve.compose(Wt.map(Ve)):Wt,q=[],we=[],ge=0}function At(Ft){if(Array.isArray(Ft))for(let Wt of Ft)At(Wt);else if(Ft instanceof Ce){if(Ft.length!=T)throw new RangeError(`Mismatched change set length (got ${Ft.length}, expected ${T})`);je(),Ve=Ve?Ve.compose(Ft.map(Ve)):Ft}else{let{from:Wt,to:Pr=Wt,insert:mr}=Ft;if(Wt>Pr||Wt<0||Pr>T)throw new RangeError(`Invalid change range ${Wt} to ${Pr} (in doc of length ${T})`);let On=mr?typeof mr=="string"?o.of(mr.split(V||M)):mr:o.empty,Mn=On.length;if(Wt==Pr&&Mn==0)return;Wt<ge&&je(),Wt>ge&&ze(q,Wt-ge,-1),ze(q,Pr-Wt,Mn),Ge(we,q,On),ge=Pr}}return At(y),je(!Ve),Ve}static empty(y){return new Ce(y?[y,-1]:[],[])}static fromJSON(y){if(!Array.isArray(y))throw new RangeError("Invalid JSON representation of ChangeSet");let T=[],V=[];for(let q=0;q<y.length;q++){let we=y[q];if(typeof we=="number")T.push(we,-1);else{if(!Array.isArray(we)||typeof we[0]!="number"||we.some((ge,Ve)=>Ve&&typeof ge!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(we.length==1)T.push(we[0],0);else{for(;V.length<q;)V.push(o.empty);V[q]=o.of(we.slice(1)),T.push(we[0],V[q].length)}}}return new Ce(T,V)}static createSet(y,T){return new Ce(y,T)}}function ze(Pe,y,T,V=!1){if(y==0&&T<=0)return;let q=Pe.length-2;q>=0&&T<=0&&T==Pe[q+1]?Pe[q]+=y:y==0&&Pe[q]==0?Pe[q+1]+=T:V?(Pe[q]+=y,Pe[q+1]+=T):Pe.push(y,T)}function Ge(Pe,y,T){if(T.length==0)return;let V=y.length-2>>1;if(V<Pe.length)Pe[Pe.length-1]=Pe[Pe.length-1].append(T);else{for(;Pe.length<V;)Pe.push(o.empty);Pe.push(T)}}function ht(Pe,y,T){let V=Pe.inserted;for(let q=0,we=0,ge=0;ge<Pe.sections.length;){let Ve=Pe.sections[ge++],je=Pe.sections[ge++];if(je<0)q+=Ve,we+=Ve;else{let At=q,Ft=we,Wt=o.empty;for(;At+=Ve,Ft+=je,je&&V&&(Wt=Wt.append(V[ge-2>>1])),!(T||ge==Pe.sections.length||Pe.sections[ge+1]<0);)Ve=Pe.sections[ge++],je=Pe.sections[ge++];y(q,At,we,Ft,Wt),q=At,we=Ft}}}function st(Pe,y,T,V=!1){let q=[],we=V?[]:null,ge=new Et(Pe),Ve=new Et(y);for(let je=-1;;)if(ge.ins==-1&&Ve.ins==-1){let At=Math.min(ge.len,Ve.len);ze(q,At,-1),ge.forward(At),Ve.forward(At)}else if(Ve.ins>=0&&(ge.ins<0||je==ge.i||ge.off==0&&(Ve.len<ge.len||Ve.len==ge.len&&!T))){let At=Ve.len;for(ze(q,Ve.ins,-1);At;){let Ft=Math.min(ge.len,At);ge.ins>=0&&je<ge.i&&ge.len<=Ft&&(ze(q,0,ge.ins),we&&Ge(we,q,ge.text),je=ge.i),ge.forward(Ft),At-=Ft}Ve.next()}else if(ge.ins>=0){let At=0,Ft=ge.len;for(;Ft;)if(Ve.ins==-1){let Wt=Math.min(Ft,Ve.len);At+=Wt,Ft-=Wt,Ve.forward(Wt)}else if(Ve.ins==0&&Ve.len<Ft)Ft-=Ve.len,Ve.next();else break;ze(q,At,je<ge.i?ge.ins:0),we&&je<ge.i&&Ge(we,q,ge.text),je=ge.i,ge.forward(ge.len-Ft)}else{if(ge.done&&Ve.done)return we?Ce.createSet(q,we):Ne.create(q);throw new Error("Mismatched change set lengths")}}function Ye(Pe,y,T=!1){let V=[],q=T?[]:null,we=new Et(Pe),ge=new Et(y);for(let Ve=!1;;){if(we.done&&ge.done)return q?Ce.createSet(V,q):Ne.create(V);if(we.ins==0)ze(V,we.len,0,Ve),we.next();else if(ge.len==0&&!ge.done)ze(V,0,ge.ins,Ve),q&&Ge(q,V,ge.text),ge.next();else{if(we.done||ge.done)throw new Error("Mismatched change set lengths");{let je=Math.min(we.len2,ge.len),At=V.length;if(we.ins==-1){let Ft=ge.ins==-1?-1:ge.off?0:ge.ins;ze(V,je,Ft,Ve),q&&Ft&&Ge(q,V,ge.text)}else ge.ins==-1?(ze(V,we.off?0:we.len,je,Ve),q&&Ge(q,V,we.textBit(je))):(ze(V,we.off?0:we.len,ge.off?0:ge.ins,Ve),q&&!ge.off&&Ge(q,V,ge.text));Ve=(we.ins>je||ge.ins>=0&&ge.len>je)&&(Ve||V.length>At),we.forward2(je),ge.forward(je)}}}}class Et{constructor(y){this.set=y,this.i=0,this.next()}next(){let{sections:y}=this.set;this.i<y.length?(this.len=y[this.i++],this.ins=y[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:y}=this.set,T=this.i-2>>1;return T>=y.length?o.empty:y[T]}textBit(y){let{inserted:T}=this.set,V=this.i-2>>1;return V>=T.length&&!y?o.empty:T[V].slice(this.off,y==null?void 0:this.off+y)}forward(y){y==this.len?this.next():(this.len-=y,this.off+=y)}forward2(y){this.ins==-1?this.forward(y):y==this.ins?this.next():(this.ins-=y,this.off+=y)}}class rr{constructor(y,T,V){this.from=y,this.to=T,this.flags=V}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let y=this.flags&3;return y==3?null:y}get goalColumn(){let y=this.flags>>5;return y==33554431?void 0:y}map(y,T=-1){let V,q;return this.empty?V=q=y.mapPos(this.from,T):(V=y.mapPos(this.from,1),q=y.mapPos(this.to,-1)),V==this.from&&q==this.to?this:new rr(V,q,this.flags)}extend(y,T=y){if(y<=this.anchor&&T>=this.anchor)return mt.range(y,T);let V=Math.abs(y-this.anchor)>Math.abs(T-this.anchor)?y:T;return mt.range(this.anchor,V)}eq(y){return this.anchor==y.anchor&&this.head==y.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(y){if(!y||typeof y.anchor!="number"||typeof y.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return mt.range(y.anchor,y.head)}static create(y,T,V){return new rr(y,T,V)}}class mt{constructor(y,T){this.ranges=y,this.mainIndex=T}map(y,T=-1){return y.empty?this:mt.create(this.ranges.map(V=>V.map(y,T)),this.mainIndex)}eq(y){if(this.ranges.length!=y.ranges.length||this.mainIndex!=y.mainIndex)return!1;for(let T=0;T<this.ranges.length;T++)if(!this.ranges[T].eq(y.ranges[T]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new mt([this.main],0)}addRange(y,T=!0){return mt.create([y].concat(this.ranges),T?0:this.mainIndex+1)}replaceRange(y,T=this.mainIndex){let V=this.ranges.slice();return V[T]=y,mt.create(V,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(y=>y.toJSON()),main:this.mainIndex}}static fromJSON(y){if(!y||!Array.isArray(y.ranges)||typeof y.main!="number"||y.main>=y.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new mt(y.ranges.map(T=>rr.fromJSON(T)),y.main)}static single(y,T=y){return new mt([mt.range(y,T)],0)}static create(y,T=0){if(y.length==0)throw new RangeError("A selection needs at least one range");for(let V=0,q=0;q<y.length;q++){let we=y[q];if(we.empty?we.from<=V:we.from<V)return mt.normalized(y.slice(),T);V=we.to}return new mt(y,T)}static cursor(y,T=0,V,q){return rr.create(y,y,(T==0?0:T<0?4:8)|(V==null?3:Math.min(2,V))|(q!=null?q:33554431)<<5)}static range(y,T,V,q){let we=(V!=null?V:33554431)<<5|(q==null?3:Math.min(2,q));return T<y?rr.create(T,y,24|we):rr.create(y,T,(T>y?4:0)|we)}static normalized(y,T=0){let V=y[T];y.sort((q,we)=>q.from-we.from),T=y.indexOf(V);for(let q=1;q<y.length;q++){let we=y[q],ge=y[q-1];if(we.empty?we.from<=ge.to:we.from<ge.to){let Ve=ge.from,je=Math.max(we.to,ge.to);q<=T&&T--,y.splice(--q,2,we.anchor>we.head?mt.range(je,Ve):mt.range(Ve,je))}}return new mt(y,T)}}function Mt(Pe,y){for(let T of Pe.ranges)if(T.to>y)throw new RangeError("Selection points outside of document")}let gt=0;class Ze{constructor(y,T,V,q,we){this.combine=y,this.compareInput=T,this.compare=V,this.isStatic=q,this.id=gt++,this.default=y([]),this.extensions=typeof we=="function"?we(this):we}static define(y={}){return new Ze(y.combine||(T=>T),y.compareInput||((T,V)=>T===V),y.compare||(y.combine?(T,V)=>T===V:bt),!!y.static,y.enables)}of(y){return new et([],this,0,y)}compute(y,T){if(this.isStatic)throw new Error("Can't compute a static facet");return new et(y,this,1,T)}computeN(y,T){if(this.isStatic)throw new Error("Can't compute a static facet");return new et(y,this,2,T)}from(y,T){return T||(T=V=>V),this.compute([y],V=>T(V.field(y)))}}function bt(Pe,y){return Pe==y||Pe.length==y.length&&Pe.every((T,V)=>T===y[V])}class et{constructor(y,T,V,q){this.dependencies=y,this.facet=T,this.type=V,this.value=q,this.id=gt++}dynamicSlot(y){var T;let V=this.value,q=this.facet.compareInput,we=this.id,ge=y[we]>>1,Ve=this.type==2,je=!1,At=!1,Ft=[];for(let Wt of this.dependencies)Wt=="doc"?je=!0:Wt=="selection"?At=!0:((T=y[Wt.id])!==null&&T!==void 0?T:1)&1||Ft.push(y[Wt.id]);return{create(Wt){return Wt.values[ge]=V(Wt),1},update(Wt,Pr){if(je&&Pr.docChanged||At&&(Pr.docChanged||Pr.selection)||Ie(Wt,Ft)){let mr=V(Wt);if(Ve?!he(mr,Wt.values[ge],q):!q(mr,Wt.values[ge]))return Wt.values[ge]=mr,1}return 0},reconfigure:(Wt,Pr)=>{let mr,On=Pr.config.address[we];if(On!=null){let Mn=kt(Pr,On);if(this.dependencies.every(zn=>zn instanceof Ze?Pr.facet(zn)===Wt.facet(zn):zn instanceof Vt?Pr.field(zn,!1)==Wt.field(zn,!1):!0)||(Ve?he(mr=V(Wt),Mn,q):q(mr=V(Wt),Mn)))return Wt.values[ge]=Mn,0}else mr=V(Wt);return Wt.values[ge]=mr,1}}}}function he(Pe,y,T){if(Pe.length!=y.length)return!1;for(let V=0;V<Pe.length;V++)if(!T(Pe[V],y[V]))return!1;return!0}function Ie(Pe,y){let T=!1;for(let V of y)lt(Pe,V)&1&&(T=!0);return T}function ft(Pe,y,T){let V=T.map(je=>Pe[je.id]),q=T.map(je=>je.type),we=V.filter(je=>!(je&1)),ge=Pe[y.id]>>1;function Ve(je){let At=[];for(let Ft=0;Ft<V.length;Ft++){let Wt=kt(je,V[Ft]);if(q[Ft]==2)for(let Pr of Wt)At.push(Pr);else At.push(Wt)}return y.combine(At)}return{create(je){for(let At of V)lt(je,At);return je.values[ge]=Ve(je),1},update(je,At){if(!Ie(je,we))return 0;let Ft=Ve(je);return y.compare(Ft,je.values[ge])?0:(je.values[ge]=Ft,1)},reconfigure(je,At){let Ft=Ie(je,V),Wt=At.config.facets[y.id],Pr=At.facet(y);if(Wt&&!Ft&&bt(T,Wt))return je.values[ge]=Pr,0;let mr=Ve(je);return y.compare(mr,Pr)?(je.values[ge]=Pr,0):(je.values[ge]=mr,1)}}}const _t=Ze.define({static:!0});class Vt{constructor(y,T,V,q,we){this.id=y,this.createF=T,this.updateF=V,this.compareF=q,this.spec=we,this.provides=void 0}static define(y){let T=new Vt(gt++,y.create,y.update,y.compare||((V,q)=>V===q),y);return y.provide&&(T.provides=y.provide(T)),T}create(y){let T=y.facet(_t).find(V=>V.field==this);return((T==null?void 0:T.create)||this.createF)(y)}slot(y){let T=y[this.id]>>1;return{create:V=>(V.values[T]=this.create(V),1),update:(V,q)=>{let we=V.values[T],ge=this.updateF(we,q);return this.compareF(we,ge)?0:(V.values[T]=ge,1)},reconfigure:(V,q)=>q.config.address[this.id]!=null?(V.values[T]=q.field(this),0):(V.values[T]=this.create(V),1)}}init(y){return[this,_t.of({field:this,create:y})]}get extension(){return this}}const Cr={lowest:4,low:3,default:2,high:1,highest:0};function Ue(Pe){return y=>new Z(y,Pe)}const K={highest:Ue(Cr.highest),high:Ue(Cr.high),default:Ue(Cr.default),low:Ue(Cr.low),lowest:Ue(Cr.lowest)};class Z{constructor(y,T){this.inner=y,this.prec=T}}class Q{of(y){return new ne(this,y)}reconfigure(y){return Q.reconfigure.of({compartment:this,extension:y})}get(y){return y.config.compartments.get(this)}}class ne{constructor(y,T){this.compartment=y,this.inner=T}}class _e{constructor(y,T,V,q,we,ge){for(this.base=y,this.compartments=T,this.dynamicSlots=V,this.address=q,this.staticValues=we,this.facets=ge,this.statusTemplate=[];this.statusTemplate.length<V.length;)this.statusTemplate.push(0)}staticFacet(y){let T=this.address[y.id];return T==null?y.default:this.staticValues[T>>1]}static resolve(y,T,V){let q=[],we=Object.create(null),ge=new Map;for(let Pr of Xe(y,T,ge))Pr instanceof Vt?q.push(Pr):(we[Pr.facet.id]||(we[Pr.facet.id]=[])).push(Pr);let Ve=Object.create(null),je=[],At=[];for(let Pr of q)Ve[Pr.id]=At.length<<1,At.push(mr=>Pr.slot(mr));let Ft=V==null?void 0:V.config.facets;for(let Pr in we){let mr=we[Pr],On=mr[0].facet,Mn=Ft&&Ft[Pr]||[];if(mr.every(zn=>zn.type==0))if(Ve[On.id]=je.length<<1|1,bt(Mn,mr))je.push(V.facet(On));else{let zn=On.combine(mr.map(Mi=>Mi.value));je.push(V&&On.compare(zn,V.facet(On))?V.facet(On):zn)}else{for(let zn of mr)zn.type==0?(Ve[zn.id]=je.length<<1|1,je.push(zn.value)):(Ve[zn.id]=At.length<<1,At.push(Mi=>zn.dynamicSlot(Mi)));Ve[On.id]=At.length<<1,At.push(zn=>ft(zn,On,mr))}}let Wt=At.map(Pr=>Pr(Ve));return new _e(y,ge,Wt,Ve,je,we)}}function Xe(Pe,y,T){let V=[[],[],[],[],[]],q=new Map;function we(ge,Ve){let je=q.get(ge);if(je!=null){if(je<=Ve)return;let At=V[je].indexOf(ge);At>-1&&V[je].splice(At,1),ge instanceof ne&&T.delete(ge.compartment)}if(q.set(ge,Ve),Array.isArray(ge))for(let At of ge)we(At,Ve);else if(ge instanceof ne){if(T.has(ge.compartment))throw new RangeError("Duplicate use of compartment in extensions");let At=y.get(ge.compartment)||ge.inner;T.set(ge.compartment,At),we(At,Ve)}else if(ge instanceof Z)we(ge.inner,ge.prec);else if(ge instanceof Vt)V[Ve].push(ge),ge.provides&&we(ge.provides,Ve);else if(ge instanceof et)V[Ve].push(ge),ge.facet.extensions&&we(ge.facet.extensions,Cr.default);else{let At=ge.extension;if(!At)throw new Error(`Unrecognized extension value in extension set (${ge}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);we(At,Ve)}}return we(Pe,Cr.default),V.reduce((ge,Ve)=>ge.concat(Ve))}function lt(Pe,y){if(y&1)return 2;let T=y>>1,V=Pe.status[T];if(V==4)throw new Error("Cyclic dependency between fields and/or facets");if(V&2)return V;Pe.status[T]=4;let q=Pe.computeSlot(Pe,Pe.config.dynamicSlots[T]);return Pe.status[T]=2|q}function kt(Pe,y){return y&1?Pe.config.staticValues[y>>1]:Pe.values[y>>1]}const Qt=Ze.define(),Yt=Ze.define({combine:Pe=>Pe.some(y=>y),static:!0}),Ht=Ze.define({combine:Pe=>Pe.length?Pe[0]:void 0,static:!0}),Xt=Ze.define(),rt=Ze.define(),xt=Ze.define(),jt=Ze.define({combine:Pe=>Pe.length?Pe[0]:!1});class fr{constructor(y,T){this.type=y,this.value=T}static define(){return new Or}}class Or{of(y){return new fr(this,y)}}class xr{constructor(y){this.map=y}of(y){return new ar(this,y)}}class ar{constructor(y,T){this.type=y,this.value=T}map(y){let T=this.type.map(this.value,y);return T===void 0?void 0:T==this.value?this:new ar(this.type,T)}is(y){return this.type==y}static define(y={}){return new xr(y.map||(T=>T))}static mapEffects(y,T){if(!y.length)return y;let V=[];for(let q of y){let we=q.map(T);we&&V.push(we)}return V}}ar.reconfigure=ar.define(),ar.appendConfig=ar.define();class Rt{constructor(y,T,V,q,we,ge){this.startState=y,this.changes=T,this.selection=V,this.effects=q,this.annotations=we,this.scrollIntoView=ge,this._doc=null,this._state=null,V&&Mt(V,T.newLength),we.some(Ve=>Ve.type==Rt.time)||(this.annotations=we.concat(Rt.time.of(Date.now())))}static create(y,T,V,q,we,ge){return new Rt(y,T,V,q,we,ge)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(y){for(let T of this.annotations)if(T.type==y)return T.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(y){let T=this.annotation(Rt.userEvent);return!!(T&&(T==y||T.length>y.length&&T.slice(0,y.length)==y&&T[y.length]=="."))}}Rt.time=fr.define(),Rt.userEvent=fr.define(),Rt.addToHistory=fr.define(),Rt.remote=fr.define();function jr(Pe,y){let T=[];for(let V=0,q=0;;){let we,ge;if(V<Pe.length&&(q==y.length||y[q]>=Pe[V]))we=Pe[V++],ge=Pe[V++];else if(q<y.length)we=y[q++],ge=y[q++];else return T;!T.length||T[T.length-1]<we?T.push(we,ge):T[T.length-1]<ge&&(T[T.length-1]=ge)}}function yr(Pe,y,T){var V;let q,we,ge;return T?(q=y.changes,we=Ce.empty(y.changes.length),ge=Pe.changes.compose(y.changes)):(q=y.changes.map(Pe.changes),we=Pe.changes.mapDesc(y.changes,!0),ge=Pe.changes.compose(q)),{changes:ge,selection:y.selection?y.selection.map(we):(V=Pe.selection)===null||V===void 0?void 0:V.map(q),effects:ar.mapEffects(Pe.effects,q).concat(ar.mapEffects(y.effects,we)),annotations:Pe.annotations.length?Pe.annotations.concat(y.annotations):y.annotations,scrollIntoView:Pe.scrollIntoView||y.scrollIntoView}}function dr(Pe,y,T){let V=y.selection,q=Le(y.annotations);return y.userEvent&&(q=q.concat(Rt.userEvent.of(y.userEvent))),{changes:y.changes instanceof Ce?y.changes:Ce.of(y.changes||[],T,Pe.facet(Ht)),selection:V&&(V instanceof mt?V:mt.single(V.anchor,V.head)),effects:Le(y.effects),annotations:q,scrollIntoView:!!y.scrollIntoView}}function pr(Pe,y,T){let V=dr(Pe,y.length?y[0]:{},Pe.doc.length);y.length&&y[0].filter===!1&&(T=!1);for(let we=1;we<y.length;we++){y[we].filter===!1&&(T=!1);let ge=!!y[we].sequential;V=yr(V,dr(Pe,y[we],ge?V.changes.newLength:Pe.doc.length),ge)}let q=Rt.create(Pe,V.changes,V.selection,V.effects,V.annotations,V.scrollIntoView);return Wr(T?cr(q):q)}function cr(Pe){let y=Pe.startState,T=!0;for(let q of y.facet(Xt)){let we=q(Pe);if(we===!1){T=!1;break}Array.isArray(we)&&(T=T===!0?we:jr(T,we))}if(T!==!0){let q,we;if(T===!1)we=Pe.changes.invertedDesc,q=Ce.empty(y.doc.length);else{let ge=Pe.changes.filter(T);q=ge.changes,we=ge.filtered.mapDesc(ge.changes).invertedDesc}Pe=Rt.create(y,q,Pe.selection&&Pe.selection.map(we),ar.mapEffects(Pe.effects,we),Pe.annotations,Pe.scrollIntoView)}let V=y.facet(rt);for(let q=V.length-1;q>=0;q--){let we=V[q](Pe);we instanceof Rt?Pe=we:Array.isArray(we)&&we.length==1&&we[0]instanceof Rt?Pe=we[0]:Pe=pr(y,Le(we),!1)}return Pe}function Wr(Pe){let y=Pe.startState,T=y.facet(xt),V=Pe;for(let q=T.length-1;q>=0;q--){let we=T[q](Pe);we&&Object.keys(we).length&&(V=yr(V,dr(y,we,Pe.changes.newLength),!0))}return V==Pe?Pe:Rt.create(y,Pe.changes,Pe.selection,V.effects,V.annotations,V.scrollIntoView)}const Tr=[];function Le(Pe){return Pe==null?Tr:Array.isArray(Pe)?Pe:[Pe]}var Gt=function(Pe){return Pe[Pe.Word=0]="Word",Pe[Pe.Space=1]="Space",Pe[Pe.Other=2]="Other",Pe}(Gt||(Gt={}));const ir=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let lr;try{lr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Sr(Pe){if(lr)return lr.test(Pe);for(let y=0;y<Pe.length;y++){let T=Pe[y];if(/\w/.test(T)||T>"\x80"&&(T.toUpperCase()!=T.toLowerCase()||ir.test(T)))return!0}return!1}function _r(Pe){return y=>{if(!/\S/.test(y))return Gt.Space;if(Sr(y))return Gt.Word;for(let T=0;T<Pe.length;T++)if(y.indexOf(Pe[T])>-1)return Gt.Word;return Gt.Other}}class Er{constructor(y,T,V,q,we,ge){this.config=y,this.doc=T,this.selection=V,this.values=q,this.status=y.statusTemplate.slice(),this.computeSlot=we,ge&&(ge._state=this);for(let Ve=0;Ve<this.config.dynamicSlots.length;Ve++)lt(this,Ve<<1);this.computeSlot=null}field(y,T=!0){let V=this.config.address[y.id];if(V==null){if(T)throw new RangeError("Field is not present in this state");return}return lt(this,V),kt(this,V)}update(...y){return pr(this,y,!0)}applyTransaction(y){let T=this.config,{base:V,compartments:q}=T;for(let ge of y.effects)ge.is(Q.reconfigure)?(T&&(q=new Map,T.compartments.forEach((Ve,je)=>q.set(je,Ve)),T=null),q.set(ge.value.compartment,ge.value.extension)):ge.is(ar.reconfigure)?(T=null,V=ge.value):ge.is(ar.appendConfig)&&(T=null,V=Le(V).concat(ge.value));let we;T?we=y.startState.values.slice():(T=_e.resolve(V,q,this),we=new Er(T,this.doc,this.selection,T.dynamicSlots.map(()=>null),(Ve,je)=>je.reconfigure(Ve,this),null).values),new Er(T,y.newDoc,y.newSelection,we,(ge,Ve)=>Ve.update(ge,y),y)}replaceSelection(y){return typeof y=="string"&&(y=this.toText(y)),this.changeByRange(T=>({changes:{from:T.from,to:T.to,insert:y},range:mt.cursor(T.from+y.length)}))}changeByRange(y){let T=this.selection,V=y(T.ranges[0]),q=this.changes(V.changes),we=[V.range],ge=Le(V.effects);for(let Ve=1;Ve<T.ranges.length;Ve++){let je=y(T.ranges[Ve]),At=this.changes(je.changes),Ft=At.map(q);for(let Pr=0;Pr<Ve;Pr++)we[Pr]=we[Pr].map(Ft);let Wt=q.mapDesc(At,!0);we.push(je.range.map(Wt)),q=q.compose(Ft),ge=ar.mapEffects(ge,Ft).concat(ar.mapEffects(Le(je.effects),Wt))}return{changes:q,selection:mt.create(we,T.mainIndex),effects:ge}}changes(y=[]){return y instanceof Ce?y:Ce.of(y,this.doc.length,this.facet(Er.lineSeparator))}toText(y){return o.of(y.split(this.facet(Er.lineSeparator)||M))}sliceDoc(y=0,T=this.doc.length){return this.doc.sliceString(y,T,this.lineBreak)}facet(y){let T=this.config.address[y.id];return T==null?y.default:(lt(this,T),kt(this,T))}toJSON(y){let T={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(y)for(let V in y){let q=y[V];q instanceof Vt&&this.config.address[q.id]!=null&&(T[V]=q.spec.toJSON(this.field(y[V]),this))}return T}static fromJSON(y,T={},V){if(!y||typeof y.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let q=[];if(V){for(let we in V)if(Object.prototype.hasOwnProperty.call(y,we)){let ge=V[we],Ve=y[we];q.push(ge.init(je=>ge.spec.fromJSON(Ve,je)))}}return Er.create({doc:y.doc,selection:mt.fromJSON(y.selection),extensions:T.extensions?q.concat([T.extensions]):q})}static create(y={}){let T=_e.resolve(y.extensions||[],new Map),V=y.doc instanceof o?y.doc:o.of((y.doc||"").split(T.staticFacet(Er.lineSeparator)||M)),q=y.selection?y.selection instanceof mt?y.selection:mt.single(y.selection.anchor,y.selection.head):mt.single(0);return Mt(q,V.length),T.staticFacet(Yt)||(q=q.asSingle()),new Er(T,V,q,T.dynamicSlots.map(()=>null),(we,ge)=>ge.create(we),null)}get tabSize(){return this.facet(Er.tabSize)}get lineBreak(){return this.facet(Er.lineSeparator)||`
`}get readOnly(){return this.facet(jt)}phrase(y,...T){for(let V of this.facet(Er.phrases))if(Object.prototype.hasOwnProperty.call(V,y)){y=V[y];break}return T.length&&(y=y.replace(/\$(\$|\d*)/g,(V,q)=>{if(q=="$")return"$";let we=+(q||1);return!we||we>T.length?V:T[we-1]})),y}languageDataAt(y,T,V=-1){let q=[];for(let we of this.facet(Qt))for(let ge of we(this,T,V))Object.prototype.hasOwnProperty.call(ge,y)&&q.push(ge[y]);return q}charCategorizer(y){return _r(this.languageDataAt("wordChars",y).join(""))}wordAt(y){let{text:T,from:V,length:q}=this.doc.lineAt(y),we=this.charCategorizer(y),ge=y-V,Ve=y-V;for(;ge>0;){let je=ye(T,ge,!1);if(we(T.slice(je,ge))!=Gt.Word)break;ge=je}for(;Ve<q;){let je=ye(T,Ve);if(we(T.slice(Ve,je))!=Gt.Word)break;Ve=je}return ge==Ve?null:mt.range(ge+V,Ve+V)}}Er.allowMultipleSelections=Yt,Er.tabSize=Ze.define({combine:Pe=>Pe.length?Pe[0]:4}),Er.lineSeparator=Ht,Er.readOnly=jt,Er.phrases=Ze.define({compare(Pe,y){let T=Object.keys(Pe),V=Object.keys(y);return T.length==V.length&&T.every(q=>Pe[q]==y[q])}}),Er.languageData=Qt,Er.changeFilter=Xt,Er.transactionFilter=rt,Er.transactionExtender=xt,Q.reconfigure=ar.define();function Zr(Pe,y,T={}){let V={};for(let q of Pe)for(let we of Object.keys(q)){let ge=q[we],Ve=V[we];if(Ve===void 0)V[we]=ge;else if(!(Ve===ge||ge===void 0))if(Object.hasOwnProperty.call(T,we))V[we]=T[we](Ve,ge);else throw new Error("Config merge conflict for field "+we)}for(let q in y)V[q]===void 0&&(V[q]=y[q]);return V}class Ir{eq(y){return this==y}range(y,T=y){return Rr.create(y,T,this)}}Ir.prototype.startSide=Ir.prototype.endSide=0,Ir.prototype.point=!1,Ir.prototype.mapMode=Ee.TrackDel;class Rr{constructor(y,T,V){this.from=y,this.to=T,this.value=V}static create(y,T,V){return new Rr(y,T,V)}}function Xr(Pe,y){return Pe.from-y.from||Pe.value.startSide-y.value.startSide}class fn{constructor(y,T,V,q){this.from=y,this.to=T,this.value=V,this.maxPoint=q}get length(){return this.to[this.to.length-1]}findIndex(y,T,V,q=0){let we=V?this.to:this.from;for(let ge=q,Ve=we.length;;){if(ge==Ve)return ge;let je=ge+Ve>>1,At=we[je]-y||(V?this.value[je].endSide:this.value[je].startSide)-T;if(je==ge)return At>=0?ge:Ve;At>=0?Ve=je:ge=je+1}}between(y,T,V,q){for(let we=this.findIndex(T,-1e9,!0),ge=this.findIndex(V,1e9,!1,we);we<ge;we++)if(q(this.from[we]+y,this.to[we]+y,this.value[we])===!1)return!1}map(y,T){let V=[],q=[],we=[],ge=-1,Ve=-1;for(let je=0;je<this.value.length;je++){let At=this.value[je],Ft=this.from[je]+y,Wt=this.to[je]+y,Pr,mr;if(Ft==Wt){let On=T.mapPos(Ft,At.startSide,At.mapMode);if(On==null||(Pr=mr=On,At.startSide!=At.endSide&&(mr=T.mapPos(Ft,At.endSide),mr<Pr)))continue}else if(Pr=T.mapPos(Ft,At.startSide),mr=T.mapPos(Wt,At.endSide),Pr>mr||Pr==mr&&At.startSide>0&&At.endSide<=0)continue;(mr-Pr||At.endSide-At.startSide)<0||(ge<0&&(ge=Pr),At.point&&(Ve=Math.max(Ve,mr-Pr)),V.push(At),q.push(Pr-ge),we.push(mr-ge))}return{mapped:V.length?new fn(q,we,V,Ve):null,pos:ge}}}class Nr{constructor(y,T,V,q){this.chunkPos=y,this.chunk=T,this.nextLayer=V,this.maxPoint=q}static create(y,T,V,q){return new Nr(y,T,V,q)}get length(){let y=this.chunk.length-1;return y<0?0:Math.max(this.chunkEnd(y),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let y=this.nextLayer.size;for(let T of this.chunk)y+=T.value.length;return y}chunkEnd(y){return this.chunkPos[y]+this.chunk[y].length}update(y){let{add:T=[],sort:V=!1,filterFrom:q=0,filterTo:we=this.length}=y,ge=y.filter;if(T.length==0&&!ge)return this;if(V&&(T=T.slice().sort(Xr)),this.isEmpty)return T.length?Nr.of(T):this;let Ve=new gn(this,null,-1).goto(0),je=0,At=[],Ft=new mn;for(;Ve.value||je<T.length;)if(je<T.length&&(Ve.from-T[je].from||Ve.startSide-T[je].value.startSide)>=0){let Wt=T[je++];Ft.addInner(Wt.from,Wt.to,Wt.value)||At.push(Wt)}else Ve.rangeIndex==1&&Ve.chunkIndex<this.chunk.length&&(je==T.length||this.chunkEnd(Ve.chunkIndex)<T[je].from)&&(!ge||q>this.chunkEnd(Ve.chunkIndex)||we<this.chunkPos[Ve.chunkIndex])&&Ft.addChunk(this.chunkPos[Ve.chunkIndex],this.chunk[Ve.chunkIndex])?Ve.nextChunk():((!ge||q>Ve.to||we<Ve.from||ge(Ve.from,Ve.to,Ve.value))&&(Ft.addInner(Ve.from,Ve.to,Ve.value)||At.push(Rr.create(Ve.from,Ve.to,Ve.value))),Ve.next());return Ft.finishInner(this.nextLayer.isEmpty&&!At.length?Nr.empty:this.nextLayer.update({add:At,filter:ge,filterFrom:q,filterTo:we}))}map(y){if(y.empty||this.isEmpty)return this;let T=[],V=[],q=-1;for(let ge=0;ge<this.chunk.length;ge++){let Ve=this.chunkPos[ge],je=this.chunk[ge],At=y.touchesRange(Ve,Ve+je.length);if(At===!1)q=Math.max(q,je.maxPoint),T.push(je),V.push(y.mapPos(Ve));else if(At===!0){let{mapped:Ft,pos:Wt}=je.map(Ve,y);Ft&&(q=Math.max(q,Ft.maxPoint),T.push(Ft),V.push(Wt))}}let we=this.nextLayer.map(y);return T.length==0?we:new Nr(V,T,we||Nr.empty,q)}between(y,T,V){if(!this.isEmpty){for(let q=0;q<this.chunk.length;q++){let we=this.chunkPos[q],ge=this.chunk[q];if(T>=we&&y<=we+ge.length&&ge.between(we,y-we,T-we,V)===!1)return}this.nextLayer.between(y,T,V)}}iter(y=0){return un.from([this]).goto(y)}get isEmpty(){return this.nextLayer==this}static iter(y,T=0){return un.from(y).goto(T)}static compare(y,T,V,q,we=-1){let ge=y.filter(Wt=>Wt.maxPoint>0||!Wt.isEmpty&&Wt.maxPoint>=we),Ve=T.filter(Wt=>Wt.maxPoint>0||!Wt.isEmpty&&Wt.maxPoint>=we),je=vn(ge,Ve,V),At=new Yr(ge,je,we),Ft=new Yr(Ve,je,we);V.iterGaps((Wt,Pr,mr)=>yn(At,Wt,Ft,Pr,mr,q)),V.empty&&V.length==0&&yn(At,0,Ft,0,0,q)}static eq(y,T,V=0,q){q==null&&(q=1e9-1);let we=y.filter(Ft=>!Ft.isEmpty&&T.indexOf(Ft)<0),ge=T.filter(Ft=>!Ft.isEmpty&&y.indexOf(Ft)<0);if(we.length!=ge.length)return!1;if(!we.length)return!0;let Ve=vn(we,ge),je=new Yr(we,Ve,0).goto(V),At=new Yr(ge,Ve,0).goto(V);for(;;){if(je.to!=At.to||!sn(je.active,At.active)||je.point&&(!At.point||!je.point.eq(At.point)))return!1;if(je.to>q)return!0;je.next(),At.next()}}static spans(y,T,V,q,we=-1){let ge=new Yr(y,null,we).goto(T),Ve=T,je=ge.openStart;for(;;){let At=Math.min(ge.to,V);if(ge.point){let Ft=ge.activeForPoint(ge.to),Wt=ge.pointFrom<T?Ft.length+1:Math.min(Ft.length,je);q.point(Ve,At,ge.point,Ft,Wt,ge.pointRank),je=Math.min(ge.openEnd(At),Ft.length)}else At>Ve&&(q.span(Ve,At,ge.active,je),je=ge.openEnd(At));if(ge.to>V)return je+(ge.point&&ge.to>V?1:0);Ve=ge.to,ge.next()}}static of(y,T=!1){let V=new mn;for(let q of y instanceof Rr?[y]:T?ln(y):y)V.add(q.from,q.to,q.value);return V.finish()}}Nr.empty=new Nr([],[],null,-1);function ln(Pe){if(Pe.length>1)for(let y=Pe[0],T=1;T<Pe.length;T++){let V=Pe[T];if(Xr(y,V)>0)return Pe.slice().sort(Xr);y=V}return Pe}Nr.empty.nextLayer=Nr.empty;class mn{finishChunk(y){this.chunks.push(new fn(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,y&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(y,T,V){this.addInner(y,T,V)||(this.nextLayer||(this.nextLayer=new mn)).add(y,T,V)}addInner(y,T,V){let q=y-this.lastTo||V.startSide-this.last.endSide;if(q<=0&&(y-this.lastFrom||V.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return q<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=y),this.from.push(y-this.chunkStart),this.to.push(T-this.chunkStart),this.last=V,this.lastFrom=y,this.lastTo=T,this.value.push(V),V.point&&(this.maxPoint=Math.max(this.maxPoint,T-y)),!0)}addChunk(y,T){if((y-this.lastTo||T.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,T.maxPoint),this.chunks.push(T),this.chunkPos.push(y);let V=T.value.length-1;return this.last=T.value[V],this.lastFrom=T.from[V]+y,this.lastTo=T.to[V]+y,!0}finish(){return this.finishInner(Nr.empty)}finishInner(y){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return y;let T=Nr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(y):y,this.setMaxPoint);return this.from=null,T}}function vn(Pe,y,T){let V=new Map;for(let we of Pe)for(let ge=0;ge<we.chunk.length;ge++)we.chunk[ge].maxPoint<=0&&V.set(we.chunk[ge],we.chunkPos[ge]);let q=new Set;for(let we of y)for(let ge=0;ge<we.chunk.length;ge++){let Ve=V.get(we.chunk[ge]);Ve!=null&&(T?T.mapPos(Ve):Ve)==we.chunkPos[ge]&&!(T!=null&&T.touchesRange(Ve,Ve+we.chunk[ge].length))&&q.add(we.chunk[ge])}return q}class gn{constructor(y,T,V,q=0){this.layer=y,this.skip=T,this.minPoint=V,this.rank=q}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(y,T=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(y,T,!1),this}gotoInner(y,T,V){for(;this.chunkIndex<this.layer.chunk.length;){let q=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(q)||this.layer.chunkEnd(this.chunkIndex)<y||q.maxPoint<this.minPoint))break;this.chunkIndex++,V=!1}if(this.chunkIndex<this.layer.chunk.length){let q=this.layer.chunk[this.chunkIndex].findIndex(y-this.layer.chunkPos[this.chunkIndex],T,!0);(!V||this.rangeIndex<q)&&this.setRangeIndex(q)}this.next()}forward(y,T){(this.to-y||this.endSide-T)<0&&this.gotoInner(y,T,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let y=this.layer.chunkPos[this.chunkIndex],T=this.layer.chunk[this.chunkIndex],V=y+T.from[this.rangeIndex];if(this.from=V,this.to=y+T.to[this.rangeIndex],this.value=T.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(y){if(y==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=y}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(y){return this.from-y.from||this.startSide-y.startSide||this.rank-y.rank||this.to-y.to||this.endSide-y.endSide}}class un{constructor(y){this.heap=y}static from(y,T=null,V=-1){let q=[];for(let we=0;we<y.length;we++)for(let ge=y[we];!ge.isEmpty;ge=ge.nextLayer)ge.maxPoint>=V&&q.push(new gn(ge,T,V,we));return q.length==1?q[0]:new un(q)}get startSide(){return this.value?this.value.startSide:0}goto(y,T=-1e9){for(let V of this.heap)V.goto(y,T);for(let V=this.heap.length>>1;V>=0;V--)cn(this.heap,V);return this.next(),this}forward(y,T){for(let V of this.heap)V.forward(y,T);for(let V=this.heap.length>>1;V>=0;V--)cn(this.heap,V);(this.to-y||this.value.endSide-T)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let y=this.heap[0];this.from=y.from,this.to=y.to,this.value=y.value,this.rank=y.rank,y.value&&y.next(),cn(this.heap,0)}}}function cn(Pe,y){for(let T=Pe[y];;){let V=(y<<1)+1;if(V>=Pe.length)break;let q=Pe[V];if(V+1<Pe.length&&q.compare(Pe[V+1])>=0&&(q=Pe[V+1],V++),T.compare(q)<0)break;Pe[V]=T,Pe[y]=q,y=V}}class Yr{constructor(y,T,V){this.minPoint=V,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=un.from(y,T,V)}goto(y,T=-1e9){return this.cursor.goto(y,T),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=y,this.endSide=T,this.openStart=-1,this.next(),this}forward(y,T){for(;this.minActive>-1&&(this.activeTo[this.minActive]-y||this.active[this.minActive].endSide-T)<0;)this.removeActive(this.minActive);this.cursor.forward(y,T)}removeActive(y){Qr(this.active,y),Qr(this.activeTo,y),Qr(this.activeRank,y),this.minActive=bn(this.active,this.activeTo)}addActive(y){let T=0,{value:V,to:q,rank:we}=this.cursor;for(;T<this.activeRank.length&&this.activeRank[T]<=we;)T++;En(this.active,T,V),En(this.activeTo,T,q),En(this.activeRank,T,we),y&&En(y,T,this.cursor.from),this.minActive=bn(this.active,this.activeTo)}next(){let y=this.to,T=this.point;this.point=null;let V=this.openStart<0?[]:null;for(;;){let q=this.minActive;if(q>-1&&(this.activeTo[q]-this.cursor.from||this.active[q].endSide-this.cursor.startSide)<0){if(this.activeTo[q]>y){this.to=this.activeTo[q],this.endSide=this.active[q].endSide;break}this.removeActive(q),V&&Qr(V,q)}else if(this.cursor.value)if(this.cursor.from>y){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let we=this.cursor.value;if(!we.point)this.addActive(V),this.cursor.next();else if(T&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=we,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=we.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(V){this.openStart=0;for(let q=V.length-1;q>=0&&V[q]<y;q--)this.openStart++}}activeForPoint(y){if(!this.active.length)return this.active;let T=[];for(let V=this.active.length-1;V>=0&&!(this.activeRank[V]<this.pointRank);V--)(this.activeTo[V]>y||this.activeTo[V]==y&&this.active[V].endSide>=this.point.endSide)&&T.push(this.active[V]);return T.reverse()}openEnd(y){let T=0;for(let V=this.activeTo.length-1;V>=0&&this.activeTo[V]>y;V--)T++;return T}}function yn(Pe,y,T,V,q,we){Pe.goto(y),T.goto(V);let ge=V+q,Ve=V,je=V-y;for(;;){let At=Pe.to+je-T.to||Pe.endSide-T.endSide,Ft=At<0?Pe.to+je:T.to,Wt=Math.min(Ft,ge);if(Pe.point||T.point?Pe.point&&T.point&&(Pe.point==T.point||Pe.point.eq(T.point))&&sn(Pe.activeForPoint(Pe.to),T.activeForPoint(T.to))||we.comparePoint(Ve,Wt,Pe.point,T.point):Wt>Ve&&!sn(Pe.active,T.active)&&we.compareRange(Ve,Wt,Pe.active,T.active),Ft>ge)break;Ve=Ft,At<=0&&Pe.next(),At>=0&&T.next()}}function sn(Pe,y){if(Pe.length!=y.length)return!1;for(let T=0;T<Pe.length;T++)if(Pe[T]!=y[T]&&!Pe[T].eq(y[T]))return!1;return!0}function Qr(Pe,y){for(let T=y,V=Pe.length-1;T<V;T++)Pe[T]=Pe[T+1];Pe.pop()}function En(Pe,y,T){for(let V=Pe.length-1;V>=y;V--)Pe[V+1]=Pe[V];Pe[y]=T}function bn(Pe,y){let T=-1,V=1e9;for(let q=0;q<y.length;q++)(y[q]-V||Pe[q].endSide-Pe[T].endSide)<0&&(T=q,V=y[q]);return T}function oi(Pe,y,T=Pe.length){let V=0;for(let q=0;q<T;)Pe.charCodeAt(q)==9?(V+=y-V%y,q++):(V++,q=ye(Pe,q));return V}function Ki(Pe,y,T,V){for(let q=0,we=0;;){if(we>=y)return q;if(q==Pe.length)break;we+=Pe.charCodeAt(q)==9?T-we%T:1,q=ye(Pe,q)}return V===!0?-1:Pe.length}},65329:function(Te,S,l){"use strict";l.d(S,{p:function(){return cr},Nm:function(){return je},tk:function(){return jn},SJ:function(){return bi},lg:function(){return bn},l9:function(){return dr},S2:function(){return fa},Uw:function(){return aa},qr:function(){return io},Sd:function(){return kn},gB:function(){return Ct},v5:function(){return Zs},ZO:function(){return Ma},HQ:function(){return x},AE:function(){return Da},bF:function(){return It},$f:function(){return vo},Eu:function(){return ul},OO:function(){return yn},W$:function(){return Cs},Zs:function(){return $a},$1:function(){return Xs},mH:function(){return co},hJ:function(){return C}});for(var o=l(1727),m=l(37207),R={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},O={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},D=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),_=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),j=0;j<10;j++)R[48+j]=R[96+j]=String(j);for(var j=1;j<=24;j++)R[j+111]="F"+j;for(var j=65;j<=90;j++)R[j]=String.fromCharCode(j+32),O[j]=String.fromCharCode(j);for(var $ in R)O.hasOwnProperty($)||(O[$]=R[$]);function I(a){var e=D&&a.metaKey&&a.shiftKey&&!a.ctrlKey&&!a.altKey||_&&a.shiftKey&&a.key&&a.key.length==1||a.key=="Unidentified",t=!e&&a.key||(a.shiftKey?O:R)[a.keyCode]||a.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function J(a){let e;return a.nodeType==11?e=a.getSelection?a:a.ownerDocument:e=a,e.getSelection()}function z(a,e){return e?a==e||a.contains(e.nodeType!=1?e.parentNode:e):!1}function ee(a){let e=a.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function te(a,e){if(!e.anchorNode)return!1;try{return z(a,e.anchorNode)}catch{return!1}}function oe(a){return a.nodeType==3?ze(a,0,a.nodeValue.length).getClientRects():a.nodeType==1?a.getClientRects():[]}function ye(a,e,t,r){return t?Y(a,e,t,r,-1)||Y(a,e,t,r,1):!1}function F(a){for(var e=0;;e++)if(a=a.previousSibling,!a)return e}function Y(a,e,t,r,u){for(;;){if(a==t&&e==r)return!0;if(e==(u<0?0:ve(a))){if(a.nodeName=="DIV")return!1;let v=a.parentNode;if(!v||v.nodeType!=1)return!1;e=F(a)+(u<0?0:1),a=v}else if(a.nodeType==1){if(a=a.childNodes[e+(u<0?-1:0)],a.nodeType==1&&a.contentEditable=="false")return!1;e=u<0?ve(a):0}else return!1}}function ve(a){return a.nodeType==3?a.nodeValue.length:a.childNodes.length}function se(a,e){let t=e?a.left:a.right;return{left:t,right:t,top:a.top,bottom:a.bottom}}function me(a){return{left:0,right:a.innerWidth,top:0,bottom:a.innerHeight}}function xe(a,e,t,r,u,v,A,B){let G=a.ownerDocument,de=G.defaultView||window;for(let fe=a;fe;)if(fe.nodeType==1){let ke,ot=fe==G.body;if(ot)ke=me(de);else{if(fe.scrollHeight<=fe.clientHeight&&fe.scrollWidth<=fe.clientWidth){fe=fe.assignedSlot||fe.parentNode;continue}let zt=fe.getBoundingClientRect();ke={left:zt.left,right:zt.left+fe.clientWidth,top:zt.top,bottom:zt.top+fe.clientHeight}}let dt=0,Pt=0;if(u=="nearest")e.top<ke.top?(Pt=-(ke.top-e.top+A),t>0&&e.bottom>ke.bottom+Pt&&(Pt=e.bottom-ke.bottom+Pt+A)):e.bottom>ke.bottom&&(Pt=e.bottom-ke.bottom+A,t<0&&e.top-Pt<ke.top&&(Pt=-(ke.top+Pt-e.top+A)));else{let zt=e.bottom-e.top,Zt=ke.bottom-ke.top;Pt=(u=="center"&&zt<=Zt?e.top+zt/2-Zt/2:u=="start"||u=="center"&&t<0?e.top-A:e.bottom-Zt+A)-ke.top}if(r=="nearest"?e.left<ke.left?(dt=-(ke.left-e.left+v),t>0&&e.right>ke.right+dt&&(dt=e.right-ke.right+dt+v)):e.right>ke.right&&(dt=e.right-ke.right+v,t<0&&e.left<ke.left+dt&&(dt=-(ke.left+dt-e.left+v))):dt=(r=="center"?e.left+(e.right-e.left)/2-(ke.right-ke.left)/2:r=="start"==B?e.left-v:e.right-(ke.right-ke.left)+v)-ke.left,dt||Pt)if(ot)de.scrollBy(dt,Pt);else{let zt=0,Zt=0;if(Pt){let sr=fe.scrollTop;fe.scrollTop+=Pt,Zt=fe.scrollTop-sr}if(dt){let sr=fe.scrollLeft;fe.scrollLeft+=dt,zt=fe.scrollLeft-sr}e={left:e.left-zt,top:e.top-Zt,right:e.right-zt,bottom:e.bottom-Zt},zt&&Math.abs(zt-dt)<1&&(r="nearest"),Zt&&Math.abs(Zt-Pt)<1&&(u="nearest")}if(ot)break;fe=fe.assignedSlot||fe.parentNode}else if(fe.nodeType==11)fe=fe.host;else break}function re(a){let e=a.ownerDocument;for(let t=a.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class M{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?ve(t):0),r,Math.min(e.focusOffset,r?ve(r):0))}set(e,t,r,u){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=u}}let Ee=null;function Ne(a){if(a.setActive)return a.setActive();if(Ee)return a.focus(Ee);let e=[];for(let t=a;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(a.focus(Ee==null?{get preventScroll(){return Ee={preventScroll:!0},!0}}:void 0),!Ee){Ee=!1;for(let t=0;t<e.length;){let r=e[t++],u=e[t++],v=e[t++];r.scrollTop!=u&&(r.scrollTop=u),r.scrollLeft!=v&&(r.scrollLeft=v)}}}let Ce;function ze(a,e,t=e){let r=Ce||(Ce=document.createRange());return r.setEnd(a,t),r.setStart(a,e),r}function Ge(a,e,t){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0},u=new KeyboardEvent("keydown",r);u.synthetic=!0,a.dispatchEvent(u);let v=new KeyboardEvent("keyup",r);return v.synthetic=!0,a.dispatchEvent(v),u.defaultPrevented||v.defaultPrevented}function ht(a){for(;a;){if(a&&(a.nodeType==9||a.nodeType==11&&a.host))return a;a=a.assignedSlot||a.parentNode}return null}function st(a){for(;a.attributes.length;)a.removeAttributeNode(a.attributes[0])}function Ye(a,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,ve(t));;)if(r){if(t.nodeType!=1)return!1;let u=t.childNodes[r-1];u.contentEditable=="false"?r--:(t=u,r=ve(t))}else{if(t==a)return!0;r=F(t),t=t.parentNode}}class Et{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Et(e.parentNode,F(e),t)}static after(e,t){return new Et(e.parentNode,F(e)+1,t)}}const rr=[];class mt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.dirty&2){let r=this.dom,u=null,v;for(let A of this.children){if(A.dirty){if(!A.dom&&(v=u?u.nextSibling:r.firstChild)){let B=mt.get(v);(!B||!B.parent&&B.canReuseDOM(A))&&A.reuseDOM(v)}A.sync(e,t),A.dirty=0}if(v=u?u.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&v!=A.dom&&(t.written=!0),A.dom.parentNode==r)for(;v&&v!=A.dom;)v=Mt(v);else r.insertBefore(A.dom,v);u=A.dom}for(v=u?u.nextSibling:r.firstChild,v&&t&&t.node==r&&(t.written=!0);v;)v=Mt(v)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,t),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let u=ve(e)==0?0:t==0?-1:1;for(;;){let v=e.parentNode;if(v==this.dom)break;u==0&&v.firstChild!=v.lastChild&&(e==v.firstChild?u=-1:u=1),e=v}u<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!mt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let u=0,v=0;;u++){let A=this.children[u];if(A.dom==r)return v;v+=A.length+A.breakAfter}}domBoundsAround(e,t,r=0){let u=-1,v=-1,A=-1,B=-1;for(let G=0,de=r,fe=r;G<this.children.length;G++){let ke=this.children[G],ot=de+ke.length;if(de<e&&ot>t)return ke.domBoundsAround(e,t,de);if(ot>=e&&u==-1&&(u=G,v=de),de>t&&ke.dom.parentNode==this.dom){A=G,B=fe;break}fe=ot,de=ot+ke.breakAfter}return{from:v,to:B<0?r+this.length:B,startDOM:(u?this.children[u-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:A<this.children.length&&A>=0?this.children[A].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=rr){this.markDirty();for(let u=e;u<t;u++){let v=this.children[u];v.parent==this&&v.destroy()}this.children.splice(e,t-e,...r);for(let u=0;u<r.length;u++)r[u].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new gt(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,u,v,A){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}mt.prototype.breakAfter=0;function Mt(a){let e=a.nextSibling;return a.parentNode.removeChild(a),e}class gt{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Ze(a,e,t,r,u,v,A,B,G){let{children:de}=a,fe=de.length?de[e]:null,ke=v.length?v[v.length-1]:null,ot=ke?ke.breakAfter:A;if(!(e==r&&fe&&!A&&!ot&&v.length<2&&fe.merge(t,u,v.length?ke:null,t==0,B,G))){if(r<de.length){let dt=de[r];dt&&u<dt.length?(e==r&&(dt=dt.split(u),u=0),!ot&&ke&&dt.merge(0,u,ke,!0,0,G)?v[v.length-1]=dt:(u&&dt.merge(0,u,null,!1,0,G),v.push(dt))):dt!=null&&dt.breakAfter&&(ke?ke.breakAfter=1:A=1),r++}for(fe&&(fe.breakAfter=A,t>0&&(!A&&v.length&&fe.merge(t,fe.length,v[0],!1,B,0)?fe.breakAfter=v.shift().breakAfter:(t<fe.length||fe.children.length&&fe.children[fe.children.length-1].length==0)&&fe.merge(t,fe.length,null,!1,B,0),e++));e<r&&v.length;)if(de[r-1].become(v[v.length-1]))r--,v.pop(),G=v.length?0:B;else if(de[e].become(v[0]))e++,v.shift(),B=v.length?0:G;else break;!v.length&&e&&r<de.length&&!de[e-1].breakAfter&&de[r].merge(0,0,de[e-1],!1,B,G)&&e--,(e<r||v.length)&&a.replaceChildren(e,r,v)}}function bt(a,e,t,r,u,v){let A=a.childCursor(),{i:B,off:G}=A.findPos(t,1),{i:de,off:fe}=A.findPos(e,-1),ke=e-t;for(let ot of r)ke+=ot.length;a.length+=ke,Ze(a,de,fe,B,G,r,0,u,v)}let et=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},he=typeof document!="undefined"?document:{documentElement:{style:{}}};const Ie=/Edge\/(\d+)/.exec(et.userAgent),ft=/MSIE \d/.test(et.userAgent),_t=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(et.userAgent),Vt=!!(ft||_t||Ie),Cr=!Vt&&/gecko\/(\d+)/i.test(et.userAgent),Ue=!Vt&&/Chrome\/(\d+)/.exec(et.userAgent),K="webkitFontSmoothing"in he.documentElement.style,Z=!Vt&&/Apple Computer/.test(et.vendor),Q=Z&&(/Mobile\/\w+/.test(et.userAgent)||et.maxTouchPoints>2);var ne={mac:Q||/Mac/.test(et.platform),windows:/Win/.test(et.platform),linux:/Linux|X11/.test(et.platform),ie:Vt,ie_version:ft?he.documentMode||6:_t?+_t[1]:Ie?+Ie[1]:0,gecko:Cr,gecko_version:Cr?+(/Firefox\/(\d+)/.exec(et.userAgent)||[0,0])[1]:0,chrome:!!Ue,chrome_version:Ue?+Ue[1]:0,ios:Q,android:/Android\b/.test(et.userAgent),webkit:K,safari:Z,webkit_version:K?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:he.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const _e=256;class Xe extends mt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return r&&(!(r instanceof Xe)||this.length-(t-e)+r.length>_e)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Xe(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Et(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return kt(this.dom,e,t)}}class lt extends mt{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let u of t)u.setParent(this)}setAttrs(e){if(st(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,u,v,A){return r&&(!(r instanceof lt&&r.mark.eq(this.mark))||e&&v<=0||t<this.length&&A<=0)?!1:(bt(this,e,t,r?r.children:[],v-1,A-1),this.markDirty(),!0)}split(e){let t=[],r=0,u=-1,v=0;for(let B of this.children){let G=r+B.length;G>e&&t.push(r<e?B.split(e-r):B),u<0&&r>=e&&(u=v),r=G,v++}let A=this.length-e;return this.length=e,u>-1&&(this.children.length=u,this.markDirty()),new lt(this.mark,t,A)}domAtPos(e){return fr(this,e)}coordsAt(e,t){return xr(this,e,t)}}function kt(a,e,t){let r=a.nodeValue.length;e>r&&(e=r);let u=e,v=e,A=0;e==0&&t<0||e==r&&t>=0?ne.chrome||ne.gecko||(e?(u--,A=1):v<r&&(v++,A=-1)):t<0?u--:v<r&&v++;let B=ze(a,u,v).getClientRects();if(!B.length)return null;let G=B[(A?A<0:t>=0)?0:B.length-1];return ne.safari&&!A&&G.width==0&&(G=Array.prototype.find.call(B,de=>de.width)||G),A?se(G,A<0):G||null}class Qt extends mt{constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}static create(e,t,r){return new(e.customView||Qt)(e,t,r)}split(e){let t=Qt.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,r,u,v,A){return r&&(!(r instanceof Qt)||!this.widget.compare(r.widget)||e>0&&v<=0||t<this.length&&A<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Qt&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return o.xv.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,u=this.posAtStart;return r?r.slice(u,u+this.length):o.xv.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Et.before(this.dom):Et.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let u=this.dom.getClientRects(),v=null;if(!u.length)return null;let A=this.side?this.side<0:e>0;for(let B=A?u.length-1:0;v=u[B],!(e>0?B==0:B==u.length-1||v.top<v.bottom);B+=A?-1:1);return this.length?v:se(v,!A)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Yt extends Qt{domAtPos(e){let{topView:t,text:r}=this.widget;return t?Ht(e,0,t,r,this.length-t.length,(u,v)=>u.domAtPos(v),(u,v)=>new Et(u,Math.min(v,u.nodeValue.length))):new Et(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:r,text:u}=this.widget;return r?rt(e,t,r,u,this.length-r.length):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:r,text:u}=this.widget;return r?Ht(e,t,r,u,this.length-r.length,(v,A,B)=>v.coordsAt(A,B),(v,A,B)=>kt(v,A,B)):kt(u,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Ht(a,e,t,r,u,v,A){if(t instanceof lt){for(let B=t.dom.firstChild;B;B=B.nextSibling){let G=mt.get(B);if(G){let de=z(B,r),fe=G.length+(de?u:0);if(a<fe||a==fe&&G.getSide()<=0)return de?Ht(a,e,G,r,u,v,A):v(G,a,e);a-=fe}else{let de=Xt(a,e,B,A);if(typeof de!="number")return de;a=de}}return v(t,t.length,-1)}else return t.dom==r?A(r,a,e):v(t,a,e)}function Xt(a,e,t,r){if(t.nodeType==3){let u=t.nodeValue.length;if(a<=u)return r(t,a,e);a-=u}else if(t.nodeType==1&&t.contentEditable!="false")for(let u=t.firstChild;u;u=u.nextSibling){let v=Xt(a,e,u,r);if(typeof v!="number")return v;a=v}return a}function rt(a,e,t,r,u){if(t instanceof lt){let v=0;for(let A=t.dom.firstChild;A;A=A.nextSibling){let B=mt.get(A);if(B){let G=z(A,r);if(z(A,a))return v+(G?rt(a,e,B,r,u):B.localPosFromDOM(a,e));v+=B.length+(G?u:0)}else{let G=xt(a,e,A);if(G.result!=null)return v+G.result;v+=G.size}}}else if(t.dom==r)return Math.min(e,r.nodeValue.length);return t.localPosFromDOM(a,e)}function xt(a,e,t){if(t.nodeType==3)return a==t?{result:e}:{size:t.nodeValue.length};if(t.nodeType==1&&t.contentEditable!="false"){let r=0;for(let u=t.firstChild,v=0;;u=u.nextSibling,v++){if(a==t&&v==e)return{result:r};if(!u)return{size:r};let A=xt(a,e,u);if(A.result!=null)return{result:e+A.result};r+=A.size}}else return t.contains(a)?{result:0}:{size:0}}class jt extends mt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof jt&&e.side==this.side}split(){return new jt(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Et.before(this.dom):Et.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return o.xv.empty}get isHidden(){return!0}}Xe.prototype.children=Qt.prototype.children=jt.prototype.children=rr;function fr(a,e){let t=a.dom,{children:r}=a,u=0;for(let v=0;u<r.length;u++){let A=r[u],B=v+A.length;if(!(B==v&&A.getSide()<=0)){if(e>v&&e<B&&A.dom.parentNode==t)return A.domAtPos(e-v);if(e<=v)break;v=B}}for(let v=u;v>0;v--){let A=r[v-1];if(A.dom.parentNode==t)return A.domAtPos(A.length)}for(let v=u;v<r.length;v++){let A=r[v];if(A.dom.parentNode==t)return A.domAtPos(0)}return new Et(t,0)}function Or(a,e,t){let r,{children:u}=a;t>0&&e instanceof lt&&u.length&&(r=u[u.length-1])instanceof lt&&r.mark.eq(e.mark)?Or(r,e.children[0],t-1):(u.push(e),e.setParent(a)),a.length+=e.length}function xr(a,e,t){let r=null,u=-1,v=null,A=-1;function B(de,fe){for(let ke=0,ot=0;ke<de.children.length&&ot<=fe;ke++){let dt=de.children[ke],Pt=ot+dt.length;Pt>=fe&&(dt.children.length?B(dt,fe-ot):(!v||v.isHidden&&t>0)&&(Pt>fe||ot==Pt&&dt.getSide()>0)?(v=dt,A=fe-ot):(ot<fe||ot==Pt&&dt.getSide()<0&&!dt.isHidden)&&(r=dt,u=fe-ot)),ot=Pt}}B(a,e);let G=(t<0?r:v)||r||v;return G?G.coordsAt(Math.max(0,G==r?u:A),t):ar(a)}function ar(a){let e=a.dom.lastChild;if(!e)return a.dom.getBoundingClientRect();let t=oe(e);return t[t.length-1]||null}function Rt(a,e){for(let t in a)t=="class"&&e.class?e.class+=" "+a.class:t=="style"&&e.style?e.style+=";"+a.style:e[t]=a[t];return e}function jr(a,e){if(a==e)return!0;if(!a||!e)return!1;let t=Object.keys(a),r=Object.keys(e);if(t.length!=r.length)return!1;for(let u of t)if(r.indexOf(u)==-1||a[u]!==e[u])return!1;return!0}function yr(a,e,t){let r=null;if(e)for(let u in e)t&&u in t||a.removeAttribute(r=u);if(t)for(let u in t)e&&e[u]==t[u]||a.setAttribute(r=u,t[u]);return!!r}class dr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var pr=function(a){return a[a.Text=0]="Text",a[a.WidgetBefore=1]="WidgetBefore",a[a.WidgetAfter=2]="WidgetAfter",a[a.WidgetRange=3]="WidgetRange",a}(pr||(pr={}));class cr extends o.uU{constructor(e,t,r,u){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=u}get heightRelevant(){return!1}static mark(e){return new Wr(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r?t>0?3e8:-4e8:t>0?1e8:-1e8,new Le(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,u;if(e.isBlockGap)r=-5e8,u=4e8;else{let{start:v,end:A}=Gt(e,t);r=(v?t?-3e8:-1:5e8)-1,u=(A?t?2e8:1:-6e8)+1}return new Le(e,r,u,t,e.widget||null,!0)}static line(e){return new Tr(e)}static set(e,t=!1){return o.Xs.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}cr.none=o.Xs.empty;class Wr extends cr{constructor(e){let{start:t,end:r}=Gt(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Wr&&this.tagName==e.tagName&&this.class==e.class&&jr(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Wr.prototype.point=!1;class Tr extends cr{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Tr&&this.spec.class==e.spec.class&&jr(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Tr.prototype.mapMode=o.gc.TrackBefore,Tr.prototype.point=!0;class Le extends cr{constructor(e,t,r,u,v,A){super(t,r,v,e),this.block=u,this.isReplace=A,this.mapMode=u?t<=0?o.gc.TrackBefore:o.gc.TrackAfter:o.gc.TrackDel}get type(){return this.startSide<this.endSide?pr.WidgetRange:this.startSide<=0?pr.WidgetBefore:pr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Le&&ir(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Le.prototype.point=!0;function Gt(a,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=a;return t==null&&(t=a.inclusive),r==null&&(r=a.inclusive),{start:t!=null?t:e,end:r!=null?r:e}}function ir(a,e){return a==e||!!(a&&e&&a.compare(e))}function lr(a,e,t,r=0){let u=t.length-1;u>=0&&t[u]+r>=a?t[u]=Math.max(t[u],e):t.push(a,e)}class Sr extends mt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,u,v,A){if(r){if(!(r instanceof Sr))return!1;this.dom||r.transferDOM(this)}return u&&this.setDeco(r?r.attrs:null),bt(this,e,t,r?r.children:[],v,A),!0}split(e){let t=new Sr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:u}=this.childPos(e);u&&(t.append(this.children[r].split(u),0),this.children[r].merge(u,this.children[r].length,null,!1,0,0),r++);for(let v=r;v<this.children.length;v++)t.append(this.children[v],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){jr(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Or(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Rt(t,this.attrs||{})),r&&(this.attrs=Rt({class:r},this.attrs||{}))}domAtPos(e){return fr(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var r;this.dom?this.dirty&4&&(st(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(yr(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let u=this.dom.lastChild;for(;u&&mt.get(u)instanceof lt;)u=u.lastChild;if(!u||!this.length||u.nodeName!="BR"&&((r=mt.get(u))===null||r===void 0?void 0:r.isEditable)==!1&&(!ne.ios||!this.children.some(v=>v instanceof Xe))){let v=document.createElement("BR");v.cmIgnore=!0,this.dom.appendChild(v)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Xe)||/[^ -~]/.test(r.text))return null;let u=oe(r.dom);if(u.length!=1)return null;e+=u[0].width,t=u[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=xr(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:u}=this.parent.view.viewState,v=r.bottom-r.top;if(Math.abs(v-u.lineHeight)<2&&u.textHeight<v){let A=(v-u.textHeight)/2;return{top:r.top+A,bottom:r.bottom-A,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return pr.Text}static find(e,t){for(let r=0,u=0;r<e.children.length;r++){let v=e.children[r],A=u+v.length;if(A>=t){if(v instanceof Sr)return v;if(A>t)break}u=A+v.breakAfter}return null}}class _r extends mt{constructor(e,t,r){super(),this.widget=e,this.length=t,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,u,v,A){return r&&(!(r instanceof _r)||!this.widget.compare(r.widget)||e>0&&v<=0||t<this.length&&A<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Et.before(this.dom):Et.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new _r(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}get children(){return rr}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):o.xv.empty}domBoundsAround(){return null}become(e){return e instanceof _r&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Er{constructor(e,t,r,u){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=u,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof _r&&e.type==pr.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Sr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Zr(new jt(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:v,lineBreak:A,done:B}=this.cursor.next(this.skip);if(this.skip=0,B)throw new Error("Ran out of text content when drawing inline views");if(A){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=v,this.textOff=0}let u=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Zr(new Xe(this.text.slice(this.textOff,this.textOff+u)),t),r),this.atCursorPos=!0,this.textOff+=u,e-=u,r=0}}span(e,t,r,u){this.buildText(t-e,r,u),this.pos=t,this.openStart<0&&(this.openStart=u)}point(e,t,r,u,v,A){if(this.disallowBlockEffectsFor[A]&&r instanceof Le){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let B=t-e;if(r instanceof Le)if(r.block){let{type:G}=r;G==pr.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new _r(r.widget||new Ir("div"),B,G))}else{let G=Qt.create(r.widget||new Ir("span"),B,B?0:r.startSide),de=this.atCursorPos&&!G.isEditable&&v<=u.length&&(e<t||r.startSide>0),fe=!G.isEditable&&(e<t||v>u.length||r.startSide<=0),ke=this.getLine();this.pendingBuffer==2&&!de&&!G.isEditable&&(this.pendingBuffer=0),this.flushBuffer(u),de&&(ke.append(Zr(new jt(1),u),v),v=u.length+Math.max(0,v-u.length)),ke.append(Zr(G,u),v),this.atCursorPos=fe,this.pendingBuffer=fe?e<t||v>u.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=u.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);B&&(this.textOff+B<=this.text.length?this.textOff+=B:(this.skip+=B-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=v)}static build(e,t,r,u,v){let A=new Er(e,t,r,v);return A.openEnd=o.Xs.spans(u,t,r,A),A.openStart<0&&(A.openStart=A.openEnd),A.finish(A.openEnd),A}}function Zr(a,e){for(let t of e)a=new lt(t,[a],a.length);return a}class Ir extends dr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Rr=o.r$.define(),Xr=o.r$.define(),fn=o.r$.define(),Nr=o.r$.define(),ln=o.r$.define(),mn=o.r$.define(),vn=o.r$.define(),gn=o.r$.define({combine:a=>a.some(e=>e)}),un=o.r$.define({combine:a=>a.some(e=>e)});class cn{constructor(e,t="nearest",r="nearest",u=5,v=5){this.range=e,this.y=t,this.x=r,this.yMargin=u,this.xMargin=v}map(e){return e.empty?this:new cn(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Yr=o.Py.define({map:(a,e)=>a.map(e)});function yn(a,e,t){let r=a.facet(Nr);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const sn=o.r$.define({combine:a=>a.length?a[0]:!0});let Qr=0;const En=o.r$.define();class bn{constructor(e,t,r,u){this.id=e,this.create=t,this.domEventHandlers=r,this.extension=u(this)}static define(e,t){const{eventHandlers:r,provide:u,decorations:v}=t||{};return new bn(Qr++,e,r,A=>{let B=[En.of(A)];return v&&B.push(y.of(G=>{let de=G.plugin(A);return de?v(de):cr.none})),u&&B.push(u(A)),B})}static fromClass(e,t){return bn.define(r=>new e(r),t)}}class oi{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(yn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){yn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){yn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Ki=o.r$.define(),Pe=o.r$.define(),y=o.r$.define(),T=o.r$.define(),V=o.r$.define();function q(a){let e=0,t=0,r=0,u=0;for(let v of a.state.facet(V)){let A=v(a);A&&(A.left!=null&&(e=Math.max(e,A.left)),A.right!=null&&(t=Math.max(t,A.right)),A.top!=null&&(r=Math.max(r,A.top)),A.bottom!=null&&(u=Math.max(u,A.bottom)))}return{left:e,right:t,top:r,bottom:u}}const we=o.r$.define();class ge{constructor(e,t,r,u){this.fromA=e,this.toA=t,this.fromB=r,this.toB=u}join(e){return new ge(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let u=e[t-1];if(!(u.fromA>r.toA)){if(u.toA<r.fromA)break;r=r.join(u),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let u=0,v=0,A=0,B=0;;u++){let G=u==e.length?null:e[u],de=A-B,fe=G?G.fromB:1e9;for(;v<t.length&&t[v]<fe;){let ke=t[v],ot=t[v+1],dt=Math.max(B,ke),Pt=Math.min(fe,ot);if(dt<=Pt&&new ge(dt+de,Pt+de,dt,Pt).addToSet(r),ot>fe)break;v+=2}if(!G)return r;new ge(G.fromA,G.toA,G.fromB,G.toB).addToSet(r),A=G.toA,B=G.toB}}}class Ve{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=o.as.empty(this.startState.doc.length);for(let v of r)this.changes=this.changes.compose(v.changes);let u=[];this.changes.iterChangedRanges((v,A,B,G)=>u.push(new ge(v,A,B,G))),this.changedRanges=u}static create(e,t,r){return new Ve(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var je=function(a){return a[a.LTR=0]="LTR",a[a.RTL=1]="RTL",a}(je||(je={}));const At=je.LTR,Ft=je.RTL;function Wt(a){let e=[];for(let t=0;t<a.length;t++)e.push(1<<+a[t]);return e}const Pr=Wt("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),mr=Wt("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),On=Object.create(null),Mn=[];for(let a of["()","[]","{}"]){let e=a.charCodeAt(0),t=a.charCodeAt(1);On[e]=t,On[t]=-e}function zn(a){return a<=247?Pr[a]:1424<=a&&a<=1524?2:1536<=a&&a<=1785?mr[a-1536]:1774<=a&&a<=2220?4:8192<=a&&a<=8203?256:64336<=a&&a<=65023?4:a==8204?256:1}const Mi=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class $i{constructor(e,t,r){this.from=e,this.to=t,this.level=r}get dir(){return this.level%2?Ft:At}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,r,u){let v=-1;for(let A=0;A<e.length;A++){let B=e[A];if(B.from<=t&&B.to>=t){if(B.level==r)return A;(v<0||(u!=0?u<0?B.from<t:B.to>t:e[v].level>B.level))&&(v=A)}}if(v<0)throw new RangeError("Index out of range");return v}}const Cn=[];function Zo(a,e){let t=a.length,r=e==At?1:2,u=e==At?2:1;if(!a||r==1&&!Mi.test(a))return So(t);for(let A=0,B=r,G=r;A<t;A++){let de=zn(a.charCodeAt(A));de==512?de=B:de==8&&G==4&&(de=16),Cn[A]=de==4?2:de,de&7&&(G=de),B=de}for(let A=0,B=r,G=r;A<t;A++){let de=Cn[A];if(de==128)A<t-1&&B==Cn[A+1]&&B&24?de=Cn[A]=B:Cn[A]=256;else if(de==64){let fe=A+1;for(;fe<t&&Cn[fe]==64;)fe++;let ke=A&&B==8||fe<t&&Cn[fe]==8?G==1?1:8:256;for(let ot=A;ot<fe;ot++)Cn[ot]=ke;A=fe-1}else de==8&&G==1&&(Cn[A]=1);B=de,de&7&&(G=de)}for(let A=0,B=0,G=0,de,fe,ke;A<t;A++)if(fe=On[de=a.charCodeAt(A)])if(fe<0){for(let ot=B-3;ot>=0;ot-=3)if(Mn[ot+1]==-fe){let dt=Mn[ot+2],Pt=dt&2?r:dt&4?dt&1?u:r:0;Pt&&(Cn[A]=Cn[Mn[ot]]=Pt),B=ot;break}}else{if(Mn.length==189)break;Mn[B++]=A,Mn[B++]=de,Mn[B++]=G}else if((ke=Cn[A])==2||ke==1){let ot=ke==r;G=ot?0:1;for(let dt=B-3;dt>=0;dt-=3){let Pt=Mn[dt+2];if(Pt&2)break;if(ot)Mn[dt+2]|=2;else{if(Pt&4)break;Mn[dt+2]|=4}}}for(let A=0;A<t;A++)if(Cn[A]==256){let B=A+1;for(;B<t&&Cn[B]==256;)B++;let G=(A?Cn[A-1]:r)==1,de=(B<t?Cn[B]:r)==1,fe=G==de?G?1:2:r;for(let ke=A;ke<B;ke++)Cn[ke]=fe;A=B-1}let v=[];if(r==1)for(let A=0;A<t;){let B=A,G=Cn[A++]!=1;for(;A<t&&G==(Cn[A]!=1);)A++;if(G)for(let de=A;de>B;){let fe=de,ke=Cn[--de]!=2;for(;de>B&&ke==(Cn[de-1]!=2);)de--;v.push(new $i(de,fe,ke?2:1))}else v.push(new $i(B,A,0))}else for(let A=0;A<t;){let B=A,G=Cn[A++]==2;for(;A<t&&G==(Cn[A]==2);)A++;v.push(new $i(B,A,G?1:2))}return v}function So(a){return[new $i(0,a,0)]}let ko="";function $n(a,e,t,r,u){var v;let A=r.head-a.from,B=-1;if(A==0){if(!u||!a.length)return null;e[0].level!=t&&(A=e[0].side(!1,t),B=0)}else if(A==a.length){if(u)return null;let ot=e[e.length-1];ot.level!=t&&(A=ot.side(!0,t),B=e.length-1)}B<0&&(B=$i.find(e,A,(v=r.bidiLevel)!==null&&v!==void 0?v:-1,r.assoc));let G=e[B];A==G.side(u,t)&&(G=e[B+=u?1:-1],A=G.side(!u,t));let de=u==(G.dir==t),fe=(0,o.cp)(a.text,A,de);if(ko=a.text.slice(Math.min(A,fe),Math.max(A,fe)),fe!=G.side(u,t))return o.jT.cursor(fe+a.from,de?-1:1,G.level);let ke=B==(u?e.length-1:0)?null:e[B+(u?1:-1)];return!ke&&G.level!=t?o.jT.cursor(u?a.to:a.from,u?-1:1,t):ke&&ke.level<G.level?o.jT.cursor(ke.side(!u,t)+a.from,u?1:-1,ke.level):o.jT.cursor(fe+a.from,u?-1:1,G.level)}const Ii="\uFFFF";class Mo{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(o.yy.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ii}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let u=e;;){this.findPointBefore(r,u);let v=this.text.length;this.readNode(u);let A=u.nextSibling;if(A==t)break;let B=mt.get(u),G=mt.get(A);(B&&G?B.breakAfter:(B?B.breakAfter:Jt(u))||Jt(A)&&(u.nodeName!="BR"||u.cmIgnore)&&this.text.length>v)&&this.lineBreak(),u=A}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,u=this.lineSeparator?null:/\r\n?|\n/g;;){let v=-1,A=1,B;if(this.lineSeparator?(v=t.indexOf(this.lineSeparator,r),A=this.lineSeparator.length):(B=u.exec(t))&&(v=B.index,A=B[0].length),this.append(t.slice(r,v<0?t.length:v)),v<0)break;if(this.lineBreak(),A>1)for(let G of this.points)G.node==e&&G.pos>this.text.length&&(G.pos-=A-1);r=v+A}}readNode(e){if(e.cmIgnore)return;let t=mt.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let u=r.iter();!u.next().done;)u.lineBreak?this.lineBreak():this.append(u.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(t,r.offset))}}function Jt(a){return a.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(a.nodeName)}class be{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class N extends mt{constructor(e){super(),this.view=e,this.compositionDeco=cr.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Sr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ge(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:A,toA:B})=>B<this.minWidthFrom||A>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=cr.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=nt(this.view,e.changes)),(ne.ie||ne.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,u=this.updateDeco(),v=Kr(r,u,e.changes);return t=ge.extendWithRanges(t,v),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let v=ne.chrome||ne.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,v),this.dirty=0,v&&(v.written||r.selectionRange.focusNode!=v.node)&&(this.forceSelection=!0),this.dom.style.height=""});let u=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let v of this.children)v instanceof _r&&v.widget instanceof Me&&u.push(v.dom);r.updateGaps(u)}updateChildren(e,t){let r=this.childCursor(t);for(let u=e.length-1;;u--){let v=u>=0?e[u]:null;if(!v)break;let{fromA:A,toA:B,fromB:G,toB:de}=v,{content:fe,breakAtStart:ke,openStart:ot,openEnd:dt}=Er.build(this.view.state.doc,G,de,this.decorations,this.dynamicDecorationMap),{i:Pt,off:zt}=r.findPos(B,1),{i:Zt,off:sr}=r.findPos(A,-1);Ze(this,Zt,sr,Pt,zt,fe,ke,ot,dt)}}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,u=r==this.dom,v=!u&&te(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(u||t||v))return;let A=this.forceSelection;this.forceSelection=!1;let B=this.view.state.selection.main,G=this.domAtPos(B.anchor),de=B.empty?G:this.domAtPos(B.head);if(ne.gecko&&B.empty&&!this.compositionDeco.size&&X(G)){let ke=document.createTextNode("");this.view.observer.ignore(()=>G.node.insertBefore(ke,G.node.childNodes[G.offset]||null)),G=de=new Et(ke,0),A=!0}let fe=this.view.observer.selectionRange;(A||!fe.focusNode||!ye(G.node,G.offset,fe.anchorNode,fe.anchorOffset)||!ye(de.node,de.offset,fe.focusNode,fe.focusOffset))&&(this.view.observer.ignore(()=>{ne.android&&ne.chrome&&this.dom.contains(fe.focusNode)&&In(fe.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let ke=J(this.view.root);if(ke)if(B.empty){if(ne.gecko){let ot=Nt(G.node,G.offset);if(ot&&ot!=3){let dt=Bt(G.node,G.offset,ot==1?1:-1);dt&&(G=new Et(dt,ot==1?0:dt.nodeValue.length))}}ke.collapse(G.node,G.offset),B.bidiLevel!=null&&fe.cursorBidiLevel!=null&&(fe.cursorBidiLevel=B.bidiLevel)}else if(ke.extend){ke.collapse(G.node,G.offset);try{ke.extend(de.node,de.offset)}catch{}}else{let ot=document.createRange();B.anchor>B.head&&([G,de]=[de,G]),ot.setEnd(de.node,de.offset),ot.setStart(G.node,G.offset),ke.removeAllRanges(),ke.addRange(ot)}v&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(G,de)),this.impreciseAnchor=G.precise?null:new Et(fe.anchorNode,fe.anchorOffset),this.impreciseHead=de.precise?null:new Et(fe.focusNode,fe.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,r=J(e.root),{anchorNode:u,anchorOffset:v}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let A=Sr.find(this,t.head);if(!A)return;let B=A.posAtStart;if(t.head==B||t.head==B+A.length)return;let G=this.coordsAt(t.head,-1),de=this.coordsAt(t.head,1);if(!G||!de||G.bottom>de.top)return;let fe=this.domAtPos(t.head+t.assoc);r.collapse(fe.node,fe.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let ke=e.observer.selectionRange;e.docView.posFromDOM(ke.anchorNode,ke.anchorOffset)!=t.from&&r.collapse(u,v)}nearest(e){for(let t=e;t;){let r=mt.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let u=this.children[t];if(r<u.length||u instanceof Sr)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){for(let r=this.length,u=this.children.length-1;;u--){let v=this.children[u],A=r-v.breakAfter-v.length;if(e>A||e==A&&v.type!=pr.WidgetBefore&&v.type!=pr.WidgetAfter&&(!u||t==2||this.children[u-1].breakAfter||this.children[u-1].type==pr.WidgetBefore&&t>-2))return v.coordsAt(e-A,t);r=A}}measureVisibleLineHeights(e){let t=[],{from:r,to:u}=e,v=this.view.contentDOM.clientWidth,A=v>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,B=-1,G=this.view.textDirection==je.LTR;for(let de=0,fe=0;fe<this.children.length;fe++){let ke=this.children[fe],ot=de+ke.length;if(ot>u)break;if(de>=r){let dt=ke.dom.getBoundingClientRect();if(t.push(dt.height),A){let Pt=ke.dom.lastChild,zt=Pt?oe(Pt):[];if(zt.length){let Zt=zt[zt.length-1],sr=G?Zt.right-dt.left:dt.right-Zt.left;sr>B&&(B=sr,this.minWidth=v,this.minWidthFrom=de,this.minWidthTo=ot)}}}de=ot+ke.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?je.RTL:je.LTR}measureTextSize(){for(let v of this.children)if(v instanceof Sr){let A=v.measureTextSize();if(A)return A}let e=document.createElement("div"),t,r,u;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let v=oe(e.firstChild)[0];t=e.getBoundingClientRect().height,r=v?v.width/27:7,u=v?v.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:u}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new gt(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,u=0;;u++){let v=u==t.viewports.length?null:t.viewports[u],A=v?v.from-1:this.length;if(A>r){let B=t.lineBlockAt(A).bottom-t.lineBlockAt(r).top;e.push(cr.replace({widget:new Me(B),block:!0,inclusive:!0,isBlockGap:!0}).range(r,A))}if(!v)break;r=v.to+1}return cr.set(e)}updateDeco(){let e=this.view.state.facet(y).map((t,r)=>(this.dynamicDecorationMap[r]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),u;if(!r)return;!t.empty&&(u=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,u.left),top:Math.min(r.top,u.top),right:Math.max(r.right,u.right),bottom:Math.max(r.bottom,u.bottom)});let v=q(this.view),A={left:r.left-v.left,top:r.top-v.top,right:r.right+v.right,bottom:r.bottom+v.bottom};xe(this.view.scrollDOM,A,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==je.LTR)}}function X(a){return a.node.nodeType==1&&a.node.firstChild&&(a.offset==0||a.node.childNodes[a.offset-1].contentEditable=="false")&&(a.offset==a.node.childNodes.length||a.node.childNodes[a.offset].contentEditable=="false")}class Me extends dr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Fe(a){let e=a.observer.selectionRange,t=e.focusNode&&Bt(e.focusNode,e.focusOffset,0);if(!t)return null;let r=a.docView.nearest(t);if(!r)return null;if(r instanceof Sr){let u=t;for(;u.parentNode!=r.dom;)u=u.parentNode;let v=u.previousSibling;for(;v&&!mt.get(v);)v=v.previousSibling;let A=v?mt.get(v).posAtEnd:r.posAtStart;return{from:A,to:A,node:u,text:t}}else{for(;;){let{parent:v}=r;if(!v)return null;if(v instanceof Sr)break;r=v}let u=r.posAtStart;return{from:u,to:u+r.length,node:r.dom,text:t}}}function nt(a,e){let t=Fe(a);if(!t)return cr.none;let{from:r,to:u,node:v,text:A}=t,B=e.mapPos(r,1),G=Math.max(B,e.mapPos(u,-1)),{state:de}=a,fe=new Mo([],de);v.nodeType==3?fe.readTextNode(v):fe.readRange(v.firstChild,null);let{text:ke}=fe;if(ke.indexOf(Ii)>-1)return cr.none;if(G-B<ke.length)if(de.doc.sliceString(B,Math.min(de.doc.length,B+ke.length))==ke)G=B+ke.length;else if(de.doc.sliceString(Math.max(0,G-ke.length),G)==ke)B=G-ke.length;else return cr.none;else if(de.doc.sliceString(B,G)!=ke)return cr.none;let ot=mt.get(v);return ot instanceof Yt?ot=ot.widget.topView:ot&&(ot.parent=null),cr.set(cr.replace({widget:new ct(v,A,ot),inclusive:!0}).range(B,G))}class ct extends dr{constructor(e,t,r){super(),this.top=e,this.text=t,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Yt}}function Bt(a,e,t){if(t<=0)for(let r=a,u=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&u>0)r=r.childNodes[u-1],u=ve(r);else break}if(t>=0)for(let r=a,u=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&u<r.childNodes.length&&t>=0)r=r.childNodes[u],u=0;else break}return null}function Nt(a,e){return a.nodeType!=1?0:(e&&a.childNodes[e-1].contentEditable=="false"?1:0)|(e<a.childNodes.length&&a.childNodes[e].contentEditable=="false"?2:0)}class Lr{constructor(){this.changes=[]}compareRange(e,t){lr(e,t,this.changes)}comparePoint(e,t){lr(e,t,this.changes)}}function Kr(a,e,t){let r=new Lr;return o.Xs.compare(a,e,t,r),r.changes}function In(a,e){for(let t=a;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function wi(a,e,t=1){let r=a.charCategorizer(e),u=a.doc.lineAt(e),v=e-u.from;if(u.length==0)return o.jT.cursor(e);v==0?t=1:v==u.length&&(t=-1);let A=v,B=v;t<0?A=(0,o.cp)(u.text,v,!1):B=(0,o.cp)(u.text,v);let G=r(u.text.slice(A,B));for(;A>0;){let de=(0,o.cp)(u.text,A,!1);if(r(u.text.slice(de,A))!=G)break;A=de}for(;B<u.length;){let de=(0,o.cp)(u.text,B);if(r(u.text.slice(B,de))!=G)break;B=de}return o.jT.range(A+u.from,B+u.from)}function Ci(a,e){return e.left>a?e.left-a:Math.max(0,a-e.right)}function si(a,e){return e.top>a?e.top-a:Math.max(0,a-e.bottom)}function Si(a,e){return a.top<e.bottom-1&&a.bottom>e.top+1}function zi(a,e){return e<a.top?{top:e,left:a.left,right:a.right,bottom:a.bottom}:a}function ys(a,e){return e>a.bottom?{top:a.top,left:a.left,right:a.right,bottom:e}:a}function rs(a,e,t){let r,u,v,A,B=!1,G,de,fe,ke;for(let Pt=a.firstChild;Pt;Pt=Pt.nextSibling){let zt=oe(Pt);for(let Zt=0;Zt<zt.length;Zt++){let sr=zt[Zt];u&&Si(u,sr)&&(sr=zi(ys(sr,u.bottom),u.top));let qt=Ci(e,sr),hn=si(t,sr);if(qt==0&&hn==0)return Pt.nodeType==3?va(Pt,e,t):rs(Pt,e,t);if(!r||A>hn||A==hn&&v>qt){r=Pt,u=sr,v=qt,A=hn;let Dr=hn?t<sr.top?-1:1:qt?e<sr.left?-1:1:0;B=!Dr||(Dr>0?Zt<zt.length-1:Zt>0)}qt==0?t>sr.bottom&&(!fe||fe.bottom<sr.bottom)?(G=Pt,fe=sr):t<sr.top&&(!ke||ke.top>sr.top)&&(de=Pt,ke=sr):fe&&Si(fe,sr)?fe=ys(fe,sr.bottom):ke&&Si(ke,sr)&&(ke=zi(ke,sr.top))}}if(fe&&fe.bottom>=t?(r=G,u=fe):ke&&ke.top<=t&&(r=de,u=ke),!r)return{node:a,offset:0};let ot=Math.max(u.left,Math.min(u.right,e));if(r.nodeType==3)return va(r,ot,t);if(B&&r.contentEditable!="false")return rs(r,ot,t);let dt=Array.prototype.indexOf.call(a.childNodes,r)+(e>=(u.left+u.right)/2?1:0);return{node:a,offset:dt}}function va(a,e,t){let r=a.nodeValue.length,u=-1,v=1e9,A=0;for(let B=0;B<r;B++){let G=ze(a,B,B+1).getClientRects();for(let de=0;de<G.length;de++){let fe=G[de];if(fe.top==fe.bottom)continue;A||(A=e-fe.left);let ke=(fe.top>t?fe.top-t:t-fe.bottom)-1;if(fe.left-1<=e&&fe.right+1>=e&&ke<v){let ot=e>=(fe.left+fe.right)/2,dt=ot;if((ne.chrome||ne.gecko)&&ze(a,B).getBoundingClientRect().left==fe.right&&(dt=!ot),ke<=0)return{node:a,offset:B+(dt?1:0)};u=B+(dt?1:0),v=ke}}}return{node:a,offset:u>-1?u:A>0?a.nodeValue.length:0}}function Uo(a,e,t,r=-1){var u,v;let A=a.contentDOM.getBoundingClientRect(),B=A.top+a.viewState.paddingTop,G,{docHeight:de}=a.viewState,{x:fe,y:ke}=e,ot=ke-B;if(ot<0)return 0;if(ot>de)return a.state.doc.length;for(let Dr=a.defaultLineHeight/2,nn=!1;G=a.elementAtHeight(ot),G.type!=pr.Text;)for(;ot=r>0?G.bottom+Dr:G.top-Dr,!(ot>=0&&ot<=de);){if(nn)return t?null:0;nn=!0,r=-r}ke=B+ot;let dt=G.from;if(dt<a.viewport.from)return a.viewport.from==0?0:t?null:zs(a,A,G,fe,ke);if(dt>a.viewport.to)return a.viewport.to==a.state.doc.length?a.state.doc.length:t?null:zs(a,A,G,fe,ke);let Pt=a.dom.ownerDocument,zt=a.root.elementFromPoint?a.root:Pt,Zt=zt.elementFromPoint(fe,ke);Zt&&!a.contentDOM.contains(Zt)&&(Zt=null),Zt||(fe=Math.max(A.left+1,Math.min(A.right-1,fe)),Zt=zt.elementFromPoint(fe,ke),Zt&&!a.contentDOM.contains(Zt)&&(Zt=null));let sr,qt=-1;if(Zt&&((u=a.docView.nearest(Zt))===null||u===void 0?void 0:u.isEditable)!=!1){if(Pt.caretPositionFromPoint){let Dr=Pt.caretPositionFromPoint(fe,ke);Dr&&({offsetNode:sr,offset:qt}=Dr)}else if(Pt.caretRangeFromPoint){let Dr=Pt.caretRangeFromPoint(fe,ke);Dr&&({startContainer:sr,startOffset:qt}=Dr,(!a.contentDOM.contains(sr)||ne.safari&&pt(sr,qt,fe)||ne.chrome&&He(sr,qt,fe))&&(sr=void 0))}}if(!sr||!a.docView.dom.contains(sr)){let Dr=Sr.find(a.docView,dt);if(!Dr)return ot>G.top+G.height/2?G.to:G.from;({node:sr,offset:qt}=rs(Dr.dom,fe,ke))}let hn=a.docView.nearest(sr);if(!hn)return null;if(hn.isWidget&&((v=hn.dom)===null||v===void 0?void 0:v.nodeType)==1){let Dr=hn.dom.getBoundingClientRect();return e.y<Dr.top||e.y<=Dr.bottom&&e.x<=(Dr.left+Dr.right)/2?hn.posAtStart:hn.posAtEnd}else return hn.localPosFromDOM(sr,qt)+hn.posAtStart}function zs(a,e,t,r,u){let v=Math.round((r-e.left)*a.defaultCharacterWidth);if(a.lineWrapping&&t.height>a.defaultLineHeight*1.5){let B=Math.floor((u-t.top)/a.defaultLineHeight);v+=B*a.viewState.heightOracle.lineLength}let A=a.state.sliceDoc(t.from,t.to);return t.from+(0,o.Gz)(A,v,a.state.tabSize)}function pt(a,e,t){let r;if(a.nodeType!=3||e!=(r=a.nodeValue.length))return!1;for(let u=a.nextSibling;u;u=u.nextSibling)if(u.nodeType!=1||u.nodeName!="BR")return!1;return ze(a,r-1,r).getBoundingClientRect().left>t}function He(a,e,t){if(e!=0)return!1;for(let u=a;;){let v=u.parentNode;if(!v||v.nodeType!=1||v.firstChild!=u)return!1;if(v.classList.contains("cm-line"))break;u=v}let r=a.nodeType==1?a.getBoundingClientRect():ze(a,0,Math.max(a.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Lt(a,e){let t=a.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==pr.Text))return r}return t}function Kt(a,e,t,r){let u=Lt(a,e.head),v=!r||u.type!=pr.Text||!(a.lineWrapping||u.widgetLineBreaks)?null:a.coordsAtPos(e.assoc<0&&e.head>u.from?e.head-1:e.head);if(v){let A=a.dom.getBoundingClientRect(),B=a.textDirectionAt(u.from),G=a.posAtCoords({x:t==(B==je.LTR)?A.right-1:A.left+1,y:(v.top+v.bottom)/2});if(G!=null)return o.jT.cursor(G,t?-1:1)}return o.jT.cursor(t?u.to:u.from,t?-1:1)}function nr(a,e,t,r){let u=a.state.doc.lineAt(e.head),v=a.bidiSpans(u),A=a.textDirectionAt(u.from);for(let B=e,G=null;;){let de=$n(u,v,A,B,t),fe=ko;if(!de){if(u.number==(t?a.state.doc.lines:1))return B;fe=`
`,u=a.state.doc.line(u.number+(t?1:-1)),v=a.bidiSpans(u),de=o.jT.cursor(t?u.from:u.to)}if(G){if(!G(fe))return B}else{if(!r)return de;G=r(fe)}B=de}}function Ur(a,e,t){let r=a.state.charCategorizer(e),u=r(t);return v=>{let A=r(v);return u==o.D0.Space&&(u=A),u==A}}function Fr(a,e,t,r){let u=e.head,v=t?1:-1;if(u==(t?a.state.doc.length:0))return o.jT.cursor(u,e.assoc);let A=e.goalColumn,B,G=a.contentDOM.getBoundingClientRect(),de=a.coordsAtPos(u),fe=a.documentTop;if(de)A==null&&(A=de.left-G.left),B=v<0?de.top:de.bottom;else{let dt=a.viewState.lineBlockAt(u);A==null&&(A=Math.min(G.right-G.left,a.defaultCharacterWidth*(u-dt.from))),B=(v<0?dt.top:dt.bottom)+fe}let ke=G.left+A,ot=r!=null?r:a.defaultLineHeight>>1;for(let dt=0;;dt+=10){let Pt=B+(ot+dt)*v,zt=Uo(a,{x:ke,y:Pt},!1,v);if(Pt<G.top||Pt>G.bottom||(v<0?zt<u:zt>u))return o.jT.cursor(zt,e.assoc,void 0,A)}}function en(a,e,t){for(;;){let r=0;for(let u of a)u.between(e-1,e+1,(v,A,B)=>{if(e>v&&e<A){let G=r||t||(e-v<A-e?-1:1);e=G<0?v:A,r=G}});if(!r)return e}}function ai(a,e,t){let r=en(a.state.facet(T).map(u=>u(a)),t.from,e.head>t.from?-1:1);return r==t.from?t:o.jT.cursor(r,r<t.from?1:-1)}class Hn{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(r,u)=>{this.ignoreDuringComposition(u)||u.type=="keydown"&&this.keydown(e,u)||(this.mustFlushObserver(u)&&e.observer.forceFlush(),this.runCustomHandlers(u.type,e,u)?u.preventDefault():r(e,u))};for(let r in _n){let u=_n[r];e.contentDOM.addEventListener(r,v=>{Xn(e,v)&&t(u,v)},Ri[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(_n.mousedown,r),!r.defaultPrevented&&r.button==2)){let u=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=u,200)}}),e.scrollDOM.addEventListener("drop",r=>{r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(_n.drop,r)}),ne.chrome&&ne.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ne.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var r;let u;this.customHandlers=[];for(let v of t)if(u=(r=v.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:v.value,handlers:u});for(let A in u)this.registeredEvents.indexOf(A)<0&&A!="scroll"&&(this.registeredEvents.push(A),e.contentDOM.addEventListener(A,B=>{Xn(e,B)&&this.runCustomHandlers(A,e,B)&&B.preventDefault()}))}}runCustomHandlers(e,t,r){for(let u of this.customHandlers){let v=u.handlers[e];if(v)try{if(v.call(u.plugin,r,t)||r.defaultPrevented)return!0}catch(A){yn(t.state,A)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let u=r.handlers.scroll;if(u)try{u.call(r.plugin,t,e)}catch(v){yn(e.state,v)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&tn.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),ne.android&&ne.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let r;return ne.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((r=Yn.find(u=>u.keyCode==t.keyCode))&&!t.ctrlKey||rn.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=r||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Ge(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ne.safari&&!ne.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Yn=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],rn="dthko",tn=[16,17,18,20,91,92,224,225],Zn=6;function an(a){return Math.max(0,a)*.7+8}class mi{constructor(e,t,r,u){this.view=e,this.style=r,this.mustSelect=u,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=re(e.contentDOM),this.atoms=e.state.facet(T).map(A=>A(e));let v=e.contentDOM.ownerDocument;v.addEventListener("mousemove",this.move=this.move.bind(this)),v.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(o.yy.allowMultipleSelections)&&Ai(e,t),this.dragMove=Fi(e,t),this.dragging=Qi(e,t)&&ao(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,u=0,v=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},A=q(this.view);e.clientX-A.left<=v.left+Zn?r=-an(v.left-e.clientX):e.clientX+A.right>=v.right-Zn&&(r=an(e.clientX-v.right)),e.clientY-A.top<=v.top+Zn?u=-an(v.top-e.clientY):e.clientY+A.bottom>=v.bottom-Zn&&(u=an(e.clientY-v.bottom)),this.setScrollSpeed(r,u)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let u=e.ranges[r],v=null;if(u.empty){let A=en(this.atoms,u.from,0);A!=u.from&&(v=o.jT.cursor(A,-1))}else{let A=en(this.atoms,u.from,-1),B=en(this.atoms,u.to,1);(A!=u.from||B!=u.to)&&(v=o.jT.range(u.from==u.anchor?A:B,u.from==u.head?A:B))}v&&(t||(t=e.ranges.slice()),t[r]=v)}return t?o.jT.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection)||r.main.assoc!=t.state.selection.main.assoc)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Ai(a,e){let t=a.state.facet(Rr);return t.length?t[0](e):ne.mac?e.metaKey:e.ctrlKey}function Fi(a,e){let t=a.state.facet(Xr);return t.length?t[0](e):ne.mac?!e.altKey:!e.ctrlKey}function Qi(a,e){let{main:t}=a.state.selection;if(t.empty)return!1;let r=J(a.root);if(!r||r.rangeCount==0)return!0;let u=r.getRangeAt(0).getClientRects();for(let v=0;v<u.length;v++){let A=u[v];if(A.left<=e.clientX&&A.right>=e.clientX&&A.top<=e.clientY&&A.bottom>=e.clientY)return!0}return!1}function Xn(a,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=a.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=mt.get(t))&&r.ignoreEvent(e))return!1;return!0}const _n=Object.create(null),Ri=Object.create(null),An=ne.ie&&ne.ie_version<15||ne.ios&&ne.webkit_version<604;function Vo(a){let e=a.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{a.focus(),t.remove(),Hi(a,t.value)},50)}function Hi(a,e){let{state:t}=a,r,u=1,v=t.toText(e),A=v.lines==t.selection.ranges.length;if(Ji!=null&&t.selection.ranges.every(G=>G.empty)&&Ji==v.toString()){let G=-1;r=t.changeByRange(de=>{let fe=t.doc.lineAt(de.from);if(fe.from==G)return{range:de};G=fe.from;let ke=t.toText((A?v.line(u++).text:e)+t.lineBreak);return{changes:{from:fe.from,insert:ke},range:o.jT.cursor(de.from+ke.length)}})}else A?r=t.changeByRange(G=>{let de=v.line(u++);return{changes:{from:G.from,to:G.to,insert:de.text},range:o.jT.cursor(G.from+de.length)}}):r=t.replaceSelection(v);a.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}_n.keydown=(a,e)=>{a.inputState.setSelectionOrigin("select"),e.keyCode==27&&(a.inputState.lastEscPress=Date.now())},_n.touchstart=(a,e)=>{a.inputState.lastTouchTime=Date.now(),a.inputState.setSelectionOrigin("select.pointer")},_n.touchmove=a=>{a.inputState.setSelectionOrigin("select.pointer")},Ri.touchstart=Ri.touchmove={passive:!0},_n.mousedown=(a,e)=>{if(a.observer.flush(),a.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let r of a.state.facet(fn))if(t=r(a,e),t)break;if(!t&&e.button==0&&(t=Ps(a,e)),t){let r=a.root.activeElement!=a.contentDOM;a.inputState.startMouseSelection(new mi(a,e,t,r)),r&&a.observer.ignore(()=>Ne(a.contentDOM)),a.inputState.mouseSelection&&a.inputState.mouseSelection.start(e)}};function ci(a,e,t,r){if(r==1)return o.jT.cursor(e,t);if(r==2)return wi(a.state,e,t);{let u=Sr.find(a.docView,e),v=a.state.doc.lineAt(u?u.posAtEnd:e),A=u?u.posAtStart:v.from,B=u?u.posAtEnd:v.to;return B<a.state.doc.length&&B==v.to&&B++,o.jT.range(A,B)}}let Eo=(a,e)=>a>=e.top&&a<=e.bottom,wo=(a,e,t)=>Eo(e,t)&&a>=t.left&&a<=t.right;function $o(a,e,t,r){let u=Sr.find(a.docView,e);if(!u)return 1;let v=e-u.posAtStart;if(v==0)return 1;if(v==u.length)return-1;let A=u.coordsAt(v,-1);if(A&&wo(t,r,A))return-1;let B=u.coordsAt(v,1);return B&&wo(t,r,B)?1:A&&Eo(r,A)?-1:1}function fi(a,e){let t=a.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:$o(a,t,e.clientX,e.clientY)}}const ro=ne.ie&&ne.ie_version<=11;let Pi=null,mo=0,Io=0;function ao(a){if(!ro)return a.detail;let e=Pi,t=Io;return Pi=a,Io=Date.now(),mo=!e||t>Date.now()-400&&Math.abs(e.clientX-a.clientX)<2&&Math.abs(e.clientY-a.clientY)<2?(mo+1)%3:1}function Ps(a,e){let t=fi(a,e),r=ao(e),u=a.state.selection;return{update(v){v.docChanged&&(t.pos=v.changes.mapPos(t.pos),u=u.map(v.changes))},get(v,A,B){let G=fi(a,v),de,fe=ci(a,G.pos,G.bias,r);if(t.pos!=G.pos&&!A){let ke=ci(a,t.pos,t.bias,r),ot=Math.min(ke.from,fe.from),dt=Math.max(ke.to,fe.to);fe=ot<fe.from?o.jT.range(ot,dt):o.jT.range(dt,ot)}return A?u.replaceRange(u.main.extend(fe.from,fe.to)):B&&r==1&&u.ranges.length>1&&(de=Hs(u,G.pos))?de:B?u.addRange(fe):o.jT.create([fe])}}}function Hs(a,e){for(let t=0;t<a.ranges.length;t++){let{from:r,to:u}=a.ranges[t];if(r<=e&&u>=e)return o.jT.create(a.ranges.slice(0,t).concat(a.ranges.slice(t+1)),a.mainIndex==t?0:a.mainIndex-(a.mainIndex>t?1:0))}return null}_n.dragstart=(a,e)=>{let{selection:{main:t}}=a.state,{mouseSelection:r}=a.inputState;r&&(r.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",a.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function vs(a,e,t,r){if(!t)return;let u=a.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:v}=a.inputState,A=r&&v&&v.dragging&&v.dragMove?{from:v.dragging.from,to:v.dragging.to}:null,B={from:u,insert:t},G=a.state.changes(A?[A,B]:B);a.focus(),a.dispatch({changes:G,selection:{anchor:G.mapPos(u,-1),head:G.mapPos(u,1)},userEvent:A?"move.drop":"input.drop"})}_n.drop=(a,e)=>{if(!e.dataTransfer)return;if(a.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let r=Array(t.length),u=0,v=()=>{++u==t.length&&vs(a,e,r.filter(A=>A!=null).join(a.state.lineBreak),!1)};for(let A=0;A<t.length;A++){let B=new FileReader;B.onerror=v,B.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(B.result)||(r[A]=B.result),v()},B.readAsText(t[A])}}else vs(a,e,e.dataTransfer.getData("Text"),!0)},_n.paste=(a,e)=>{if(a.state.readOnly)return e.preventDefault();a.observer.flush();let t=An?null:e.clipboardData;t?(Hi(a,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):Vo(a)};function Dn(a,e){let t=a.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),a.focus()},50)}function Ro(a){let e=[],t=[],r=!1;for(let u of a.selection.ranges)u.empty||(e.push(a.sliceDoc(u.from,u.to)),t.push(u));if(!e.length){let u=-1;for(let{from:v}of a.selection.ranges){let A=a.doc.lineAt(v);A.number>u&&(e.push(A.text),t.push({from:A.from,to:Math.min(a.doc.length,A.to+1)})),u=A.number}r=!0}return{text:e.join(a.lineBreak),ranges:t,linewise:r}}let Ji=null;_n.copy=_n.cut=(a,e)=>{let{text:t,ranges:r,linewise:u}=Ro(a.state);if(!t&&!u)return;Ji=u?t:null;let v=An?null:e.clipboardData;v?(e.preventDefault(),v.clearData(),v.setData("text/plain",t)):Dn(a,t),e.type=="cut"&&!a.state.readOnly&&a.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const Ko=o.q6.define();function qi(a,e){let t=[];for(let r of a.facet(vn)){let u=r(a,e);u&&t.push(u)}return t?a.update({effects:t,annotations:Ko.of(!0)}):null}function dn(a){setTimeout(()=>{let e=a.hasFocus;if(e!=a.inputState.notifiedFocused){let t=qi(a.state,e);t?a.dispatch(t):a.update([])}},10)}_n.focus=a=>{a.inputState.lastFocusTime=Date.now(),!a.scrollDOM.scrollTop&&(a.inputState.lastScrollTop||a.inputState.lastScrollLeft)&&(a.scrollDOM.scrollTop=a.inputState.lastScrollTop,a.scrollDOM.scrollLeft=a.inputState.lastScrollLeft),dn(a)},_n.blur=a=>{a.observer.clearSelectionRange(),dn(a)},_n.compositionstart=_n.compositionupdate=a=>{a.inputState.compositionFirstChange==null&&(a.inputState.compositionFirstChange=!0),a.inputState.composing<0&&(a.inputState.composing=0)},_n.compositionend=a=>{a.inputState.composing=-1,a.inputState.compositionEndedAt=Date.now(),a.inputState.compositionPendingKey=!0,a.inputState.compositionPendingChange=a.observer.pendingRecords().length>0,a.inputState.compositionFirstChange=null,ne.chrome&&ne.android?a.observer.flushSoon():a.inputState.compositionPendingChange?Promise.resolve().then(()=>a.observer.flush()):setTimeout(()=>{a.inputState.composing<0&&a.docView.compositionDeco.size&&a.update([])},50)},_n.contextmenu=a=>{a.inputState.lastContextMenu=Date.now()},_n.beforeinput=(a,e)=>{var t;let r;if(ne.chrome&&ne.android&&(r=Yn.find(u=>u.inputType==e.inputType))&&(a.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let u=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var v;(((v=window.visualViewport)===null||v===void 0?void 0:v.height)||0)>u+10&&a.hasFocus&&(a.contentDOM.blur(),a.focus())},100)}};const Ts=["pre-wrap","normal","pre-line","break-spaces"];class Ti{constructor(e){this.lineWrapping=e,this.doc=o.xv.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Ts.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let u=e[r];u<0?r++:this.heightSamples[Math.floor(u*10)]||(t=!0,this.heightSamples[Math.floor(u*10)]=!0)}return t}refresh(e,t,r,u,v,A){let B=Ts.indexOf(e)>-1,G=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=B;if(this.lineWrapping=B,this.lineHeight=t,this.charWidth=r,this.textHeight=u,this.lineLength=v,G){this.heightSamples={};for(let de=0;de<A.length;de++){let fe=A[de];fe<0?de++:this.heightSamples[Math.floor(fe*10)]=!0}}return G}}class zo{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class gi{constructor(e,t,r,u,v){this.from=e,this.length=t,this.top=r,this.height=u,this._content=v}get type(){return typeof this._content=="number"?pr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Le?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new gi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Bn=function(a){return a[a.ByPos=0]="ByPos",a[a.ByHeight=1]="ByHeight",a[a.ByPosNoHeight=2]="ByPosNoHeight",a}(Bn||(Bn={}));const Oo=.001;class Un{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Oo&&(e.heightChanged=!0),this.height=t)}replace(e,t,r){return Un.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,u){let v=this,A=r.doc;for(let B=u.length-1;B>=0;B--){let{fromA:G,toA:de,fromB:fe,toB:ke}=u[B],ot=v.lineAt(G,Bn.ByPosNoHeight,r.setDoc(t),0,0),dt=ot.to>=de?ot:v.lineAt(de,Bn.ByPosNoHeight,r,0,0);for(ke+=dt.to-de,de=dt.to;B>0&&ot.from<=u[B-1].toA;)G=u[B-1].fromA,fe=u[B-1].fromB,B--,G<ot.from&&(ot=v.lineAt(G,Bn.ByPosNoHeight,r,0,0));fe+=ot.from-G,G=ot.from;let Pt=ei.build(r.setDoc(A),e,fe,ke);v=v.replace(G,de,Pt)}return v.updateHeight(r,0)}static empty(){return new pi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,u=0,v=0;for(;;)if(t==r)if(u>v*2){let B=e[t-1];B.break?e.splice(--t,1,B.left,null,B.right):e.splice(--t,1,B.left,B.right),r+=1+B.break,u-=B.size}else if(v>u*2){let B=e[r];B.break?e.splice(r,1,B.left,null,B.right):e.splice(r,1,B.left,B.right),r+=2+B.break,v-=B.size}else break;else if(u<v){let B=e[t++];B&&(u+=B.size)}else{let B=e[--r];B&&(v+=B.size)}let A=0;return e[t-1]==null?(A=1,t--):e[t]==null&&(A=1,r++),new Ho(Un.of(e.slice(0,t)),A,Un.of(e.slice(r)))}}Un.prototype.size=1;class Oi extends Un{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,u){return new gi(u,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,u,v){return this.blockAt(0,r,u,v)}forEachLine(e,t,r,u,v,A){e<=v+this.length&&t>=v&&A(this.blockAt(0,r,u,v))}updateHeight(e,t=0,r=!1,u){return u&&u.from<=t&&u.more&&this.setHeight(e,u.heights[u.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class pi extends Oi{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,u){return new gi(u,this.length,r,this.height,this.breaks)}replace(e,t,r){let u=r[0];return r.length==1&&(u instanceof pi||u instanceof li&&u.flags&4)&&Math.abs(this.length-u.length)<10?(u instanceof li?u=new pi(u.length,this.height):u.height=this.height,this.outdated||(u.outdated=!1),u):Un.of(r)}updateHeight(e,t=0,r=!1,u){return u&&u.from<=t&&u.more?this.setHeight(e,u.heights[u.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class li extends Un{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,u=e.doc.lineAt(t+this.length).number,v=u-r+1,A,B=0;if(e.lineWrapping){let G=Math.min(this.height,e.lineHeight*v);A=G/v,this.length>v+1&&(B=(this.height-G)/(this.length-v-1))}else A=this.height/v;return{firstLine:r,lastLine:u,perLine:A,perChar:B}}blockAt(e,t,r,u){let{firstLine:v,lastLine:A,perLine:B,perChar:G}=this.heightMetrics(t,u);if(t.lineWrapping){let de=u+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),fe=t.doc.lineAt(de),ke=B+fe.length*G,ot=Math.max(r,e-ke/2);return new gi(fe.from,fe.length,ot,ke,0)}else{let de=Math.max(0,Math.min(A-v,Math.floor((e-r)/B))),{from:fe,length:ke}=t.doc.line(v+de);return new gi(fe,ke,r+B*de,B,0)}}lineAt(e,t,r,u,v){if(t==Bn.ByHeight)return this.blockAt(e,r,u,v);if(t==Bn.ByPosNoHeight){let{from:dt,to:Pt}=r.doc.lineAt(e);return new gi(dt,Pt-dt,0,0,0)}let{firstLine:A,perLine:B,perChar:G}=this.heightMetrics(r,v),de=r.doc.lineAt(e),fe=B+de.length*G,ke=de.number-A,ot=u+B*ke+G*(de.from-v-ke);return new gi(de.from,de.length,Math.max(u,Math.min(ot,u+this.height-fe)),fe,0)}forEachLine(e,t,r,u,v,A){e=Math.max(e,v),t=Math.min(t,v+this.length);let{firstLine:B,perLine:G,perChar:de}=this.heightMetrics(r,v);for(let fe=e,ke=u;fe<=t;){let ot=r.doc.lineAt(fe);if(fe==e){let Pt=ot.number-B;ke+=G*Pt+de*(e-v-Pt)}let dt=G+de*ot.length;A(new gi(ot.from,ot.length,ke,dt,0)),ke+=dt,fe=ot.to+1}}replace(e,t,r){let u=this.length-t;if(u>0){let v=r[r.length-1];v instanceof li?r[r.length-1]=new li(v.length+u):r.push(null,new li(u-1))}if(e>0){let v=r[0];v instanceof li?r[0]=new li(e+v.length):r.unshift(new li(e-1),null)}return Un.of(r)}decomposeLeft(e,t){t.push(new li(e-1),null)}decomposeRight(e,t){t.push(null,new li(this.length-e-1))}updateHeight(e,t=0,r=!1,u){let v=t+this.length;if(u&&u.from<=t+this.length&&u.more){let A=[],B=Math.max(t,u.from),G=-1;for(u.from>t&&A.push(new li(u.from-t-1).updateHeight(e,t));B<=v&&u.more;){let fe=e.doc.lineAt(B).length;A.length&&A.push(null);let ke=u.heights[u.index++];G==-1?G=ke:Math.abs(ke-G)>=Oo&&(G=-2);let ot=new pi(fe,ke);ot.outdated=!1,A.push(ot),B+=fe+1}B<=v&&A.push(null,new li(v-B).updateHeight(e,B));let de=Un.of(A);return(G<0||Math.abs(de.height-this.height)>=Oo||Math.abs(G-this.heightMetrics(e,t).perLine)>=Oo)&&(e.heightChanged=!0),de}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Ho extends Un{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,u){let v=r+this.left.height;return e<v?this.left.blockAt(e,t,r,u):this.right.blockAt(e,t,v,u+this.left.length+this.break)}lineAt(e,t,r,u,v){let A=u+this.left.height,B=v+this.left.length+this.break,G=t==Bn.ByHeight?e<A:e<B,de=G?this.left.lineAt(e,t,r,u,v):this.right.lineAt(e,t,r,A,B);if(this.break||(G?de.to<B:de.from>B))return de;let fe=t==Bn.ByPosNoHeight?Bn.ByPosNoHeight:Bn.ByPos;return G?de.join(this.right.lineAt(B,fe,r,A,B)):this.left.lineAt(B,fe,r,u,v).join(de)}forEachLine(e,t,r,u,v,A){let B=u+this.left.height,G=v+this.left.length+this.break;if(this.break)e<G&&this.left.forEachLine(e,t,r,u,v,A),t>=G&&this.right.forEachLine(e,t,r,B,G,A);else{let de=this.lineAt(G,Bn.ByPos,r,u,v);e<de.from&&this.left.forEachLine(e,de.from-1,r,u,v,A),de.to>=e&&de.from<=t&&A(de),t>de.to&&this.right.forEachLine(de.to+1,t,r,B,G,A)}}replace(e,t,r){let u=this.left.length+this.break;if(t<u)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-u,t-u,r));let v=[];e>0&&this.decomposeLeft(e,v);let A=v.length;for(let B of r)v.push(B);if(e>0&&po(v,A-1),t<this.length){let B=v.length;this.decomposeRight(t,v),po(v,B)}return Un.of(v)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,u=r+this.break;if(e>=u)return this.right.decomposeRight(e-u,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<u&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Un.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,u){let{left:v,right:A}=this,B=t+v.length+this.break,G=null;return u&&u.from<=t+v.length&&u.more?G=v=v.updateHeight(e,t,r,u):v.updateHeight(e,t,r),u&&u.from<=B+A.length&&u.more?G=A=A.updateHeight(e,B,r,u):A.updateHeight(e,B,r),G?this.balanced(v,A):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function po(a,e){let t,r;a[e]==null&&(t=a[e-1])instanceof li&&(r=a[e+1])instanceof li&&a.splice(e-1,3,new li(t.length+1+r.length))}const bs=5;class ei{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),u=this.nodes[this.nodes.length-1];u instanceof pi?u.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new pi(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let u=r.widget?r.widget.estimatedHeight:0,v=r.widget?r.widget.lineBreaks:0;u<0&&(u=this.oracle.lineHeight);let A=t-e;r.block?this.addBlock(new Oi(A,u,r)):(A||v||u>=bs)&&this.addLineDeco(u,v,A)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new pi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new li(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof pi)return e;let t=new pi(0,-1);return this.nodes.push(t),t}addBlock(e){var t;this.enterLine();let r=(t=e.deco)===null||t===void 0?void 0:t.type;r==pr.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r!=pr.WidgetBefore&&(this.covering=e)}addLineDeco(e,t,r){let u=this.ensureLine();u.length+=r,u.collapsed+=r,u.widgetHeight=Math.max(u.widgetHeight,e),u.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof pi)&&!this.isCovered?this.nodes.push(new pi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let u of this.nodes)u instanceof pi&&u.updateHeight(this.oracle,r),r+=u?u.length:1;return this.nodes}static build(e,t,r,u){let v=new ei(r,e);return o.Xs.spans(t,r,u,v,0),v.finish(r)}}function no(a,e,t){let r=new lo;return o.Xs.compare(a,e,t,r,0),r.changes}class lo{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,u){(e<t||r&&r.heightRelevant||u&&u.heightRelevant)&&lr(e,t,this.changes,5)}}function ji(a,e){let t=a.getBoundingClientRect(),r=a.ownerDocument,u=r.defaultView||window,v=Math.max(0,t.left),A=Math.min(u.innerWidth,t.right),B=Math.max(0,t.top),G=Math.min(u.innerHeight,t.bottom);for(let de=a.parentNode;de&&de!=r.body;)if(de.nodeType==1){let fe=de,ke=window.getComputedStyle(fe);if((fe.scrollHeight>fe.clientHeight||fe.scrollWidth>fe.clientWidth)&&ke.overflow!="visible"){let ot=fe.getBoundingClientRect();v=Math.max(v,ot.left),A=Math.min(A,ot.right),B=Math.max(B,ot.top),G=de==a.parentNode?ot.bottom:Math.min(G,ot.bottom)}de=ke.position=="absolute"||ke.position=="fixed"?fe.offsetParent:fe.parentNode}else if(de.nodeType==11)de=de.host;else break;return{left:v-t.left,right:Math.max(v,A)-t.left,top:B-(t.top+e),bottom:Math.max(B,G)-(t.top+e)}}function Fo(a,e){let t=a.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Ei{constructor(e,t,r){this.from=e,this.to=t,this.size=r}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let u=e[r],v=t[r];if(u.from!=v.from||u.to!=v.to||u.size!=v.size)return!1}return!0}draw(e){return cr.replace({widget:new Ss(this.size,e)}).range(this.from,this.to)}}class Ss extends dr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class xo{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ns,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=je.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Pe).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Ti(t),this.stateDeco=e.facet(y).filter(r=>typeof r!="function"),this.heightMap=Un.empty().applyChanges(this.stateDeco,o.xv.empty,this.heightOracle.setDoc(e.doc),[new ge(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=cr.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let u=r?t.head:t.anchor;if(!e.some(({from:v,to:A})=>u>=v&&u<=A)){let{from:v,to:A}=this.lineBlockAt(u);e.push(new Jn(v,A))}}this.viewports=e.sort((r,u)=>r.from-u.from),this.scaler=this.heightMap.height<=7e6?ns:new Js(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Fn(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(y).filter(fe=>typeof fe!="function");let u=e.changedRanges,v=ge.extendWithRanges(u,no(r,this.stateDeco,e?e.changes:o.as.empty(this.state.doc.length))),A=this.heightMap.height,B=this.scrolledToBottom?null:this.lineBlockAtHeight(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),v),this.heightMap.height!=A&&(e.flags|=2),B?(this.scrollAnchorPos=e.changes.mapPos(B.from,-1),this.scrollAnchorHeight=B.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let G=v.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<G.from||t.range.head>G.to)||!this.viewportIsAppropriate(G))&&(G=this.getViewport(0,t));let de=!e.changes.empty||e.flags&2||G.from!=this.viewport.from||G.to!=this.viewport.to;this.viewport=G,this.updateForViewport(),de&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(un)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),u=this.heightOracle,v=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?je.RTL:je.LTR;let A=this.heightOracle.mustRefreshForWrapping(v),B=t.getBoundingClientRect(),G=A||this.mustMeasureContent||this.contentDOMHeight!=B.height;this.contentDOMHeight=B.height,this.mustMeasureContent=!1;let de=0,fe=0,ke=parseInt(r.paddingTop)||0,ot=parseInt(r.paddingBottom)||0;(this.paddingTop!=ke||this.paddingBottom!=ot)&&(this.paddingTop=ke,this.paddingBottom=ot,de|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(u.lineWrapping&&(G=!0),this.editorWidth=e.scrollDOM.clientWidth,de|=8),this.scrollTop!=e.scrollDOM.scrollTop&&(this.scrollAnchorHeight=-1,this.scrollTop=e.scrollDOM.scrollTop),this.scrolledToBottom=this.scrollTop>e.scrollDOM.scrollHeight-e.scrollDOM.clientHeight-4;let dt=(this.printing?Fo:ji)(t,this.paddingTop),Pt=dt.top-this.pixelViewport.top,zt=dt.bottom-this.pixelViewport.bottom;this.pixelViewport=dt;let Zt=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(Zt!=this.inView&&(this.inView=Zt,Zt&&(G=!0)),!this.inView&&!this.scrollTarget)return 0;let sr=B.width;if((this.contentDOMWidth!=sr||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=B.width,this.editorHeight=e.scrollDOM.clientHeight,de|=8),G){let hn=e.docView.measureVisibleLineHeights(this.viewport);if(u.mustRefreshForHeights(hn)&&(A=!0),A||u.lineWrapping&&Math.abs(sr-this.contentDOMWidth)>u.charWidth){let{lineHeight:Dr,charWidth:nn,textHeight:qr}=e.docView.measureTextSize();A=Dr>0&&u.refresh(v,Dr,nn,qr,sr/nn,hn),A&&(e.docView.minWidth=0,de|=8)}Pt>0&&zt>0?fe=Math.max(Pt,zt):Pt<0&&zt<0&&(fe=Math.min(Pt,zt)),u.heightChanged=!1;for(let Dr of this.viewports){let nn=Dr.from==this.viewport.from?hn:e.docView.measureVisibleLineHeights(Dr);this.heightMap=(A?Un.empty().applyChanges(this.stateDeco,o.xv.empty,this.heightOracle,[new ge(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(u,0,A,new zo(Dr.from,nn))}u.heightChanged&&(de|=2)}let qt=!this.viewportIsAppropriate(this.viewport,fe)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return qt&&(this.viewport=this.getViewport(fe,this.scrollTarget)),this.updateForViewport(),(de&2||qt)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(A?[]:this.lineGaps,e)),de|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),de}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),u=this.heightMap,v=this.heightOracle,{visibleTop:A,visibleBottom:B}=this,G=new Jn(u.lineAt(A-r*1e3,Bn.ByHeight,v,0,0).from,u.lineAt(B+(1-r)*1e3,Bn.ByHeight,v,0,0).to);if(t){let{head:de}=t.range;if(de<G.from||de>G.to){let fe=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),ke=u.lineAt(de,Bn.ByPos,v,0,0),ot;t.y=="center"?ot=(ke.top+ke.bottom)/2-fe/2:t.y=="start"||t.y=="nearest"&&de<G.from?ot=ke.top:ot=ke.bottom-fe,G=new Jn(u.lineAt(ot-1e3/2,Bn.ByHeight,v,0,0).from,u.lineAt(ot+fe+1e3/2,Bn.ByHeight,v,0,0).to)}}return G}mapViewport(e,t){let r=t.mapPos(e.from,-1),u=t.mapPos(e.to,1);return new Jn(this.heightMap.lineAt(r,Bn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(u,Bn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:u}=this.heightMap.lineAt(e,Bn.ByPos,this.heightOracle,0,0),{bottom:v}=this.heightMap.lineAt(t,Bn.ByPos,this.heightOracle,0,0),{visibleTop:A,visibleBottom:B}=this;return(e==0||u<=A-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||v>=B+Math.max(10,Math.min(r,250)))&&u>A-2*1e3&&v<B+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let u of e)t.touchesRange(u.from,u.to)||r.push(new Ei(t.mapPos(u.from),t.mapPos(u.to),u.size));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,u=r?1e4:2e3,v=u>>1,A=u<<1;if(this.defaultTextDirection!=je.LTR&&!r)return[];let B=[],G=(de,fe,ke,ot)=>{if(fe-de<v)return;let dt=this.state.selection.main,Pt=[dt.from];dt.empty||Pt.push(dt.to);for(let Zt of Pt)if(Zt>de&&Zt<fe){G(de,Zt-10,ke,ot),G(Zt+10,fe,ke,ot);return}let zt=go(e,Zt=>Zt.from>=ke.from&&Zt.to<=ke.to&&Math.abs(Zt.from-de)<v&&Math.abs(Zt.to-fe)<v&&!Pt.some(sr=>Zt.from<sr&&Zt.to>sr));if(!zt){if(fe<ke.to&&t&&r&&t.visibleRanges.some(Zt=>Zt.from<=fe&&Zt.to>=fe)){let Zt=t.moveToLineBoundary(o.jT.cursor(fe),!1,!0).head;Zt>de&&(fe=Zt)}zt=new Ei(de,fe,this.gapSize(ke,de,fe,ot))}B.push(zt)};for(let de of this.viewportLines){if(de.length<A)continue;let fe=_i(de.from,de.to,this.stateDeco);if(fe.total<A)continue;let ke=this.scrollTarget?this.scrollTarget.range.head:null,ot,dt;if(r){let Pt=u/this.heightOracle.lineLength*this.heightOracle.lineHeight,zt,Zt;if(ke!=null){let sr=Qn(fe,ke),qt=((this.visibleBottom-this.visibleTop)/2+Pt)/de.height;zt=sr-qt,Zt=sr+qt}else zt=(this.visibleTop-de.top-Pt)/de.height,Zt=(this.visibleBottom-de.top+Pt)/de.height;ot=kr(fe,zt),dt=kr(fe,Zt)}else{let Pt=fe.total*this.heightOracle.charWidth,zt=u*this.heightOracle.charWidth,Zt,sr;if(ke!=null){let qt=Qn(fe,ke),hn=((this.pixelViewport.right-this.pixelViewport.left)/2+zt)/Pt;Zt=qt-hn,sr=qt+hn}else Zt=(this.pixelViewport.left-zt)/Pt,sr=(this.pixelViewport.right+zt)/Pt;ot=kr(fe,Zt),dt=kr(fe,sr)}ot>de.from&&G(de.from,ot,de,fe),dt<de.to&&G(dt,de.to,de,fe)}return B}gapSize(e,t,r,u){let v=Qn(u,r)-Qn(u,t);return this.heightOracle.lineWrapping?e.height*v:u.total*this.heightOracle.charWidth*v}updateLineGaps(e){Ei.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=cr.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];o.Xs.spans(e,this.viewport.from,this.viewport.to,{span(u,v){t.push({from:u,to:v})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((u,v)=>u.from!=t[v].from||u.to!=t[v].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Fn(this.heightMap.lineAt(e,Bn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Fn(this.heightMap.lineAt(this.scaler.fromDOM(e),Bn.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Fn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Jn{constructor(e,t){this.from=e,this.to=t}}function _i(a,e,t){let r=[],u=a,v=0;return o.Xs.spans(t,a,e,{span(){},point(A,B){A>u&&(r.push({from:u,to:A}),v+=A-u),u=B}},20),u<e&&(r.push({from:u,to:e}),v+=e-u),{total:v,ranges:r}}function kr({total:a,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(a*t);for(let u=0;;u++){let{from:v,to:A}=e[u],B=A-v;if(r<=B)return v+r;r-=B}}function Qn(a,e){let t=0;for(let{from:r,to:u}of a.ranges){if(e<=u){t+=e-r;break}t+=u-r}return t/a.total}function go(a,e){for(let t of a)if(e(t))return t}const ns={toDOM(a){return a},fromDOM(a){return a},scale:1};class Js{constructor(e,t,r){let u=0,v=0,A=0;this.viewports=r.map(({from:B,to:G})=>{let de=t.lineAt(B,Bn.ByPos,e,0,0).top,fe=t.lineAt(G,Bn.ByPos,e,0,0).bottom;return u+=fe-de,{from:B,to:G,top:de,bottom:fe,domTop:0,domBottom:0}}),this.scale=(7e6-u)/(t.height-u);for(let B of this.viewports)B.domTop=A+(B.top-v)*this.scale,A=B.domBottom=B.domTop+(B.bottom-B.top),v=B.bottom}toDOM(e){for(let t=0,r=0,u=0;;t++){let v=t<this.viewports.length?this.viewports[t]:null;if(!v||e<v.top)return u+(e-r)*this.scale;if(e<=v.bottom)return v.domTop+(e-v.top);r=v.bottom,u=v.domBottom}}fromDOM(e){for(let t=0,r=0,u=0;;t++){let v=t<this.viewports.length?this.viewports[t]:null;if(!v||e<v.domTop)return r+(e-u)/this.scale;if(e<=v.domBottom)return v.top+(e-v.domTop);r=v.bottom,u=v.domBottom}}}function Fn(a,e){if(e.scale==1)return a;let t=e.toDOM(a.top),r=e.toDOM(a.bottom);return new gi(a.from,a.length,t,r-t,Array.isArray(a._content)?a._content.map(u=>Fn(u,e)):a._content)}const is=o.r$.define({combine:a=>a.join(" ")}),os=o.r$.define({combine:a=>a.indexOf(!0)>-1}),ss=m.V.newName(),_s=m.V.newName(),Ds=m.V.newName(),vt={"&light":"."+_s,"&dark":"."+Ds};function it(a,e,t){return new m.V(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,u=>{if(u=="&")return a;if(!t||!t[u])throw new RangeError(`Unsupported selector: ${u}`);return t[u]}):a+" "+r}})}const Zi=it("."+ss,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},vt);class Ni{constructor(e,t,r,u){this.typeOver=u,this.bounds=null,this.text="";let{impreciseHead:v,impreciseAnchor:A}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let B=v||A?[]:gr(e),G=new Mo(B,e.state);G.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=G.text,this.newSel=Hr(B,this.bounds.from)}else{let B=e.observer.selectionRange,G=v&&v.node==B.focusNode&&v.offset==B.focusOffset||!z(e.contentDOM,B.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(B.focusNode,B.focusOffset),de=A&&A.node==B.anchorNode&&A.offset==B.anchorOffset||!z(e.contentDOM,B.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(B.anchorNode,B.anchorOffset);this.newSel=o.jT.single(de,G)}}}function zr(a,e){let t,{newSel:r}=e,u=a.state.selection.main,v=a.inputState.lastKeyTime>Date.now()-100?a.inputState.lastKeyCode:-1;if(e.bounds){let{from:A,to:B}=e.bounds,G=u.from,de=null;(v===8||ne.android&&e.text.length<B-A)&&(G=u.to,de="end");let fe=wr(a.state.doc.sliceString(A,B,Ii),e.text,G-A,de);fe&&(ne.chrome&&v==13&&fe.toB==fe.from+2&&e.text.slice(fe.from,fe.toB)==Ii+Ii&&fe.toB--,t={from:A+fe.from,to:A+fe.toA,insert:o.xv.of(e.text.slice(fe.from,fe.toB).split(Ii))})}else r&&(!a.hasFocus&&a.state.facet(sn)||r.main.eq(u))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!u.empty&&r&&r.main.empty?t={from:u.from,to:u.to,insert:a.state.doc.slice(u.from,u.to)}:t&&t.from>=u.from&&t.to<=u.to&&(t.from!=u.from||t.to!=u.to)&&u.to-u.from-(t.to-t.from)<=4?t={from:u.from,to:u.to,insert:a.state.doc.slice(u.from,t.from).append(t.insert).append(a.state.doc.slice(t.to,u.to))}:(ne.mac||ne.android)&&t&&t.from==t.to&&t.from==u.head-1&&/^\. ?$/.test(t.insert.toString())&&a.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=o.jT.single(r.main.anchor-1,r.main.head-1)),t={from:u.from,to:u.to,insert:o.xv.of([" "])}):ne.chrome&&t&&t.from==t.to&&t.from==u.head&&t.insert.toString()==`
 `&&a.lineWrapping&&(r&&(r=o.jT.single(r.main.anchor-1,r.main.head-1)),t={from:u.from,to:u.to,insert:o.xv.of([" "])}),t){let A=a.state;if(ne.ios&&a.inputState.flushIOSKey(a)||ne.android&&(t.from==u.from&&t.to==u.to&&t.insert.length==1&&t.insert.lines==2&&Ge(a.contentDOM,"Enter",13)||(t.from==u.from-1&&t.to==u.to&&t.insert.length==0||v==8&&t.insert.length<t.to-t.from)&&Ge(a.contentDOM,"Backspace",8)||t.from==u.from&&t.to==u.to+1&&t.insert.length==0&&Ge(a.contentDOM,"Delete",46)))return!0;let B=t.insert.toString();if(a.state.facet(mn).some(fe=>fe(a,t.from,t.to,B)))return!0;a.inputState.composing>=0&&a.inputState.composing++;let G;if(t.from>=u.from&&t.to<=u.to&&t.to-t.from>=(u.to-u.from)/3&&(!r||r.main.empty&&r.main.from==t.from+t.insert.length)&&a.inputState.composing<0){let fe=u.from<t.from?A.sliceDoc(u.from,t.from):"",ke=u.to>t.to?A.sliceDoc(t.to,u.to):"";G=A.replaceSelection(a.state.toText(fe+t.insert.sliceString(0,void 0,a.state.lineBreak)+ke))}else{let fe=A.changes(t),ke=r&&r.main.to<=fe.newLength?r.main:void 0;if(A.selection.ranges.length>1&&a.inputState.composing>=0&&t.to<=u.to&&t.to>=u.to-10){let ot=a.state.sliceDoc(t.from,t.to),dt=Fe(a)||a.state.doc.lineAt(u.head),Pt=u.to-t.to,zt=u.to-u.from;G=A.changeByRange(Zt=>{if(Zt.from==u.from&&Zt.to==u.to)return{changes:fe,range:ke||Zt.map(fe)};let sr=Zt.to-Pt,qt=sr-ot.length;if(Zt.to-Zt.from!=zt||a.state.sliceDoc(qt,sr)!=ot||dt&&Zt.to>=dt.from&&Zt.from<=dt.to)return{range:Zt};let hn=A.changes({from:qt,to:sr,insert:t.insert}),Dr=Zt.to-u.to;return{changes:hn,range:ke?o.jT.range(Math.max(0,ke.anchor+Dr),Math.max(0,ke.head+Dr)):Zt.map(hn)}})}else G={changes:fe,selection:ke&&A.selection.replaceRange(ke)}}let de="input.type";return(a.composing||a.inputState.compositionPendingChange&&a.inputState.compositionEndedAt>Date.now()-50)&&(a.inputState.compositionPendingChange=!1,de+=".compose",a.inputState.compositionFirstChange&&(de+=".start",a.inputState.compositionFirstChange=!1)),a.dispatch(G,{scrollIntoView:!0,userEvent:de}),!0}else if(r&&!r.main.eq(u)){let A=!1,B="select";return a.inputState.lastSelectionTime>Date.now()-50&&(a.inputState.lastSelectionOrigin=="select"&&(A=!0),B=a.inputState.lastSelectionOrigin),a.dispatch({selection:r,scrollIntoView:A,userEvent:B}),!0}else return!1}function wr(a,e,t,r){let u=Math.min(a.length,e.length),v=0;for(;v<u&&a.charCodeAt(v)==e.charCodeAt(v);)v++;if(v==u&&a.length==e.length)return null;let A=a.length,B=e.length;for(;A>0&&B>0&&a.charCodeAt(A-1)==e.charCodeAt(B-1);)A--,B--;if(r=="end"){let G=Math.max(0,v-Math.min(A,B));t-=A+G-v}if(A<v&&a.length<e.length){let G=t<=v&&t>=A?v-t:0;v-=G,B=v+(B-A),A=v}else if(B<v){let G=t<=v&&t>=B?v-t:0;v-=G,A=v+(A-B),B=v}return{from:v,toA:A,toB:B}}function gr(a){let e=[];if(a.root.activeElement!=a.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:u,focusOffset:v}=a.observer.selectionRange;return t&&(e.push(new be(t,r)),(u!=t||v!=r)&&e.push(new be(u,v))),e}function Hr(a,e){if(a.length==0)return null;let t=a[0].pos,r=a.length==2?a[1].pos:t;return t>-1&&r>-1?o.jT.single(t+e,r+e):null}const wn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},xn=ne.ie&&ne.ie_version<=11;class di{constructor(e){this.view=e,this.active=!1,this.selectionRange=new M,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ne.ie&&ne.ie_version<=11||ne.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),xn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,u=this.selectionRange;if(r.state.facet(sn)?r.root.activeElement!=this.dom:!te(r.dom,u))return;let v=u.anchorNode&&r.docView.nearest(u.anchorNode);if(v&&v.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ne.ie&&ne.ie_version<=11||ne.android&&ne.chrome)&&!r.state.selection.main.empty&&u.focusNode&&ye(u.focusNode,u.focusOffset,u.anchorNode,u.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=ne.safari&&e.root.nodeType==11&&ee(this.dom.ownerDocument)==this.dom&&yo(this.view)||J(e.root);if(!t||this.selectionRange.eq(t))return!1;let r=te(this.dom,t);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Ye(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,wn),xn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),xn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let u=()=>{let v=this.delayedAndroidKey;v&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=v.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&v.force&&Ge(this.dom,v.key,v.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(u)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,u=!1;for(let v of e){let A=this.readMutation(v);A&&(A.typeOver&&(u=!0),t==-1?{from:t,to:r}=A:(t=Math.min(A.from,t),r=Math.max(A.to,r)))}return{from:t,to:r,typeOver:u}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),u=this.selectionChanged&&te(this.dom,this.selectionRange);return e<0&&!u?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Ni(this.view,e,t,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let r=this.view.state,u=zr(this.view,t);return this.view.state==r&&this.view.update([]),u}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let r=yi(t,e.previousSibling||e.target.previousSibling,-1),u=yi(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:u?t.posBefore(u):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,r,u;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(u=this.resizeContent)===null||u===void 0||u.disconnect();for(let v of this.scrollTargets)v.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function yi(a,e,t){for(;e;){let r=mt.get(e);if(r&&r.parent==a)return r;let u=e.parentNode;e=u!=a.dom?u:t>0?e.nextSibling:e.previousSibling}return null}function yo(a){let e=null;function t(G){G.preventDefault(),G.stopImmediatePropagation(),e=G.getTargetRanges()[0]}if(a.contentDOM.addEventListener("beforeinput",t,!0),a.dom.ownerDocument.execCommand("indent"),a.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let r=e.startContainer,u=e.startOffset,v=e.endContainer,A=e.endOffset,B=a.docView.domAtPos(a.state.selection.main.anchor);return ye(B.node,B.offset,v,A)&&([r,u,v,A]=[v,A,r,u]),{anchorNode:r,anchorOffset:u,focusNode:v,focusOffset:A}}class jn{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||ht(e.parent)||document,this.viewState=new xo(e.state||o.yy.create(e)),this.plugins=this.state.facet(En).map(t=>new oi(t));for(let t of this.plugins)t.update(this);this.observer=new di(this),this.inputState=new Hn(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new N(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){let t=e.length==1&&e[0]instanceof o.YW?e[0]:this.state.update(...e);this._dispatch(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,u,v=this.state;for(let ot of e){if(ot.startState!=v)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");v=ot.state}if(this.destroyed){this.viewState.state=v;return}let A=this.hasFocus,B=0,G=null;e.some(ot=>ot.annotation(Ko))?(this.inputState.notifiedFocused=A,B=1):A!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=A,G=qi(v,A),G||(B=1));let de=this.observer.delayedAndroidKey,fe=null;if(de?(this.observer.clearDelayedAndroidKey(),fe=this.observer.readChange(),(fe&&!this.state.doc.eq(v.doc)||!this.state.selection.eq(v.selection))&&(fe=null)):this.observer.clear(),v.facet(o.yy.phrases)!=this.state.facet(o.yy.phrases))return this.setState(v);u=Ve.create(this,v,e),u.flags|=B;let ke=this.viewState.scrollTarget;try{this.updateState=2;for(let ot of e){if(ke&&(ke=ke.map(ot.changes)),ot.scrollIntoView){let{main:dt}=ot.state.selection;ke=new cn(dt.empty?dt:o.jT.cursor(dt.head,dt.head>dt.anchor?-1:1))}for(let dt of ot.effects)dt.is(Yr)&&(ke=dt.value)}this.viewState.update(u,ke),this.bidiCache=Gs.update(this.bidiCache,u.changes),u.empty||(this.updatePlugins(u),this.inputState.update(u)),t=this.docView.update(u),this.state.facet(we)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(ot=>ot.isUserEvent("select.pointer")))}finally{this.updateState=0}if(u.startState.facet(is)!=u.state.facet(is)&&(this.viewState.mustMeasureContent=!0),(t||r||ke||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!u.empty)for(let ot of this.state.facet(ln))ot(u);(G||fe)&&Promise.resolve().then(()=>{G&&this.state==G.startState&&this.dispatch(G),fe&&!zr(this,fe)&&de.force&&Ge(this.contentDOM,de.key,de.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new xo(e),this.plugins=e.facet(En).map(r=>new oi(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new N(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(En),r=e.state.facet(En);if(t!=r){let u=[];for(let v of r){let A=t.indexOf(v);if(A<0)u.push(new oi(v));else{let B=this.plugins[A];B.mustUpdate=e,u.push(B)}}for(let v of this.plugins)v.mustUpdate!=e&&v.destroy(this);this.plugins=u,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let u of this.plugins)u.mustUpdate=e;for(let u=0;u<this.plugins.length;u++)this.plugins[u].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,{scrollAnchorPos:u,scrollAnchorHeight:v}=this.viewState;if(this.viewState.scrollAnchorHeight=-1,v<0||r.scrollTop!=this.viewState.scrollTop)if(r.scrollTop>r.scrollHeight-r.clientHeight-4)u=-1,v=this.viewState.heightMap.height;else{let A=this.viewState.lineBlockAtHeight(r.scrollTop);u=A.from,v=A.top}try{for(let A=0;;A++){this.updateState=1;let B=this.viewport,G=this.viewState.measure(this);if(!G&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(A>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let de=[];G&4||([this.measureRequests,de]=[de,this.measureRequests]);let fe=de.map(Pt=>{try{return Pt.read(this)}catch(zt){return yn(this.state,zt),ks}}),ke=Ve.create(this,this.state,[]),ot=!1,dt=!1;ke.flags|=G,t?t.flags|=G:t=ke,this.updateState=2,ke.empty||(this.updatePlugins(ke),this.inputState.update(ke),this.updateAttrs(),ot=this.docView.update(ke));for(let Pt=0;Pt<de.length;Pt++)if(fe[Pt]!=ks)try{let zt=de[Pt];zt.write&&zt.write(fe[Pt],this)}catch(zt){yn(this.state,zt)}if(this.viewState.editorHeight){if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,dt=!0;else if(v>-1){let zt=(u<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(u).top)-v;(zt>1||zt<-1)&&(r.scrollTop+=zt,dt=!0)}}if(ot&&this.docView.updateSelection(!0),this.viewport.from==B.from&&this.viewport.to==B.to&&!dt&&this.measureRequests.length==0)break;v=-1}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let A of this.state.facet(ln))A(t)}get themeClasses(){return ss+" "+(this.state.facet(os)?Ds:_s)+" "+this.state.facet(is)}updateAttrs(){let e=Jo(this,Ki,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(sn)?"true":"false",class:"cm-content",style:`${ne.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Jo(this,Pe,t);let r=this.observer.ignore(()=>{let u=yr(this.contentDOM,this.contentAttrs,t),v=yr(this.dom,this.editorAttrs,e);return u||v});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let u of r.effects)if(u.is(jn.announce)){t&&(this.announceDOM.textContent=""),t=!1;let v=this.announceDOM.appendChild(document.createElement("div"));v.textContent=u.value}}mountStyles(){this.styleModules=this.state.facet(we),m.V.mount(this.root,this.styleModules.concat(Zi).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return ai(this,e,nr(this,e,t,r))}moveByGroup(e,t){return ai(this,e,nr(this,e,t,r=>Ur(this,e.head,r)))}moveToLineBoundary(e,t,r=!0){return Kt(this,e,t,r)}moveVertically(e,t,r){return ai(this,e,Fr(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Uo(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let u=this.state.doc.lineAt(e),v=this.bidiSpans(u),A=v[$i.find(v,e-u.from,-1,t)];return se(r,A.dir==je.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(gn)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Vn)return So(e.length);let t=this.textDirectionAt(e.from);for(let u of this.bidiCache)if(u.from==e.from&&u.dir==t)return u.order;let r=Zo(e.text,t);return this.bidiCache.push(new Gs(e.from,e.to,t,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ne.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Ne(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Yr.of(new cn(typeof e=="number"?o.jT.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return bn.define(()=>({}),{eventHandlers:e})}static theme(e,t){let r=m.V.newName(),u=[is.of(r),we.of(it(`.${r}`,e))];return t&&t.dark&&u.push(os.of(!0)),u}static baseTheme(e){return o.Wl.lowest(we.of(it("."+ss,e,vt)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),u=r&&mt.get(r)||mt.get(e);return((t=u==null?void 0:u.rootView)===null||t===void 0?void 0:t.view)||null}}jn.styleModule=we,jn.inputHandler=mn,jn.focusChangeEffect=vn,jn.perLineTextDirection=gn,jn.exceptionSink=Nr,jn.updateListener=ln,jn.editable=sn,jn.mouseSelectionStyle=fn,jn.dragMovesSelection=Xr,jn.clickAddsSelectionRange=Rr,jn.decorations=y,jn.atomicRanges=T,jn.scrollMargins=V,jn.darkTheme=os,jn.contentAttributes=Pe,jn.editorAttributes=Ki,jn.lineWrapping=jn.contentAttributes.of({class:"cm-lineWrapping"}),jn.announce=o.Py.define();const Vn=4096,ks={};class Gs{constructor(e,t,r,u){this.from=e,this.to=t,this.dir=r,this.order=u}static update(e,t){if(t.empty)return e;let r=[],u=e.length?e[e.length-1].dir:je.LTR;for(let v=Math.max(0,e.length-10);v<e.length;v++){let A=e[v];A.dir==u&&!t.touchesRange(A.from,A.to)&&r.push(new Gs(t.mapPos(A.from,1),t.mapPos(A.to,-1),A.dir,A.order))}return r}}function Jo(a,e,t){for(let r=a.state.facet(e),u=r.length-1;u>=0;u--){let v=r[u],A=typeof v=="function"?v(a):v;A&&Rt(A,t)}return t}const Ms=ne.mac?"mac":ne.windows?"win":ne.linux?"linux":"key";function Ya(a,e){const t=a.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let u,v,A,B;for(let G=0;G<t.length-1;++G){const de=t[G];if(/^(cmd|meta|m)$/i.test(de))B=!0;else if(/^a(lt)?$/i.test(de))u=!0;else if(/^(c|ctrl|control)$/i.test(de))v=!0;else if(/^s(hift)?$/i.test(de))A=!0;else if(/^mod$/i.test(de))e=="mac"?B=!0:v=!0;else throw new Error("Unrecognized modifier name: "+de)}return u&&(r="Alt-"+r),v&&(r="Ctrl-"+r),B&&(r="Meta-"+r),A&&(r="Shift-"+r),r}function Ys(a,e,t){return e.altKey&&(a="Alt-"+a),e.ctrlKey&&(a="Ctrl-"+a),e.metaKey&&(a="Meta-"+a),t!==!1&&e.shiftKey&&(a="Shift-"+a),a}const jo=o.Wl.default(jn.domEventHandlers({keydown(a,e){return $s(as(e.state),a,e,"editor")}})),vo=o.r$.define({enables:jo}),eo=new WeakMap;function as(a){let e=a.facet(vo),t=eo.get(e);return t||eo.set(e,t=Ta(e.reduce((r,u)=>r.concat(u),[]))),t}function Xs(a,e,t){return $s(as(a.state),e,a,t)}let No=null;const Wa=4e3;function Ta(a,e=Ms){let t=Object.create(null),r=Object.create(null),u=(A,B)=>{let G=r[A];if(G==null)r[A]=B;else if(G!=B)throw new Error("Key binding "+A+" is used both as a regular binding and as a multi-stroke prefix")},v=(A,B,G,de)=>{var fe,ke;let ot=t[A]||(t[A]=Object.create(null)),dt=B.split(/ (?!$)/).map(Zt=>Ya(Zt,e));for(let Zt=1;Zt<dt.length;Zt++){let sr=dt.slice(0,Zt).join(" ");u(sr,!0),ot[sr]||(ot[sr]={preventDefault:!0,run:[qt=>{let hn=No={view:qt,prefix:sr,scope:A};return setTimeout(()=>{No==hn&&(No=null)},Wa),!0}]})}let Pt=dt.join(" ");u(Pt,!1);let zt=ot[Pt]||(ot[Pt]={preventDefault:!1,run:((ke=(fe=ot._any)===null||fe===void 0?void 0:fe.run)===null||ke===void 0?void 0:ke.slice())||[]});G&&zt.run.push(G),de&&(zt.preventDefault=!0)};for(let A of a){let B=A.scope?A.scope.split(" "):["editor"];if(A.any)for(let de of B){let fe=t[de]||(t[de]=Object.create(null));fe._any||(fe._any={preventDefault:!1,run:[]});for(let ke in fe)fe[ke].run.push(A.any)}let G=A[e]||A.key;if(G)for(let de of B)v(de,G,A.run,A.preventDefault),A.shift&&v(de,"Shift-"+G,A.shift,A.preventDefault)}return t}function $s(a,e,t,r){let u=I(e),v=(0,o.gm)(u,0),A=(0,o.nZ)(v)==u.length&&u!=" ",B="",G=!1;No&&No.view==t&&No.scope==r&&(B=No.prefix+" ",(G=tn.indexOf(e.keyCode)<0)&&(No=null));let de=new Set,fe=Pt=>{if(Pt){for(let zt of Pt.run)if(!de.has(zt)&&(de.add(zt),zt(t,e)))return!0;Pt.preventDefault&&(G=!0)}return!1},ke=a[r],ot,dt;if(ke){if(fe(ke[B+Ys(u,e,!A)]))return!0;if(A&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ne.windows&&e.ctrlKey&&e.altKey)&&(ot=R[e.keyCode])&&ot!=u){if(fe(ke[B+Ys(ot,e,!0)]))return!0;if(e.shiftKey&&(dt=O[e.keyCode])!=u&&dt!=ot&&fe(ke[B+Ys(dt,e,!1)]))return!0}else if(A&&e.shiftKey&&fe(ke[B+Ys(u,e,!0)]))return!0;if(fe(ke._any))return!0}return G}class Es{constructor(e,t,r,u,v){this.className=e,this.left=t,this.top=r,this.width=u,this.height=v}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let u=e.coordsAtPos(r.head,r.assoc||1);if(!u)return[];let v=ba(e);return[new Es(t,u.left-v.left,u.top-v.top,null,u.bottom-u.top)]}else return Za(e,t,r)}}function ba(a){let e=a.scrollDOM.getBoundingClientRect();return{left:(a.textDirection==je.LTR?e.left:e.right-a.scrollDOM.clientWidth)-a.scrollDOM.scrollLeft,top:e.top-a.scrollDOM.scrollTop}}function Lo(a,e,t){let r=o.jT.cursor(e);return{from:Math.max(t.from,a.moveToLineBoundary(r,!1,!0).from),to:Math.min(t.to,a.moveToLineBoundary(r,!0,!0).from),type:pr.Text}}function Za(a,e,t){if(t.to<=a.viewport.from||t.from>=a.viewport.to)return[];let r=Math.max(t.from,a.viewport.from),u=Math.min(t.to,a.viewport.to),v=a.textDirection==je.LTR,A=a.contentDOM,B=A.getBoundingClientRect(),G=ba(a),de=A.querySelector(".cm-line"),fe=de&&window.getComputedStyle(de),ke=B.left+(fe?parseInt(fe.paddingLeft)+Math.min(0,parseInt(fe.textIndent)):0),ot=B.right-(fe?parseInt(fe.paddingRight):0),dt=Lt(a,r),Pt=Lt(a,u),zt=dt.type==pr.Text?dt:null,Zt=Pt.type==pr.Text?Pt:null;if(zt&&(a.lineWrapping||dt.widgetLineBreaks)&&(zt=Lo(a,r,zt)),Zt&&(a.lineWrapping||Pt.widgetLineBreaks)&&(Zt=Lo(a,u,Zt)),zt&&Zt&&zt.from==Zt.from)return qt(hn(t.from,t.to,zt));{let nn=zt?hn(t.from,null,zt):Dr(dt,!1),qr=Zt?hn(null,t.to,Zt):Dr(Pt,!0),hi=[];return(zt||dt).to<(Zt||Pt).from-(zt&&Zt?1:0)||dt.widgetLineBreaks>1&&nn.bottom+a.defaultLineHeight/2<qr.top?hi.push(sr(ke,nn.bottom,ot,qr.top)):nn.bottom<qr.top&&a.elementAtHeight((nn.bottom+qr.top)/2).type==pr.Text&&(nn.bottom=qr.top=(nn.bottom+qr.top)/2),qt(nn).concat(hi).concat(qt(qr))}function sr(nn,qr,hi,to){return new Es(e,nn-G.left,qr-G.top-.01,hi-nn,to-qr+.01)}function qt({top:nn,bottom:qr,horizontal:hi}){let to=[];for(let ho=0;ho<hi.length;ho+=2)to.push(sr(hi[ho],nn,hi[ho+1],qr));return to}function hn(nn,qr,hi){let to=1e9,ho=-1e9,As=[];function na(Vs,ia,oa,xa,La){let Ca=a.coordsAtPos(Vs,Vs==hi.to?-2:2),pa=a.coordsAtPos(oa,oa==hi.from?2:-2);!Ca||!pa||(to=Math.min(Ca.top,pa.top,to),ho=Math.max(Ca.bottom,pa.bottom,ho),La==je.LTR?As.push(v&&ia?ke:Ca.left,v&&xa?ot:pa.right):As.push(!v&&xa?ke:pa.left,!v&&ia?ot:Ca.right))}let Us=nn!=null?nn:hi.from,Na=qr!=null?qr:hi.to;for(let Vs of a.visibleRanges)if(Vs.to>Us&&Vs.from<Na)for(let ia=Math.max(Vs.from,Us),oa=Math.min(Vs.to,Na);;){let xa=a.state.doc.lineAt(ia);for(let La of a.bidiSpans(xa)){let Ca=La.from+xa.from,pa=La.to+xa.from;if(Ca>=oa)break;pa>ia&&na(Math.max(Ca,ia),nn==null&&Ca<=Us,Math.min(pa,oa),qr==null&&pa>=Na,La.dir)}if(ia=xa.to+1,ia>=oa)break}return As.length==0&&na(Us,nn==null,Na,qr==null,a.textDirection),{top:to,bottom:ho,horizontal:As}}function Dr(nn,qr){let hi=B.top+(qr?nn.top:nn.bottom);return{top:hi,bottom:hi,horizontal:[]}}}function _a(a,e){return a.constructor==e.constructor&&a.eq(e)}class Sa{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(ls)!=e.state.facet(ls)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(ls);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!_a(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let u of e)u.update&&t&&u.constructor&&this.drawn[r].constructor&&u.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(u.draw(),t);for(;t;){let u=t.nextSibling;t.remove(),t=u}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const ls=o.r$.define();function Is(a){return[bn.define(e=>new Sa(e,a)),ls.of(a)]}const uo=!ne.ios,ws=o.r$.define({combine(a){return(0,o.BO)(a,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function aa(a={}){return[ws.of(a),Rs,Bo,Ua,un.of(!0)]}function la(a){return a.startState.facet(ws)!=a.state.facet(ws)}const Rs=Is({above:!0,markers(a){let{state:e}=a,t=e.facet(ws),r=[];for(let u of e.selection.ranges){let v=u==e.selection.main;if(u.empty?!v||uo:t.drawRangeCursor){let A=v?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",B=u.empty?u:o.jT.cursor(u.head,u.head>u.anchor?-1:1);for(let G of Es.forRange(a,A,B))r.push(G)}}return r},update(a,e){a.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=la(a);return t&&Os(a.state,e),a.docChanged||a.selectionSet||t},mount(a,e){Os(e.state,a)},class:"cm-cursorLayer"});function Os(a,e){e.style.animationDuration=a.facet(ws).cursorBlinkRate+"ms"}const Bo=Is({above:!1,markers(a){return a.state.selection.ranges.map(e=>e.empty?[]:Es.forRange(a,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(a,e){return a.docChanged||a.selectionSet||a.viewportChanged||la(a)},class:"cm-selectionLayer"}),Qs={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};uo&&(Qs[".cm-line"].caretColor="transparent !important");const Ua=o.Wl.highest(jn.theme(Qs)),Ea=o.Py.define({map(a,e){return a==null?null:e.mapPos(a)}}),qs=o.QQ.define({create(){return null},update(a,e){return a!=null&&(a=e.changes.mapPos(a)),e.effects.reduce((t,r)=>r.is(Ea)?r.value:t,a)}}),Go=bn.fromClass(class{constructor(a){this.view=a,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(a){var e;let t=a.state.field(qs);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(a.startState.field(qs)!=t||a.docChanged||a.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let a=this.view.state.field(qs),e=a!=null&&this.view.coordsAtPos(a);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(a){this.cursor&&(a?(this.cursor.style.left=a.left+"px",this.cursor.style.top=a.top+"px",this.cursor.style.height=a.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(a){this.view.state.field(qs)!=a&&this.view.dispatch({effects:Ea.of(a)})}},{eventHandlers:{dragover(a){this.setDropPos(this.view.posAtCoords({x:a.clientX,y:a.clientY}))},dragleave(a){(a.target==this.view.contentDOM||!this.view.contentDOM.contains(a.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function io(){return[qs,Go]}function us(a,e,t,r,u){e.lastIndex=0;for(let v=a.iterRange(t,r),A=t,B;!v.next().done;A+=v.value.length)if(!v.lineBreak)for(;B=e.exec(v.value);)u(A+B.index,B)}function Xa(a,e){let t=a.visibleRanges;if(t.length==1&&t[0].from==a.viewport.from&&t[0].to==a.viewport.to)return t;let r=[];for(let{from:u,to:v}of t)u=Math.max(a.state.doc.lineAt(u).from,u-e),v=Math.min(a.state.doc.lineAt(v).to,v+e),r.length&&r[r.length-1].to>=u?r[r.length-1].to=v:r.push({from:u,to:v});return r}class Fs{constructor(e){const{regexp:t,decoration:r,decorate:u,boundary:v,maxLength:A=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,u)this.addMatch=(B,G,de,fe)=>u(fe,de,de+B[0].length,B,G);else if(typeof r=="function")this.addMatch=(B,G,de,fe)=>{let ke=r(B,G,de);ke&&fe(de,de+B[0].length,ke)};else if(r)this.addMatch=(B,G,de,fe)=>fe(de,de+B[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=v,this.maxLength=A}createDeco(e){let t=new o.f_,r=t.add.bind(t);for(let{from:u,to:v}of Xa(e,this.maxLength))us(e.state.doc,this.regexp,u,v,(A,B)=>this.addMatch(B,e,A,r));return t.finish()}updateDeco(e,t){let r=1e9,u=-1;return e.docChanged&&e.changes.iterChanges((v,A,B,G)=>{G>e.view.viewport.from&&B<e.view.viewport.to&&(r=Math.min(B,r),u=Math.max(G,u))}),e.viewportChanged||u-r>1e3?this.createDeco(e.view):u>-1?this.updateRange(e.view,t.map(e.changes),r,u):t}updateRange(e,t,r,u){for(let v of e.visibleRanges){let A=Math.max(v.from,r),B=Math.min(v.to,u);if(B>A){let G=e.state.doc.lineAt(A),de=G.to<B?e.state.doc.lineAt(B):G,fe=Math.max(v.from,G.from),ke=Math.min(v.to,de.to);if(this.boundary){for(;A>G.from;A--)if(this.boundary.test(G.text[A-1-G.from])){fe=A;break}for(;B<de.to;B++)if(this.boundary.test(de.text[B-de.from])){ke=B;break}}let ot=[],dt,Pt=(zt,Zt,sr)=>ot.push(sr.range(zt,Zt));if(G==de)for(this.regexp.lastIndex=fe-G.from;(dt=this.regexp.exec(G.text))&&dt.index<ke-G.from;)this.addMatch(dt,e,dt.index+G.from,Pt);else us(e.state.doc,this.regexp,fe,ke,(zt,Zt)=>this.addMatch(Zt,e,zt,Pt));t=t.update({filterFrom:fe,filterTo:ke,filter:(zt,Zt)=>zt<fe||Zt>ke,add:ot})}}return t}}const ua=/x/.unicode!=null?"gu":"g",Li=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,ua),Va={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let oo=null;function ea(){var a;if(oo==null&&typeof document!="undefined"&&document.body){let e=document.body.style;oo=((a=e.tabSize)!==null&&a!==void 0?a:e.MozTabSize)!=null}return oo||!1}const Gi=o.r$.define({combine(a){let e=(0,o.BO)(a,{render:null,specialChars:Li,addSpecialChars:null});return(e.replaceTabs=!ea())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,ua)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,ua)),e}});function Da(a={}){return[Gi.of(a),ta()]}let Yo=null;function ta(){return Yo||(Yo=bn.fromClass(class{constructor(a){this.view=a,this.decorations=cr.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(a.state.facet(Gi)),this.decorations=this.decorator.createDeco(a)}makeDecorator(a){return new Fs({regexp:a.specialChars,decoration:(e,t,r)=>{let{doc:u}=t.state,v=(0,o.gm)(e[0],0);if(v==9){let A=u.lineAt(r),B=t.state.tabSize,G=(0,o.IS)(A.text,B,r-A.from);return cr.replace({widget:new Yi((B-G%B)*this.view.defaultCharacterWidth)})}return this.decorationCache[v]||(this.decorationCache[v]=cr.replace({widget:new Co(a,v)}))},boundary:a.replaceTabs?void 0:/[^]/})}update(a){let e=a.state.facet(Gi);a.startState.facet(Gi)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(a.view)):this.decorations=this.decorator.updateDeco(a,this.decorations)}},{decorations:a=>a.decorations}))}const Wo="\u2022";function ka(a){return a>=32?Wo:a==10?"\u2424":String.fromCharCode(9216+a)}class Co extends dr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=ka(this.code),r=e.state.phrase("Control character")+" "+(Va[this.code]||"0x"+this.code.toString(16)),u=this.options.render&&this.options.render(this.code,r,t);if(u)return u;let v=document.createElement("span");return v.textContent=t,v.title=r,v.setAttribute("aria-label",r),v.className="cm-specialChar",v}ignoreEvent(){return!1}}class Yi extends dr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const cs=null;function Xo(){return[cs,Pe.of(a=>{var e;return((e=a.plugin(cs))===null||e===void 0?void 0:e.attrs)||null})]}function Ma(){return ca}const xs=cr.line({class:"cm-activeLine"}),ca=bn.fromClass(class{constructor(a){this.decorations=this.getDeco(a)}update(a){(a.docChanged||a.selectionSet)&&(this.decorations=this.getDeco(a.view))}getDeco(a){let e=-1,t=[];for(let r of a.state.selection.ranges){let u=a.lineBlockAt(r.head);u.from>e&&(t.push(xs.range(u.from)),e=u.from)}return cr.set(t)}},{decorations:a=>a.decorations});class Ka extends dr{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?oe(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),u=se(t[0],r.direction!="rtl"),v=parseInt(r.lineHeight);return u.bottom-u.top>v*1.5?{left:u.left,right:u.right,top:u.top,bottom:u.top+v}:u}ignoreEvent(){return!1}}function Cs(a){return bn.fromClass(class{constructor(e){this.view=e,this.placeholder=cr.set([cr.widget({widget:new Ka(a),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?cr.none:this.placeholder}},{decorations:e=>e.decorations})}const wa=2e3;function xi(a,e,t){let r=Math.min(e.line,t.line),u=Math.max(e.line,t.line),v=[];if(e.off>wa||t.off>wa||e.col<0||t.col<0){let A=Math.min(e.off,t.off),B=Math.max(e.off,t.off);for(let G=r;G<=u;G++){let de=a.doc.line(G);de.length<=B&&v.push(o.jT.range(de.from+A,de.to+B))}}else{let A=Math.min(e.col,t.col),B=Math.max(e.col,t.col);for(let G=r;G<=u;G++){let de=a.doc.line(G),fe=(0,o.Gz)(de.text,A,a.tabSize,!0);if(fe<0)v.push(o.jT.cursor(de.to));else{let ke=(0,o.Gz)(de.text,B,a.tabSize);v.push(o.jT.range(de.from+fe,de.from+ke))}}}return v}function fs(a,e){let t=a.coordsAtPos(a.viewport.from);return t?Math.round(Math.abs((t.left-e)/a.defaultCharacterWidth)):-1}function js(a,e){let t=a.posAtCoords({x:e.clientX,y:e.clientY},!1),r=a.state.doc.lineAt(t),u=t-r.from,v=u>wa?-1:u==r.length?fs(a,e.clientX):(0,o.IS)(r.text,a.state.tabSize,t-r.from);return{line:r.number,col:v,off:u}}function ds(a,e){let t=js(a,e),r=a.state.selection;return t?{update(u){if(u.docChanged){let v=u.changes.mapPos(u.startState.doc.line(t.line).from),A=u.state.doc.lineAt(v);t={line:A.number,col:t.col,off:Math.min(t.off,A.length)},r=r.map(u.changes)}},get(u,v,A){let B=js(a,u);if(!B)return r;let G=xi(a.state,t,B);return G.length?A?o.jT.create(G.concat(r.ranges)):o.jT.create(G):r}}:null}function $a(a){let e=(a==null?void 0:a.eventFilter)||(t=>t.altKey&&t.button==0);return jn.mouseSelectionStyle.of((t,r)=>e(r)?ds(t,r):null)}const Ns={Alt:[18,a=>!!a.altKey],Control:[17,a=>!!a.ctrlKey],Shift:[16,a=>!!a.shiftKey],Meta:[91,a=>!!a.metaKey]},Ls={style:"cursor: crosshair"};function fa(a={}){let[e,t]=Ns[a.key||"Alt"],r=bn.fromClass(class{constructor(u){this.view=u,this.isDown=!1}set(u){this.isDown!=u&&(this.isDown=u,this.view.update([]))}},{eventHandlers:{keydown(u){this.set(u.keyCode==e||t(u))},keyup(u){(u.keyCode==e||!t(u))&&this.set(!1)},mousemove(u){this.set(t(u))}}});return[r,jn.contentAttributes.of(u=>{var v;return!((v=u.plugin(r))===null||v===void 0)&&v.isDown?Ls:null})]}const Qo="-10000px";class Bs{constructor(e,t,r){this.facet=t,this.createTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(u=>u),this.tooltipViews=this.tooltips.map(r)}update(e){var t;let r=e.state.facet(this.facet),u=r.filter(A=>A);if(r===this.input){for(let A of this.tooltipViews)A.update&&A.update(e);return!1}let v=[];for(let A=0;A<u.length;A++){let B=u[A],G=-1;if(B){for(let de=0;de<this.tooltips.length;de++){let fe=this.tooltips[de];fe&&fe.create==B.create&&(G=de)}if(G<0)v[A]=this.createTooltipView(B);else{let de=v[A]=this.tooltipViews[G];de.update&&de.update(e)}}}for(let A of this.tooltipViews)v.indexOf(A)<0&&(A.dom.remove(),(t=A.destroy)===null||t===void 0||t.call(A));return this.input=r,this.tooltips=u,this.tooltipViews=v,!0}}function za(a={}){return bo.of(a)}function hs(a){let{win:e}=a;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const bo=o.r$.define({combine:a=>{var e,t,r;return{position:ne.ios?"absolute":((e=a.find(u=>u.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=a.find(u=>u.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=a.find(u=>u.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||hs}}}),qo=new WeakMap,da=bn.fromClass(class{constructor(a){this.view=a,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=a.state.facet(bo);this.position=e.position,this.parent=e.parent,this.classes=a.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Bs(a,C,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),a.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let a of this.manager.tooltipViews)this.intersectionObserver.observe(a.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(a){a.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(a);e&&this.observeIntersection();let t=e||a.geometryChanged,r=a.state.facet(bo);if(r.position!=this.position){this.position=r.position;for(let u of this.manager.tooltipViews)u.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let u of this.manager.tooltipViews)this.container.appendChild(u.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(a){let e=a.create(this.view);if(e.dom.classList.add("cm-tooltip"),a.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Qo,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var a,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(a=t.destroy)===null||a===void 0||a.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let a=this.view.dom.getBoundingClientRect();return{editor:a,parent:this.parent?this.container.getBoundingClientRect():a,pos:this.manager.tooltips.map((e,t)=>{let r=this.manager.tooltipViews[t];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(bo).tooltipSpace(this.view)}}writeMeasure(a){var e;let{editor:t,space:r}=a,u=[];for(let v=0;v<this.manager.tooltips.length;v++){let A=this.manager.tooltips[v],B=this.manager.tooltipViews[v],{dom:G}=B,de=a.pos[v],fe=a.size[v];if(!de||de.bottom<=Math.max(t.top,r.top)||de.top>=Math.min(t.bottom,r.bottom)||de.right<Math.max(t.left,r.left)-.1||de.left>Math.min(t.right,r.right)+.1){G.style.top=Qo;continue}let ke=A.arrow?B.dom.querySelector(".cm-tooltip-arrow"):null,ot=ke?7:0,dt=fe.right-fe.left,Pt=(e=qo.get(B))!==null&&e!==void 0?e:fe.bottom-fe.top,zt=B.offset||Ws,Zt=this.view.textDirection==je.LTR,sr=fe.width>r.right-r.left?Zt?r.left:r.right-fe.width:Zt?Math.min(de.left-(ke?14:0)+zt.x,r.right-dt):Math.max(r.left,de.left-dt+(ke?14:0)-zt.x),qt=!!A.above;!A.strictSide&&(qt?de.top-(fe.bottom-fe.top)-zt.y<r.top:de.bottom+(fe.bottom-fe.top)+zt.y>r.bottom)&&qt==r.bottom-de.bottom>de.top-r.top&&(qt=!qt);let hn=(qt?de.top-r.top:r.bottom-de.bottom)-ot;if(hn<Pt&&B.resize!==!1){if(hn<this.view.defaultLineHeight){G.style.top=Qo;continue}qo.set(B,Pt),G.style.height=(Pt=hn)+"px"}else G.style.height&&(G.style.height="");let Dr=qt?de.top-Pt-ot-zt.y:de.bottom+ot+zt.y,nn=sr+dt;if(B.overlap!==!0)for(let qr of u)qr.left<nn&&qr.right>sr&&qr.top<Dr+Pt&&qr.bottom>Dr&&(Dr=qt?qr.top-Pt-2-ot:qr.bottom+ot+2);this.position=="absolute"?(G.style.top=Dr-a.parent.top+"px",G.style.left=sr-a.parent.left+"px"):(G.style.top=Dr+"px",G.style.left=sr+"px"),ke&&(ke.style.left=`${de.left+(Zt?zt.x:-zt.x)-(sr+14-7)}px`),B.overlap!==!0&&u.push({left:sr,top:Dr,right:nn,bottom:Dr+Pt}),G.classList.toggle("cm-tooltip-above",qt),G.classList.toggle("cm-tooltip-below",!qt),B.positioned&&B.positioned(a.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let a of this.manager.tooltipViews)a.dom.style.top=Qo}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Oa=jn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Ws={x:0,y:0},C=o.r$.define({enables:[da,Oa]}),U=o.r$.define();class ie{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Bs(e,U,t=>this.createHostedView(t))}static create(e){return new ie(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const Oe=C.compute([U],a=>{let e=a.facet(U).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:ie.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class De{constructor(e,t,r,u,v){this.view=e,this.source=t,this.field=r,this.setHover=u,this.hoverTime=v,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let r=this.view.coordsAtPos(t);if(r==null||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let u=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(B=>B.from<=t&&B.to>=t),v=u&&u.dir==je.RTL?-1:1,A=this.source(this.view,t,e.x<r.left?-v:v);if(A!=null&&A.then){let B=this.pending={pos:t};A.then(G=>{this.pending==B&&(this.pending=null,G&&this.view.dispatch({effects:this.setHover.of(G)}))},G=>yn(this.view.state,G,"hover tooltip"))}else A&&this.view.dispatch({effects:this.setHover.of(A)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!Re(this.lastMove.target)||this.pending){let{pos:u}=r||this.pending,v=(t=r==null?void 0:r.end)!==null&&t!==void 0?t:u;(u==v?this.view.posAtCoords(this.lastMove)!=u:!at(this.view,u,v,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Re(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Re(a){for(let e=a;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function at(a,e,t,r,u,v){let A=document.createRange(),B=a.domAtPos(e),G=a.domAtPos(t);A.setEnd(G.node,G.offset),A.setStart(B.node,B.offset);let de=A.getClientRects();A.detach();for(let fe=0;fe<de.length;fe++){let ke=de[fe];if(Math.max(ke.top-u,u-ke.bottom,ke.left-r,r-ke.right)<=v)return!0}return!1}function It(a,e={}){let t=o.Py.define(),r=o.QQ.define({create(){return null},update(u,v){if(u&&(e.hideOnChange&&(v.docChanged||v.selection)||e.hideOn&&e.hideOn(v,u)))return null;if(u&&v.docChanged){let A=v.changes.mapPos(u.pos,-1,o.gc.TrackDel);if(A==null)return null;let B=Object.assign(Object.create(null),u);B.pos=A,u.end!=null&&(B.end=v.changes.mapPos(u.end)),u=B}for(let A of v.effects)A.is(t)&&(u=A.value),A.is(vr)&&(u=null);return u},provide:u=>U.from(u)});return[r,bn.define(u=>new De(u,a,r,t,e.hoverTime||300)),Oe]}function Ct(a,e){let t=a.plugin(da);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}function or(a){return a.facet(U).some(e=>e)}const vr=o.Py.define(),Ar=null;function Br(a){var e;(e=a.plugin(da))===null||e===void 0||e.maybeMeasure()}const Sn=o.r$.define({combine(a){let e,t;for(let r of a)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Kn(a){return a?[Sn.of(a)]:[]}function kn(a,e){let t=a.plugin(Tn),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const Tn=bn.fromClass(class{constructor(a){this.input=a.state.facet(co),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(a));let e=a.state.facet(Sn);this.top=new qn(a,!0,e.topContainer),this.bottom=new qn(a,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(a){let e=a.state.facet(Sn);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new qn(a.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new qn(a.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=a.state.facet(co);if(t!=this.input){let r=t.filter(G=>G),u=[],v=[],A=[],B=[];for(let G of r){let de=this.specs.indexOf(G),fe;de<0?(fe=G(a.view),B.push(fe)):(fe=this.panels[de],fe.update&&fe.update(a)),u.push(fe),(fe.top?v:A).push(fe)}this.specs=r,this.panels=u,this.top.sync(v),this.bottom.sync(A);for(let G of B)G.dom.classList.add("cm-panel"),G.mount&&G.mount()}else for(let r of this.panels)r.update&&r.update(a)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:a=>jn.scrollMargins.of(e=>{let t=e.plugin(a);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class qn{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=vi(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=vi(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function vi(a){let e=a.nextSibling;return a.remove(),e}const co=o.r$.define({enables:Tn});class bi extends o.uU{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}bi.prototype.elementClass="",bi.prototype.toDOM=void 0,bi.prototype.mapMode=o.gc.TrackBefore,bi.prototype.startSide=bi.prototype.endSide=-1,bi.prototype.point=!0;const so=o.r$.define(),Gn={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>o.Xs.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Bi=o.r$.define();function Zs(a){return[Pn(),Bi.of(Object.assign(Object.assign({},Gn),a))]}const ha=o.r$.define({combine:a=>a.some(e=>e)});function Pn(a){let e=[ra];return a&&a.fixed===!1&&e.push(ha.of(!0)),e}const ra=bn.fromClass(class{constructor(a){this.view=a,this.prevViewport=a.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=a.state.facet(Bi).map(e=>new es(a,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!a.state.facet(ha),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),a.scrollDOM.insertBefore(this.dom,a.contentDOM)}update(a){if(this.updateGutters(a)){let e=this.prevViewport,t=a.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}a.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(ha)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=a.view.viewport}syncGutters(a){let e=this.dom.nextSibling;a&&this.dom.remove();let t=o.Xs.iter(this.view.state.facet(so),this.view.viewport.from),r=[],u=this.gutters.map(v=>new el(v,this.view.viewport,-this.view.documentPadding.top));for(let v of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(v.type)){let A=!0;for(let B of v.type)if(B.type==pr.Text&&A){Ia(t,r,B.from);for(let G of u)G.line(this.view,B,r);A=!1}else if(B.widget)for(let G of u)G.widget(this.view,B)}else if(v.type==pr.Text){Ia(t,r,v.from);for(let A of u)A.line(this.view,v,r)}for(let v of u)v.finish();a&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(a){let e=a.startState.facet(Bi),t=a.state.facet(Bi),r=a.docChanged||a.heightChanged||a.viewportChanged||!o.Xs.eq(a.startState.facet(so),a.state.facet(so),a.view.viewport.from,a.view.viewport.to);if(e==t)for(let u of this.gutters)u.update(a)&&(r=!0);else{r=!0;let u=[];for(let v of t){let A=e.indexOf(v);A<0?u.push(new es(this.view,v)):(this.gutters[A].update(a),u.push(this.gutters[A]))}for(let v of this.gutters)v.dom.remove(),u.indexOf(v)<0&&v.destroy();for(let v of u)this.dom.appendChild(v.dom);this.gutters=u}return r}destroy(){for(let a of this.gutters)a.destroy();this.dom.remove()}},{provide:a=>jn.scrollMargins.of(e=>{let t=e.plugin(a);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==je.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function ms(a){return Array.isArray(a)?a:[a]}function Ia(a,e,t){for(;a.value&&a.from<=t;)a.from==t&&e.push(a.value),a.next()}class el{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=o.Xs.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:u}=this,v=t.top-this.height;if(this.i==u.elements.length){let A=new Ra(e,t.height,v,r);u.elements.push(A),u.dom.appendChild(A.dom)}else u.elements[this.i].update(e,t.height,v,r);this.height=t.bottom,this.i++}line(e,t,r){let u=[];Ia(this.cursor,u,t.from),r.length&&(u=u.concat(r));let v=this.gutter.config.lineMarker(e,t,u);v&&u.unshift(v);let A=this.gutter;u.length==0&&!A.config.renderEmptyElements||this.addElement(e,t,u)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t);r&&this.addElement(e,t,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class es{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,u=>{let v=u.target,A;if(v!=this.dom&&this.dom.contains(v)){for(;v.parentNode!=this.dom;)v=v.parentNode;let G=v.getBoundingClientRect();A=(G.top+G.bottom)/2}else A=u.clientY;let B=e.lineBlockAtHeight(A-e.documentTop);t.domEventHandlers[r](e,B,u)&&u.preventDefault()});this.markers=ms(t.markers(e)),t.initialSpacer&&(this.spacer=new Ra(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=ms(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let u=this.config.updateSpacer(this.spacer.markers[0],e);u!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[u])}let r=e.view.viewport;return!o.Xs.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Ra{constructor(e,t,r,u){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,u)}update(e,t,r,u){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Fa(this.markers,u)||this.setMarkers(e,u)}setMarkers(e,t){let r="cm-gutterElement",u=this.dom.firstChild;for(let v=0,A=0;;){let B=A,G=v<t.length?t[v++]:null,de=!1;if(G){let fe=G.elementClass;fe&&(r+=" "+fe);for(let ke=A;ke<this.markers.length;ke++)if(this.markers[ke].compare(G)){B=ke,de=!0;break}}else B=this.markers.length;for(;A<B;){let fe=this.markers[A++];if(fe.toDOM){fe.destroy(u);let ke=u.nextSibling;u.remove(),u=ke}}if(!G)break;G.toDOM&&(de?u=u.nextSibling:this.dom.insertBefore(G.toDOM(e),u)),de&&A++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function Fa(a,e){if(a.length!=e.length)return!1;for(let t=0;t<a.length;t++)if(!a[t].compare(e[t]))return!1;return!0}const fo=o.r$.define(),Vr=o.r$.define({combine(a){return(0,o.BO)(a,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let u in t){let v=r[u],A=t[u];r[u]=v?(B,G,de)=>v(B,G,de)||A(B,G,de):A}return r}})}});class ma extends bi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ja(a,e){return a.state.facet(Vr).formatNumber(e,a.state)}const Ao=Bi.compute([Vr],a=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(fo)},lineMarker(e,t,r){return r.some(u=>u.toDOM)?null:new ma(ja(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Vr)!=e.state.facet(Vr),initialSpacer(e){return new ma(ja(e,Ha(e.state.doc.lines)))},updateSpacer(e,t){let r=ja(t.view,Ha(t.view.state.doc.lines));return r==e.number?e:new ma(r)},domEventHandlers:a.facet(Vr).domEventHandlers}));function ul(a={}){return[Vr.of(a),Pn(),Ao]}function Ha(a){let e=9;for(;e<a;)e=e*10+9;return e}const s=new class extends bi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},h=so.compute(["selection"],a=>{let e=[],t=-1;for(let r of a.selection.ranges){let u=a.doc.lineAt(r.head).from;u>t&&(t=u,e.push(s.range(u)))}return o.Xs.of(e)});function x(){return h}const g=new Map;function L(a){let e=g.get(a);return e||g.set(a,e=cr.mark({attributes:a==="	"?{class:"cm-highlightTab"}:{class:"cm-highlightSpace","data-display":a.replace(/ /g,"\xB7")}})),e}function pe(a){return bn.define(e=>({decorations:a.createDeco(e),update(t){this.decorations=a.updateDeco(t,this.decorations)}}),{decorations:e=>e.decorations})}const Qe=pe(new Fs({regexp:/\t| +/g,decoration:a=>L(a[0]),boundary:/\S/}));function tt(){return Qe}const ut=pe(new Fs({regexp:/\s+$/g,decoration:cr.mark({class:"cm-trailingSpace"}),boundary:/\S/}));function wt(){return ut}const Ot={HeightMap:Un,HeightOracle:Ti,MeasuredHeights:zo,QueryType:Bn,ChangedRange:ge,computeOrder:Zo,moveVisually:$n}},21649:function(Te,S,l){"use strict";l.d(S,{Jq:function(){return j},Lj:function(){return $},_b:function(){return Ye},i9:function(){return st},md:function(){return O},mp:function(){return ee},vj:function(){return z}});const o=1024;let m=0;class R{constructor(K,Z){this.from=K,this.to=Z}}class O{constructor(K={}){this.id=m++,this.perNode=!!K.perNode,this.deserialize=K.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(K){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof K!="function"&&(K=j.match(K)),Z=>{let Q=K(Z);return Q===void 0?null:[this,Q]}}}O.closedBy=new O({deserialize:Ue=>Ue.split(" ")}),O.openedBy=new O({deserialize:Ue=>Ue.split(" ")}),O.group=new O({deserialize:Ue=>Ue.split(" ")}),O.contextHash=new O({perNode:!0}),O.lookAhead=new O({perNode:!0}),O.mounted=new O({perNode:!0});class D{constructor(K,Z,Q){this.tree=K,this.overlay=Z,this.parser=Q}}const _=Object.create(null);class j{constructor(K,Z,Q,ne=0){this.name=K,this.props=Z,this.id=Q,this.flags=ne}static define(K){let Z=K.props&&K.props.length?Object.create(null):_,Q=(K.top?1:0)|(K.skipped?2:0)|(K.error?4:0)|(K.name==null?8:0),ne=new j(K.name||"",Z,K.id,Q);if(K.props){for(let _e of K.props)if(Array.isArray(_e)||(_e=_e(ne)),_e){if(_e[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");Z[_e[0].id]=_e[1]}}return ne}prop(K){return this.props[K.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(K){if(typeof K=="string"){if(this.name==K)return!0;let Z=this.prop(O.group);return Z?Z.indexOf(K)>-1:!1}return this.id==K}static match(K){let Z=Object.create(null);for(let Q in K)for(let ne of Q.split(" "))Z[ne]=K[Q];return Q=>{for(let ne=Q.prop(O.group),_e=-1;_e<(ne?ne.length:0);_e++){let Xe=Z[_e<0?Q.name:ne[_e]];if(Xe)return Xe}}}}j.none=new j("",Object.create(null),0,8);class ${constructor(K){this.types=K;for(let Z=0;Z<K.length;Z++)if(K[Z].id!=Z)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...K){let Z=[];for(let Q of this.types){let ne=null;for(let _e of K){let Xe=_e(Q);Xe&&(ne||(ne=Object.assign({},Q.props)),ne[Xe[0].id]=Xe[1])}Z.push(ne?new j(Q.name,ne,Q.id,Q.flags):Q)}return new $(Z)}}const I=new WeakMap,J=new WeakMap;var z;(function(Ue){Ue[Ue.ExcludeBuffers=1]="ExcludeBuffers",Ue[Ue.IncludeAnonymous=2]="IncludeAnonymous",Ue[Ue.IgnoreMounts=4]="IgnoreMounts",Ue[Ue.IgnoreOverlays=8]="IgnoreOverlays"})(z||(z={}));class ee{constructor(K,Z,Q,ne,_e){if(this.type=K,this.children=Z,this.positions=Q,this.length=ne,this.props=null,_e&&_e.length){this.props=Object.create(null);for(let[Xe,lt]of _e)this.props[typeof Xe=="number"?Xe:Xe.id]=lt}}toString(){let K=this.prop(O.mounted);if(K&&!K.overlay)return K.tree.toString();let Z="";for(let Q of this.children){let ne=Q.toString();ne&&(Z&&(Z+=","),Z+=ne)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(Z.length?"("+Z+")":""):Z}cursor(K=0){return new M(this.topNode,K)}cursorAt(K,Z=0,Q=0){let ne=I.get(this)||this.topNode,_e=new M(ne);return _e.moveTo(K,Z),I.set(this,_e._tree),_e}get topNode(){return new ve(this,0,0,null)}resolve(K,Z=0){let Q=Y(I.get(this)||this.topNode,K,Z,!1);return I.set(this,Q),Q}resolveInner(K,Z=0){let Q=Y(J.get(this)||this.topNode,K,Z,!0);return J.set(this,Q),Q}iterate(K){let{enter:Z,leave:Q,from:ne=0,to:_e=this.length}=K,Xe=K.mode||0,lt=(Xe&z.IncludeAnonymous)>0;for(let kt=this.cursor(Xe|z.IncludeAnonymous);;){let Qt=!1;if(kt.from<=_e&&kt.to>=ne&&(!lt&&kt.type.isAnonymous||Z(kt)!==!1)){if(kt.firstChild())continue;Qt=!0}for(;Qt&&Q&&(lt||!kt.type.isAnonymous)&&Q(kt),!kt.nextSibling();){if(!kt.parent())return;Qt=!0}}}prop(K){return K.perNode?this.props?this.props[K.id]:void 0:this.type.prop(K)}get propValues(){let K=[];if(this.props)for(let Z in this.props)K.push([+Z,this.props[Z]]);return K}balance(K={}){return this.children.length<=8?this:Ge(j.none,this.children,this.positions,0,this.children.length,0,this.length,(Z,Q,ne)=>new ee(this.type,Z,Q,ne,this.propValues),K.makeTree||((Z,Q,ne)=>new ee(j.none,Z,Q,ne)))}static build(K){return Ne(K)}}ee.empty=new ee(j.none,[],[],0);class te{constructor(K,Z){this.buffer=K,this.index=Z}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new te(this.buffer,this.index)}}class oe{constructor(K,Z,Q){this.buffer=K,this.length=Z,this.set=Q}get type(){return j.none}toString(){let K=[];for(let Z=0;Z<this.buffer.length;)K.push(this.childString(Z)),Z=this.buffer[Z+3];return K.join(",")}childString(K){let Z=this.buffer[K],Q=this.buffer[K+3],ne=this.set.types[Z],_e=ne.name;if(/\W/.test(_e)&&!ne.isError&&(_e=JSON.stringify(_e)),K+=4,Q==K)return _e;let Xe=[];for(;K<Q;)Xe.push(this.childString(K)),K=this.buffer[K+3];return _e+"("+Xe.join(",")+")"}findChild(K,Z,Q,ne,_e){let{buffer:Xe}=this,lt=-1;for(let kt=K;kt!=Z&&!(ye(_e,ne,Xe[kt+1],Xe[kt+2])&&(lt=kt,Q>0));kt=Xe[kt+3]);return lt}slice(K,Z,Q){let ne=this.buffer,_e=new Uint16Array(Z-K),Xe=0;for(let lt=K,kt=0;lt<Z;){_e[kt++]=ne[lt++],_e[kt++]=ne[lt++]-Q;let Qt=_e[kt++]=ne[lt++]-Q;_e[kt++]=ne[lt++]-K,Xe=Math.max(Xe,Qt)}return new oe(_e,Xe,this.set)}}function ye(Ue,K,Z,Q){switch(Ue){case-2:return Z<K;case-1:return Q>=K&&Z<K;case 0:return Z<K&&Q>K;case 1:return Z<=K&&Q>K;case 2:return Q>K;case 4:return!0}}function F(Ue,K){let Z=Ue.childBefore(K);for(;Z;){let Q=Z.lastChild;if(!Q||Q.to!=Z.to)break;Q.type.isError&&Q.from==Q.to?(Ue=Z,Z=Q.prevSibling):Z=Q}return Ue}function Y(Ue,K,Z,Q){for(var ne;Ue.from==Ue.to||(Z<1?Ue.from>=K:Ue.from>K)||(Z>-1?Ue.to<=K:Ue.to<K);){let Xe=!Q&&Ue instanceof ve&&Ue.index<0?null:Ue.parent;if(!Xe)return Ue;Ue=Xe}let _e=Q?0:z.IgnoreOverlays;if(Q)for(let Xe=Ue,lt=Xe.parent;lt;Xe=lt,lt=Xe.parent)Xe instanceof ve&&Xe.index<0&&((ne=lt.enter(K,Z,_e))===null||ne===void 0?void 0:ne.from)!=Xe.from&&(Ue=lt);for(;;){let Xe=Ue.enter(K,Z,_e);if(!Xe)return Ue;Ue=Xe}}class ve{constructor(K,Z,Q,ne){this._tree=K,this.from=Z,this.index=Q,this._parent=ne}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(K,Z,Q,ne,_e=0){for(let Xe=this;;){for(let{children:lt,positions:kt}=Xe._tree,Qt=Z>0?lt.length:-1;K!=Qt;K+=Z){let Yt=lt[K],Ht=kt[K]+Xe.from;if(ye(ne,Q,Ht,Ht+Yt.length)){if(Yt instanceof oe){if(_e&z.ExcludeBuffers)continue;let Xt=Yt.findChild(0,Yt.buffer.length,Z,Q-Ht,ne);if(Xt>-1)return new re(new xe(Xe,Yt,K,Ht),null,Xt)}else if(_e&z.IncludeAnonymous||!Yt.type.isAnonymous||Ee(Yt)){let Xt;if(!(_e&z.IgnoreMounts)&&Yt.props&&(Xt=Yt.prop(O.mounted))&&!Xt.overlay)return new ve(Xt.tree,Ht,K,Xe);let rt=new ve(Yt,Ht,K,Xe);return _e&z.IncludeAnonymous||!rt.type.isAnonymous?rt:rt.nextChild(Z<0?Yt.children.length-1:0,Z,Q,ne)}}}if(_e&z.IncludeAnonymous||!Xe.type.isAnonymous||(Xe.index>=0?K=Xe.index+Z:K=Z<0?-1:Xe._parent._tree.children.length,Xe=Xe._parent,!Xe))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(K){return this.nextChild(0,1,K,2)}childBefore(K){return this.nextChild(this._tree.children.length-1,-1,K,-2)}enter(K,Z,Q=0){let ne;if(!(Q&z.IgnoreOverlays)&&(ne=this._tree.prop(O.mounted))&&ne.overlay){let _e=K-this.from;for(let{from:Xe,to:lt}of ne.overlay)if((Z>0?Xe<=_e:Xe<_e)&&(Z<0?lt>=_e:lt>_e))return new ve(ne.tree,ne.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,K,Z,Q)}nextSignificantParent(){let K=this;for(;K.type.isAnonymous&&K._parent;)K=K._parent;return K}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(K=0){return new M(this,K)}get tree(){return this._tree}toTree(){return this._tree}resolve(K,Z=0){return Y(this,K,Z,!1)}resolveInner(K,Z=0){return Y(this,K,Z,!0)}enterUnfinishedNodesBefore(K){return F(this,K)}getChild(K,Z=null,Q=null){let ne=se(this,K,Z,Q);return ne.length?ne[0]:null}getChildren(K,Z=null,Q=null){return se(this,K,Z,Q)}toString(){return this._tree.toString()}get node(){return this}matchContext(K){return me(this,K)}}function se(Ue,K,Z,Q){let ne=Ue.cursor(),_e=[];if(!ne.firstChild())return _e;if(Z!=null){for(;!ne.type.is(Z);)if(!ne.nextSibling())return _e}for(;;){if(Q!=null&&ne.type.is(Q))return _e;if(ne.type.is(K)&&_e.push(ne.node),!ne.nextSibling())return Q==null?_e:[]}}function me(Ue,K,Z=K.length-1){for(let Q=Ue.parent;Z>=0;Q=Q.parent){if(!Q)return!1;if(!Q.type.isAnonymous){if(K[Z]&&K[Z]!=Q.name)return!1;Z--}}return!0}class xe{constructor(K,Z,Q,ne){this.parent=K,this.buffer=Z,this.index=Q,this.start=ne}}class re{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(K,Z,Q){this.context=K,this._parent=Z,this.index=Q,this.type=K.buffer.set.types[K.buffer.buffer[Q]]}child(K,Z,Q){let{buffer:ne}=this.context,_e=ne.findChild(this.index+4,ne.buffer[this.index+3],K,Z-this.context.start,Q);return _e<0?null:new re(this.context,this,_e)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(K){return this.child(1,K,2)}childBefore(K){return this.child(-1,K,-2)}enter(K,Z,Q=0){if(Q&z.ExcludeBuffers)return null;let{buffer:ne}=this.context,_e=ne.findChild(this.index+4,ne.buffer[this.index+3],Z>0?1:-1,K-this.context.start,Z);return _e<0?null:new re(this.context,this,_e)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(K){return this._parent?null:this.context.parent.nextChild(this.context.index+K,K,0,4)}get nextSibling(){let{buffer:K}=this.context,Z=K.buffer[this.index+3];return Z<(this._parent?K.buffer[this._parent.index+3]:K.buffer.length)?new re(this.context,this._parent,Z):this.externalSibling(1)}get prevSibling(){let{buffer:K}=this.context,Z=this._parent?this._parent.index+4:0;return this.index==Z?this.externalSibling(-1):new re(this.context,this._parent,K.findChild(Z,this.index,-1,0,4))}cursor(K=0){return new M(this,K)}get tree(){return null}toTree(){let K=[],Z=[],{buffer:Q}=this.context,ne=this.index+4,_e=Q.buffer[this.index+3];if(_e>ne){let Xe=Q.buffer[this.index+1];K.push(Q.slice(ne,_e,Xe)),Z.push(0)}return new ee(this.type,K,Z,this.to-this.from)}resolve(K,Z=0){return Y(this,K,Z,!1)}resolveInner(K,Z=0){return Y(this,K,Z,!0)}enterUnfinishedNodesBefore(K){return F(this,K)}toString(){return this.context.buffer.childString(this.index)}getChild(K,Z=null,Q=null){let ne=se(this,K,Z,Q);return ne.length?ne[0]:null}getChildren(K,Z=null,Q=null){return se(this,K,Z,Q)}get node(){return this}matchContext(K){return me(this,K)}}class M{get name(){return this.type.name}constructor(K,Z=0){if(this.mode=Z,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,K instanceof ve)this.yieldNode(K);else{this._tree=K.context.parent,this.buffer=K.context;for(let Q=K._parent;Q;Q=Q._parent)this.stack.unshift(Q.index);this.bufferNode=K,this.yieldBuf(K.index)}}yieldNode(K){return K?(this._tree=K,this.type=K.type,this.from=K.from,this.to=K.to,!0):!1}yieldBuf(K,Z){this.index=K;let{start:Q,buffer:ne}=this.buffer;return this.type=Z||ne.set.types[ne.buffer[K]],this.from=Q+ne.buffer[K+1],this.to=Q+ne.buffer[K+2],!0}yield(K){return K?K instanceof ve?(this.buffer=null,this.yieldNode(K)):(this.buffer=K.context,this.yieldBuf(K.index,K.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(K,Z,Q){if(!this.buffer)return this.yield(this._tree.nextChild(K<0?this._tree._tree.children.length-1:0,K,Z,Q,this.mode));let{buffer:ne}=this.buffer,_e=ne.findChild(this.index+4,ne.buffer[this.index+3],K,Z-this.buffer.start,Q);return _e<0?!1:(this.stack.push(this.index),this.yieldBuf(_e))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(K){return this.enterChild(1,K,2)}childBefore(K){return this.enterChild(-1,K,-2)}enter(K,Z,Q=this.mode){return this.buffer?Q&z.ExcludeBuffers?!1:this.enterChild(1,K,Z):this.yield(this._tree.enter(K,Z,Q))}parent(){if(!this.buffer)return this.yieldNode(this.mode&z.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let K=this.mode&z.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(K)}sibling(K){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+K,K,0,4,this.mode)):!1;let{buffer:Z}=this.buffer,Q=this.stack.length-1;if(K<0){let ne=Q<0?0:this.stack[Q]+4;if(this.index!=ne)return this.yieldBuf(Z.findChild(ne,this.index,-1,0,4))}else{let ne=Z.buffer[this.index+3];if(ne<(Q<0?Z.buffer.length:Z.buffer[this.stack[Q]+3]))return this.yieldBuf(ne)}return Q<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+K,K,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(K){let Z,Q,{buffer:ne}=this;if(ne){if(K>0){if(this.index<ne.buffer.buffer.length)return!1}else for(let _e=0;_e<this.index;_e++)if(ne.buffer.buffer[_e+3]<this.index)return!1;({index:Z,parent:Q}=ne)}else({index:Z,_parent:Q}=this._tree);for(;Q;{index:Z,_parent:Q}=Q)if(Z>-1)for(let _e=Z+K,Xe=K<0?-1:Q._tree.children.length;_e!=Xe;_e+=K){let lt=Q._tree.children[_e];if(this.mode&z.IncludeAnonymous||lt instanceof oe||!lt.type.isAnonymous||Ee(lt))return!1}return!0}move(K,Z){if(Z&&this.enterChild(K,0,4))return!0;for(;;){if(this.sibling(K))return!0;if(this.atLastNode(K)||!this.parent())return!1}}next(K=!0){return this.move(1,K)}prev(K=!0){return this.move(-1,K)}moveTo(K,Z=0){for(;(this.from==this.to||(Z<1?this.from>=K:this.from>K)||(Z>-1?this.to<=K:this.to<K))&&this.parent(););for(;this.enterChild(1,K,Z););return this}get node(){if(!this.buffer)return this._tree;let K=this.bufferNode,Z=null,Q=0;if(K&&K.context==this.buffer){e:for(let ne=this.index,_e=this.stack.length;_e>=0;){for(let Xe=K;Xe;Xe=Xe._parent)if(Xe.index==ne){if(ne==this.index)return Xe;Z=Xe,Q=_e+1;break e}ne=this.stack[--_e]}}for(let ne=Q;ne<this.stack.length;ne++)Z=new re(this.buffer,Z,this.stack[ne]);return this.bufferNode=new re(this.buffer,Z,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(K,Z){for(let Q=0;;){let ne=!1;if(this.type.isAnonymous||K(this)!==!1){if(this.firstChild()){Q++;continue}this.type.isAnonymous||(ne=!0)}for(;ne&&Z&&Z(this),ne=this.type.isAnonymous,!this.nextSibling();){if(!Q)return;this.parent(),Q--,ne=!0}}}matchContext(K){if(!this.buffer)return me(this.node,K);let{buffer:Z}=this.buffer,{types:Q}=Z.set;for(let ne=K.length-1,_e=this.stack.length-1;ne>=0;_e--){if(_e<0)return me(this.node,K,ne);let Xe=Q[Z.buffer[this.stack[_e]]];if(!Xe.isAnonymous){if(K[ne]&&K[ne]!=Xe.name)return!1;ne--}}return!0}}function Ee(Ue){return Ue.children.some(K=>K instanceof oe||!K.type.isAnonymous||Ee(K))}function Ne(Ue){var K;let{buffer:Z,nodeSet:Q,maxBufferLength:ne=o,reused:_e=[],minRepeatType:Xe=Q.types.length}=Ue,lt=Array.isArray(Z)?new te(Z,Z.length):Z,kt=Q.types,Qt=0,Yt=0;function Ht(Rt,jr,yr,dr,pr){let{id:cr,start:Wr,end:Tr,size:Le}=lt,Gt=Yt;for(;Le<0;)if(lt.next(),Le==-1){let Er=_e[cr];yr.push(Er),dr.push(Wr-Rt);return}else if(Le==-3){Qt=cr;return}else if(Le==-4){Yt=cr;return}else throw new RangeError(`Unrecognized record size: ${Le}`);let ir=kt[cr],lr,Sr,_r=Wr-Rt;if(Tr-Wr<=ne&&(Sr=jt(lt.pos-jr,pr))){let Er=new Uint16Array(Sr.size-Sr.skip),Zr=lt.pos-Sr.size,Ir=Er.length;for(;lt.pos>Zr;)Ir=fr(Sr.start,Er,Ir);lr=new oe(Er,Tr-Sr.start,Q),_r=Sr.start-Rt}else{let Er=lt.pos-Le;lt.next();let Zr=[],Ir=[],Rr=cr>=Xe?cr:-1,Xr=0,fn=Tr;for(;lt.pos>Er;)Rr>=0&&lt.id==Rr&&lt.size>=0?(lt.end<=fn-ne&&(rt(Zr,Ir,Wr,Xr,lt.end,fn,Rr,Gt),Xr=Zr.length,fn=lt.end),lt.next()):Ht(Wr,Er,Zr,Ir,Rr);if(Rr>=0&&Xr>0&&Xr<Zr.length&&rt(Zr,Ir,Wr,Xr,Wr,fn,Rr,Gt),Zr.reverse(),Ir.reverse(),Rr>-1&&Xr>0){let Nr=Xt(ir);lr=Ge(ir,Zr,Ir,0,Zr.length,0,Tr-Wr,Nr,Nr)}else lr=xt(ir,Zr,Ir,Tr-Wr,Gt-Tr)}yr.push(lr),dr.push(_r)}function Xt(Rt){return(jr,yr,dr)=>{let pr=0,cr=jr.length-1,Wr,Tr;if(cr>=0&&(Wr=jr[cr])instanceof ee){if(!cr&&Wr.type==Rt&&Wr.length==dr)return Wr;(Tr=Wr.prop(O.lookAhead))&&(pr=yr[cr]+Wr.length+Tr)}return xt(Rt,jr,yr,dr,pr)}}function rt(Rt,jr,yr,dr,pr,cr,Wr,Tr){let Le=[],Gt=[];for(;Rt.length>dr;)Le.push(Rt.pop()),Gt.push(jr.pop()+yr-pr);Rt.push(xt(Q.types[Wr],Le,Gt,cr-pr,Tr-cr)),jr.push(pr-yr)}function xt(Rt,jr,yr,dr,pr=0,cr){if(Qt){let Wr=[O.contextHash,Qt];cr=cr?[Wr].concat(cr):[Wr]}if(pr>25){let Wr=[O.lookAhead,pr];cr=cr?[Wr].concat(cr):[Wr]}return new ee(Rt,jr,yr,dr,cr)}function jt(Rt,jr){let yr=lt.fork(),dr=0,pr=0,cr=0,Wr=yr.end-ne,Tr={size:0,start:0,skip:0};e:for(let Le=yr.pos-Rt;yr.pos>Le;){let Gt=yr.size;if(yr.id==jr&&Gt>=0){Tr.size=dr,Tr.start=pr,Tr.skip=cr,cr+=4,dr+=4,yr.next();continue}let ir=yr.pos-Gt;if(Gt<0||ir<Le||yr.start<Wr)break;let lr=yr.id>=Xe?4:0,Sr=yr.start;for(yr.next();yr.pos>ir;){if(yr.size<0)if(yr.size==-3)lr+=4;else break e;else yr.id>=Xe&&(lr+=4);yr.next()}pr=Sr,dr+=Gt,cr+=lr}return(jr<0||dr==Rt)&&(Tr.size=dr,Tr.start=pr,Tr.skip=cr),Tr.size>4?Tr:void 0}function fr(Rt,jr,yr){let{id:dr,start:pr,end:cr,size:Wr}=lt;if(lt.next(),Wr>=0&&dr<Xe){let Tr=yr;if(Wr>4){let Le=lt.pos-(Wr-4);for(;lt.pos>Le;)yr=fr(Rt,jr,yr)}jr[--yr]=Tr,jr[--yr]=cr-Rt,jr[--yr]=pr-Rt,jr[--yr]=dr}else Wr==-3?Qt=dr:Wr==-4&&(Yt=dr);return yr}let Or=[],xr=[];for(;lt.pos>0;)Ht(Ue.start||0,Ue.bufferStart||0,Or,xr,-1);let ar=(K=Ue.length)!==null&&K!==void 0?K:Or.length?xr[0]+Or[0].length:0;return new ee(kt[Ue.topID],Or.reverse(),xr.reverse(),ar)}const Ce=new WeakMap;function ze(Ue,K){if(!Ue.isAnonymous||K instanceof oe||K.type!=Ue)return 1;let Z=Ce.get(K);if(Z==null){Z=1;for(let Q of K.children){if(Q.type!=Ue||!(Q instanceof ee)){Z=1;break}Z+=ze(Ue,Q)}Ce.set(K,Z)}return Z}function Ge(Ue,K,Z,Q,ne,_e,Xe,lt,kt){let Qt=0;for(let xt=Q;xt<ne;xt++)Qt+=ze(Ue,K[xt]);let Yt=Math.ceil(Qt*1.5/8),Ht=[],Xt=[];function rt(xt,jt,fr,Or,xr){for(let ar=fr;ar<Or;){let Rt=ar,jr=jt[ar],yr=ze(Ue,xt[ar]);for(ar++;ar<Or;ar++){let dr=ze(Ue,xt[ar]);if(yr+dr>=Yt)break;yr+=dr}if(ar==Rt+1){if(yr>Yt){let dr=xt[Rt];rt(dr.children,dr.positions,0,dr.children.length,jt[Rt]+xr);continue}Ht.push(xt[Rt])}else{let dr=jt[ar-1]+xt[ar-1].length-jr;Ht.push(Ge(Ue,xt,jt,Rt,ar,jr,dr,null,kt))}Xt.push(jr+xr-_e)}}return rt(K,Z,Q,ne,0),(lt||kt)(Ht,Xt,Xe)}class ht{constructor(){this.map=new WeakMap}setBuffer(K,Z,Q){let ne=this.map.get(K);ne||this.map.set(K,ne=new Map),ne.set(Z,Q)}getBuffer(K,Z){let Q=this.map.get(K);return Q&&Q.get(Z)}set(K,Z){K instanceof re?this.setBuffer(K.context.buffer,K.index,Z):K instanceof ve&&this.map.set(K.tree,Z)}get(K){return K instanceof re?this.getBuffer(K.context.buffer,K.index):K instanceof ve?this.map.get(K.tree):void 0}cursorSet(K,Z){K.buffer?this.setBuffer(K.buffer.buffer,K.index,Z):this.map.set(K.tree,Z)}cursorGet(K){return K.buffer?this.getBuffer(K.buffer.buffer,K.index):this.map.get(K.tree)}}class st{constructor(K,Z,Q,ne,_e=!1,Xe=!1){this.from=K,this.to=Z,this.tree=Q,this.offset=ne,this.open=(_e?1:0)|(Xe?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(K,Z=[],Q=!1){let ne=[new st(0,K.length,K,0,!1,Q)];for(let _e of Z)_e.to>K.length&&ne.push(_e);return ne}static applyChanges(K,Z,Q=128){if(!Z.length)return K;let ne=[],_e=1,Xe=K.length?K[0]:null;for(let lt=0,kt=0,Qt=0;;lt++){let Yt=lt<Z.length?Z[lt]:null,Ht=Yt?Yt.fromA:1e9;if(Ht-kt>=Q)for(;Xe&&Xe.from<Ht;){let Xt=Xe;if(kt>=Xt.from||Ht<=Xt.to||Qt){let rt=Math.max(Xt.from,kt)-Qt,xt=Math.min(Xt.to,Ht)-Qt;Xt=rt>=xt?null:new st(rt,xt,Xt.tree,Xt.offset+Qt,lt>0,!!Yt)}if(Xt&&ne.push(Xt),Xe.to>Ht)break;Xe=_e<K.length?K[_e++]:null}if(!Yt)break;kt=Yt.toA,Qt=Yt.toA-Yt.toB}return ne}}class Ye{startParse(K,Z,Q){return typeof K=="string"&&(K=new Et(K)),Q=Q?Q.length?Q.map(ne=>new R(ne.from,ne.to)):[new R(0,0)]:[new R(0,K.length)],this.createParse(K,Z||[],Q)}parse(K,Z,Q){let ne=this.startParse(K,Z,Q);for(;;){let _e=ne.advance();if(_e)return _e}}}class Et{constructor(K){this.string=K}get length(){return this.string.length}chunk(K){return this.string.slice(K)}get lineChunks(){return!1}read(K,Z){return this.string.slice(K,Z)}}function rr(Ue){return(K,Z,Q,ne)=>new Ze(K,Ue,Z,Q,ne)}class mt{constructor(K,Z,Q,ne,_e){if(this.parser=K,this.parse=Z,this.overlay=Q,this.target=ne,this.ranges=_e,!_e.length||_e.some(Xe=>Xe.from>=Xe.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(_e))}}class Mt{constructor(K,Z,Q,ne,_e,Xe,lt){this.parser=K,this.predicate=Z,this.mounts=Q,this.index=ne,this.start=_e,this.target=Xe,this.prev=lt,this.depth=0,this.ranges=[]}}const gt=new O({perNode:!0});class Ze{constructor(K,Z,Q,ne,_e){this.nest=Z,this.input=Q,this.fragments=ne,this.ranges=_e,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=K}advance(){if(this.baseParse){let Q=this.baseParse.advance();if(!Q)return null;if(this.baseParse=null,this.baseTree=Q,this.startInner(),this.stoppedAt!=null)for(let ne of this.inner)ne.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let Q=this.baseTree;return this.stoppedAt!=null&&(Q=new ee(Q.type,Q.children,Q.positions,Q.length,Q.propValues.concat([[gt,this.stoppedAt]]))),Q}let K=this.inner[this.innerDone],Z=K.parse.advance();if(Z){this.innerDone++;let Q=Object.assign(Object.create(null),K.target.props);Q[O.mounted.id]=new D(Z,K.overlay,K.parser),K.target.props=Q}return null}get parsedPos(){if(this.baseParse)return 0;let K=this.input.length;for(let Z=this.innerDone;Z<this.inner.length;Z++)this.inner[Z].ranges[0].from<K&&(K=Math.min(K,this.inner[Z].parse.parsedPos));return K}stopAt(K){if(this.stoppedAt=K,this.baseParse)this.baseParse.stopAt(K);else for(let Z=this.innerDone;Z<this.inner.length;Z++)this.inner[Z].parse.stopAt(K)}startInner(){let K=new ft(this.fragments),Z=null,Q=null,ne=new M(new ve(this.baseTree,this.ranges[0].from,0,null),z.IncludeAnonymous|z.IgnoreMounts);e:for(let _e,Xe;this.stoppedAt==null||ne.from<this.stoppedAt;){let lt=!0,kt;if(K.hasNode(ne)){if(Z){let Qt=Z.mounts.find(Yt=>Yt.frag.from<=ne.from&&Yt.frag.to>=ne.to&&Yt.mount.overlay);if(Qt)for(let Yt of Qt.mount.overlay){let Ht=Yt.from+Qt.pos,Xt=Yt.to+Qt.pos;Ht>=ne.from&&Xt<=ne.to&&!Z.ranges.some(rt=>rt.from<Xt&&rt.to>Ht)&&Z.ranges.push({from:Ht,to:Xt})}}lt=!1}else if(Q&&(Xe=bt(Q.ranges,ne.from,ne.to)))lt=Xe!=2;else if(!ne.type.isAnonymous&&ne.from<ne.to&&(_e=this.nest(ne,this.input))){ne.tree||he(ne);let Qt=K.findMounts(ne.from,_e.parser);if(typeof _e.overlay=="function")Z=new Mt(_e.parser,_e.overlay,Qt,this.inner.length,ne.from,ne.tree,Z);else{let Yt=_t(this.ranges,_e.overlay||[new R(ne.from,ne.to)]);Yt.length&&this.inner.push(new mt(_e.parser,_e.parser.startParse(this.input,Cr(Qt,Yt),Yt),_e.overlay?_e.overlay.map(Ht=>new R(Ht.from-ne.from,Ht.to-ne.from)):null,ne.tree,Yt)),_e.overlay?Yt.length&&(Q={ranges:Yt,depth:0,prev:Q}):lt=!1}}else Z&&(kt=Z.predicate(ne))&&(kt===!0&&(kt=new R(ne.from,ne.to)),kt.from<kt.to&&Z.ranges.push(kt));if(lt&&ne.firstChild())Z&&Z.depth++,Q&&Q.depth++;else for(;!ne.nextSibling();){if(!ne.parent())break e;if(Z&&!--Z.depth){let Qt=_t(this.ranges,Z.ranges);Qt.length&&this.inner.splice(Z.index,0,new mt(Z.parser,Z.parser.startParse(this.input,Cr(Z.mounts,Qt),Qt),Z.ranges.map(Yt=>new R(Yt.from-Z.start,Yt.to-Z.start)),Z.target,Qt)),Z=Z.prev}Q&&!--Q.depth&&(Q=Q.prev)}}}}function bt(Ue,K,Z){for(let Q of Ue){if(Q.from>=Z)break;if(Q.to>K)return Q.from<=K&&Q.to>=Z?2:1}return 0}function et(Ue,K,Z,Q,ne,_e){if(K<Z){let Xe=Ue.buffer[K+1];Q.push(Ue.slice(K,Z,Xe)),ne.push(Xe-_e)}}function he(Ue){let{node:K}=Ue,Z=0;do Ue.parent(),Z++;while(!Ue.tree);let Q=0,ne=Ue.tree,_e=0;for(;_e=ne.positions[Q]+Ue.from,!(_e<=K.from&&_e+ne.children[Q].length>=K.to);Q++);let Xe=ne.children[Q],lt=Xe.buffer;function kt(Qt,Yt,Ht,Xt,rt){let xt=Qt;for(;lt[xt+2]+_e<=K.from;)xt=lt[xt+3];let jt=[],fr=[];et(Xe,Qt,xt,jt,fr,Xt);let Or=lt[xt+1],xr=lt[xt+2],ar=Or+_e==K.from&&xr+_e==K.to&&lt[xt]==K.type.id;return jt.push(ar?K.toTree():kt(xt+4,lt[xt+3],Xe.set.types[lt[xt]],Or,xr-Or)),fr.push(Or-Xt),et(Xe,lt[xt+3],Yt,jt,fr,Xt),new ee(Ht,jt,fr,rt)}ne.children[Q]=kt(0,lt.length,j.none,0,Xe.length);for(let Qt=0;Qt<=Z;Qt++)Ue.childAfter(K.from)}class Ie{constructor(K,Z){this.offset=Z,this.done=!1,this.cursor=K.cursor(z.IncludeAnonymous|z.IgnoreMounts)}moveTo(K){let{cursor:Z}=this,Q=K-this.offset;for(;!this.done&&Z.from<Q;)Z.to>=K&&Z.enter(Q,1,z.IgnoreOverlays|z.ExcludeBuffers)||Z.next(!1)||(this.done=!0)}hasNode(K){if(this.moveTo(K.from),!this.done&&this.cursor.from+this.offset==K.from&&this.cursor.tree)for(let Z=this.cursor.tree;;){if(Z==K.tree)return!0;if(Z.children.length&&Z.positions[0]==0&&Z.children[0]instanceof ee)Z=Z.children[0];else break}return!1}}class ft{constructor(K){var Z;if(this.fragments=K,this.curTo=0,this.fragI=0,K.length){let Q=this.curFrag=K[0];this.curTo=(Z=Q.tree.prop(gt))!==null&&Z!==void 0?Z:Q.to,this.inner=new Ie(Q.tree,-Q.offset)}else this.curFrag=this.inner=null}hasNode(K){for(;this.curFrag&&K.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=K.from&&this.curTo>=K.to&&this.inner.hasNode(K)}nextFrag(){var K;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let Z=this.curFrag=this.fragments[this.fragI];this.curTo=(K=Z.tree.prop(gt))!==null&&K!==void 0?K:Z.to,this.inner=new Ie(Z.tree,-Z.offset)}}findMounts(K,Z){var Q;let ne=[];if(this.inner){this.inner.cursor.moveTo(K,1);for(let _e=this.inner.cursor.node;_e;_e=_e.parent){let Xe=(Q=_e.tree)===null||Q===void 0?void 0:Q.prop(O.mounted);if(Xe&&Xe.parser==Z)for(let lt=this.fragI;lt<this.fragments.length;lt++){let kt=this.fragments[lt];if(kt.from>=_e.to)break;kt.tree==this.curFrag.tree&&ne.push({frag:kt,pos:_e.from-kt.offset,mount:Xe})}}}return ne}}function _t(Ue,K){let Z=null,Q=K;for(let ne=1,_e=0;ne<Ue.length;ne++){let Xe=Ue[ne-1].to,lt=Ue[ne].from;for(;_e<Q.length;_e++){let kt=Q[_e];if(kt.from>=lt)break;kt.to<=Xe||(Z||(Q=Z=K.slice()),kt.from<Xe?(Z[_e]=new R(kt.from,Xe),kt.to>lt&&Z.splice(_e+1,0,new R(lt,kt.to))):kt.to>lt?Z[_e--]=new R(lt,kt.to):Z.splice(_e--,1))}}return Q}function Vt(Ue,K,Z,Q){let ne=0,_e=0,Xe=!1,lt=!1,kt=-1e9,Qt=[];for(;;){let Yt=ne==Ue.length?1e9:Xe?Ue[ne].to:Ue[ne].from,Ht=_e==K.length?1e9:lt?K[_e].to:K[_e].from;if(Xe!=lt){let Xt=Math.max(kt,Z),rt=Math.min(Yt,Ht,Q);Xt<rt&&Qt.push(new R(Xt,rt))}if(kt=Math.min(Yt,Ht),kt==1e9)break;Yt==kt&&(Xe?(Xe=!1,ne++):Xe=!0),Ht==kt&&(lt?(lt=!1,_e++):lt=!0)}return Qt}function Cr(Ue,K){let Z=[];for(let{pos:Q,mount:ne,frag:_e}of Ue){let Xe=Q+(ne.overlay?ne.overlay[0].from:0),lt=Xe+ne.tree.length,kt=Math.max(_e.from,Xe),Qt=Math.min(_e.to,lt);if(ne.overlay){let Yt=ne.overlay.map(Xt=>new R(Xt.from+Q,Xt.to+Q)),Ht=Vt(K,Yt,kt,Qt);for(let Xt=0,rt=kt;;Xt++){let xt=Xt==Ht.length,jt=xt?Qt:Ht[Xt].from;if(jt>rt&&Z.push(new st(rt,jt,ne.tree,-Xe,_e.from>=rt||_e.openStart,_e.to<=jt||_e.openEnd)),xt)break;rt=Ht[Xt].to}}else Z.push(new st(kt,Qt,ne.tree,-Xe,_e.from>=Xe||_e.openStart,_e.to<=lt||_e.openEnd))}return Z}},86253:function(Te,S,l){"use strict";l.d(S,{Gv:function(){return $},QR:function(){return z},bW:function(){return te},pJ:function(){return Ye}});var o=l(21649);let m=0;class R{constructor(mt,Mt,gt){this.set=mt,this.base=Mt,this.modified=gt,this.id=m++}static define(mt){if(mt!=null&&mt.base)throw new Error("Can not derive from a modified tag");let Mt=new R([],null,[]);if(Mt.set.push(Mt),mt)for(let gt of mt.set)Mt.set.push(gt);return Mt}static defineModifier(){let mt=new D;return Mt=>Mt.modified.indexOf(mt)>-1?Mt:D.get(Mt.base||Mt,Mt.modified.concat(mt).sort((gt,Ze)=>gt.id-Ze.id))}}let O=0;class D{constructor(){this.instances=[],this.id=O++}static get(mt,Mt){if(!Mt.length)return mt;let gt=Mt[0].instances.find(he=>he.base==mt&&_(Mt,he.modified));if(gt)return gt;let Ze=[],bt=new R(Ze,mt,Mt);for(let he of Mt)he.instances.push(bt);let et=j(Mt);for(let he of mt.set)if(!he.modified.length)for(let Ie of et)Ze.push(D.get(he,Ie));return bt}}function _(rr,mt){return rr.length==mt.length&&rr.every((Mt,gt)=>Mt==mt[gt])}function j(rr){let mt=[[]];for(let Mt=0;Mt<rr.length;Mt++)for(let gt=0,Ze=mt.length;gt<Ze;gt++)mt.push(mt[gt].concat(rr[Mt]));return mt.sort((Mt,gt)=>gt.length-Mt.length)}function $(rr){let mt=Object.create(null);for(let Mt in rr){let gt=rr[Mt];Array.isArray(gt)||(gt=[gt]);for(let Ze of Mt.split(" "))if(Ze){let bt=[],et=2,he=Ze;for(let Vt=0;;){if(he=="..."&&Vt>0&&Vt+3==Ze.length){et=1;break}let Cr=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(he);if(!Cr)throw new RangeError("Invalid path: "+Ze);if(bt.push(Cr[0]=="*"?"":Cr[0][0]=='"'?JSON.parse(Cr[0]):Cr[0]),Vt+=Cr[0].length,Vt==Ze.length)break;let Ue=Ze[Vt++];if(Vt==Ze.length&&Ue=="!"){et=0;break}if(Ue!="/")throw new RangeError("Invalid path: "+Ze);he=Ze.slice(Vt)}let Ie=bt.length-1,ft=bt[Ie];if(!ft)throw new RangeError("Invalid path: "+Ze);let _t=new J(gt,et,Ie>0?bt.slice(0,Ie):null);mt[ft]=_t.sort(mt[ft])}}return I.add(mt)}const I=new o.md;class J{constructor(mt,Mt,gt,Ze){this.tags=mt,this.mode=Mt,this.context=gt,this.next=Ze}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(mt){return!mt||mt.depth<this.depth?(this.next=mt,this):(mt.next=this.sort(mt.next),mt)}get depth(){return this.context?this.context.length:0}}J.empty=new J([],2,null);function z(rr,mt){let Mt=Object.create(null);for(let bt of rr)if(!Array.isArray(bt.tag))Mt[bt.tag.id]=bt.class;else for(let et of bt.tag)Mt[et.id]=bt.class;let{scope:gt,all:Ze=null}=mt||{};return{style:bt=>{let et=Ze;for(let he of bt)for(let Ie of he.set){let ft=Mt[Ie.id];if(ft){et=et?et+" "+ft:ft;break}}return et},scope:gt}}function ee(rr,mt){let Mt=null;for(let gt of rr){let Ze=gt.style(mt);Ze&&(Mt=Mt?Mt+" "+Ze:Ze)}return Mt}function te(rr,mt,Mt,gt=0,Ze=rr.length){let bt=new oe(gt,Array.isArray(mt)?mt:[mt],Mt);bt.highlightRange(rr.cursor(),gt,Ze,"",bt.highlighters),bt.flush(Ze)}class oe{constructor(mt,Mt,gt){this.at=mt,this.highlighters=Mt,this.span=gt,this.class=""}startSpan(mt,Mt){Mt!=this.class&&(this.flush(mt),mt>this.at&&(this.at=mt),this.class=Mt)}flush(mt){mt>this.at&&this.class&&this.span(this.at,mt,this.class)}highlightRange(mt,Mt,gt,Ze,bt){let{type:et,from:he,to:Ie}=mt;if(he>=gt||Ie<=Mt)return;et.isTop&&(bt=this.highlighters.filter(Ue=>!Ue.scope||Ue.scope(et)));let ft=Ze,_t=ye(mt)||J.empty,Vt=ee(bt,_t.tags);if(Vt&&(ft&&(ft+=" "),ft+=Vt,_t.mode==1&&(Ze+=(Ze?" ":"")+Vt)),this.startSpan(Math.max(Mt,he),ft),_t.opaque)return;let Cr=mt.tree&&mt.tree.prop(o.md.mounted);if(Cr&&Cr.overlay){let Ue=mt.node.enter(Cr.overlay[0].from+he,1),K=this.highlighters.filter(Q=>!Q.scope||Q.scope(Cr.tree.type)),Z=mt.firstChild();for(let Q=0,ne=he;;Q++){let _e=Q<Cr.overlay.length?Cr.overlay[Q]:null,Xe=_e?_e.from+he:Ie,lt=Math.max(Mt,ne),kt=Math.min(gt,Xe);if(lt<kt&&Z)for(;mt.from<kt&&(this.highlightRange(mt,lt,kt,Ze,bt),this.startSpan(Math.min(kt,mt.to),ft),!(mt.to>=Xe||!mt.nextSibling())););if(!_e||Xe>gt)break;ne=_e.to+he,ne>Mt&&(this.highlightRange(Ue.cursor(),Math.max(Mt,_e.from+he),Math.min(gt,ne),"",K),this.startSpan(Math.min(gt,ne),ft))}Z&&mt.parent()}else if(mt.firstChild()){Cr&&(Ze="");do if(!(mt.to<=Mt)){if(mt.from>=gt)break;this.highlightRange(mt,Mt,gt,Ze,bt),this.startSpan(Math.min(gt,mt.to),ft)}while(mt.nextSibling());mt.parent()}}}function ye(rr){let mt=rr.type.prop(I);for(;mt&&mt.context&&!rr.matchContext(mt.context);)mt=mt.next;return mt||null}const F=R.define,Y=F(),ve=F(),se=F(ve),me=F(ve),xe=F(),re=F(xe),M=F(xe),Ee=F(),Ne=F(Ee),Ce=F(),ze=F(),Ge=F(),ht=F(Ge),st=F(),Ye={comment:Y,lineComment:F(Y),blockComment:F(Y),docComment:F(Y),name:ve,variableName:F(ve),typeName:se,tagName:F(se),propertyName:me,attributeName:F(me),className:F(ve),labelName:F(ve),namespace:F(ve),macroName:F(ve),literal:xe,string:re,docString:F(re),character:F(re),attributeValue:F(re),number:M,integer:F(M),float:F(M),bool:F(xe),regexp:F(xe),escape:F(xe),color:F(xe),url:F(xe),keyword:Ce,self:F(Ce),null:F(Ce),atom:F(Ce),unit:F(Ce),modifier:F(Ce),operatorKeyword:F(Ce),controlKeyword:F(Ce),definitionKeyword:F(Ce),moduleKeyword:F(Ce),operator:ze,derefOperator:F(ze),arithmeticOperator:F(ze),logicOperator:F(ze),bitwiseOperator:F(ze),compareOperator:F(ze),updateOperator:F(ze),definitionOperator:F(ze),typeOperator:F(ze),controlOperator:F(ze),punctuation:Ge,separator:F(Ge),bracket:ht,angleBracket:F(ht),squareBracket:F(ht),paren:F(ht),brace:F(ht),content:Ee,heading:Ne,heading1:F(Ne),heading2:F(Ne),heading3:F(Ne),heading4:F(Ne),heading5:F(Ne),heading6:F(Ne),contentSeparator:F(Ee),list:F(Ee),quote:F(Ee),emphasis:F(Ee),strong:F(Ee),link:F(Ee),monospace:F(Ee),strikethrough:F(Ee),inserted:F(),deleted:F(),changed:F(),invalid:F(),meta:st,documentMeta:F(st),annotation:F(st),processingInstruction:F(st),definition:R.defineModifier(),constant:R.defineModifier(),function:R.defineModifier(),standard:R.defineModifier(),local:R.defineModifier(),special:R.defineModifier()},Et=z([{tag:Ye.link,class:"tok-link"},{tag:Ye.heading,class:"tok-heading"},{tag:Ye.emphasis,class:"tok-emphasis"},{tag:Ye.strong,class:"tok-strong"},{tag:Ye.keyword,class:"tok-keyword"},{tag:Ye.atom,class:"tok-atom"},{tag:Ye.bool,class:"tok-bool"},{tag:Ye.url,class:"tok-url"},{tag:Ye.labelName,class:"tok-labelName"},{tag:Ye.inserted,class:"tok-inserted"},{tag:Ye.deleted,class:"tok-deleted"},{tag:Ye.literal,class:"tok-literal"},{tag:Ye.string,class:"tok-string"},{tag:Ye.number,class:"tok-number"},{tag:[Ye.regexp,Ye.escape,Ye.special(Ye.string)],class:"tok-string2"},{tag:Ye.variableName,class:"tok-variableName"},{tag:Ye.local(Ye.variableName),class:"tok-variableName tok-local"},{tag:Ye.definition(Ye.variableName),class:"tok-variableName tok-definition"},{tag:Ye.special(Ye.variableName),class:"tok-variableName2"},{tag:Ye.definition(Ye.propertyName),class:"tok-propertyName tok-definition"},{tag:Ye.typeName,class:"tok-typeName"},{tag:Ye.namespace,class:"tok-namespace"},{tag:Ye.className,class:"tok-className"},{tag:Ye.macroName,class:"tok-macroName"},{tag:Ye.propertyName,class:"tok-propertyName"},{tag:Ye.operator,class:"tok-operator"},{tag:Ye.comment,class:"tok-comment"},{tag:Ye.meta,class:"tok-meta"},{tag:Ye.invalid,class:"tok-invalid"},{tag:Ye.punctuation,class:"tok-punctuation"}])},24649:function(Te,S,l){"use strict";l.d(S,{Z:function(){return Y}});function o(){this.__data__=[],this.size=0}var m=o,R=l(78804);function O(ve,se){for(var me=ve.length;me--;)if((0,R.Z)(ve[me][0],se))return me;return-1}var D=O,_=Array.prototype,j=_.splice;function $(ve){var se=this.__data__,me=D(se,ve);if(me<0)return!1;var xe=se.length-1;return me==xe?se.pop():j.call(se,me,1),--this.size,!0}var I=$;function J(ve){var se=this.__data__,me=D(se,ve);return me<0?void 0:se[me][1]}var z=J;function ee(ve){return D(this.__data__,ve)>-1}var te=ee;function oe(ve,se){var me=this.__data__,xe=D(me,ve);return xe<0?(++this.size,me.push([ve,se])):me[xe][1]=se,this}var ye=oe;function F(ve){var se=-1,me=ve==null?0:ve.length;for(this.clear();++se<me;){var xe=ve[se];this.set(xe[0],xe[1])}}F.prototype.clear=m,F.prototype.delete=I,F.prototype.get=z,F.prototype.has=te,F.prototype.set=ye;var Y=F},38896:function(Te,S,l){"use strict";var o=l(95546),m=l(93221),R=(0,o.Z)(m.Z,"Map");S.Z=R},43703:function(Te,S,l){"use strict";l.d(S,{Z:function(){return et}});var o=l(95546),m=(0,o.Z)(Object,"create"),R=m;function O(){this.__data__=R?R(null):{},this.size=0}var D=O;function _(he){var Ie=this.has(he)&&delete this.__data__[he];return this.size-=Ie?1:0,Ie}var j=_,$="__lodash_hash_undefined__",I=Object.prototype,J=I.hasOwnProperty;function z(he){var Ie=this.__data__;if(R){var ft=Ie[he];return ft===$?void 0:ft}return J.call(Ie,he)?Ie[he]:void 0}var ee=z,te=Object.prototype,oe=te.hasOwnProperty;function ye(he){var Ie=this.__data__;return R?Ie[he]!==void 0:oe.call(Ie,he)}var F=ye,Y="__lodash_hash_undefined__";function ve(he,Ie){var ft=this.__data__;return this.size+=this.has(he)?0:1,ft[he]=R&&Ie===void 0?Y:Ie,this}var se=ve;function me(he){var Ie=-1,ft=he==null?0:he.length;for(this.clear();++Ie<ft;){var _t=he[Ie];this.set(_t[0],_t[1])}}me.prototype.clear=D,me.prototype.delete=j,me.prototype.get=ee,me.prototype.has=F,me.prototype.set=se;var xe=me,re=l(24649),M=l(38896);function Ee(){this.size=0,this.__data__={hash:new xe,map:new(M.Z||re.Z),string:new xe}}var Ne=Ee;function Ce(he){var Ie=typeof he;return Ie=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?he!=="__proto__":he===null}var ze=Ce;function Ge(he,Ie){var ft=he.__data__;return ze(Ie)?ft[typeof Ie=="string"?"string":"hash"]:ft.map}var ht=Ge;function st(he){var Ie=ht(this,he).delete(he);return this.size-=Ie?1:0,Ie}var Ye=st;function Et(he){return ht(this,he).get(he)}var rr=Et;function mt(he){return ht(this,he).has(he)}var Mt=mt;function gt(he,Ie){var ft=ht(this,he),_t=ft.size;return ft.set(he,Ie),this.size+=ft.size==_t?0:1,this}var Ze=gt;function bt(he){var Ie=-1,ft=he==null?0:he.length;for(this.clear();++Ie<ft;){var _t=he[Ie];this.set(_t[0],_t[1])}}bt.prototype.clear=Ne,bt.prototype.delete=Ye,bt.prototype.get=rr,bt.prototype.has=Mt,bt.prototype.set=Ze;var et=bt},87459:function(Te,S,l){"use strict";var o=l(95546),m=l(93221),R=(0,o.Z)(m.Z,"Set");S.Z=R},46218:function(Te,S,l){"use strict";l.d(S,{Z:function(){return F}});var o=l(24649);function m(){this.__data__=new o.Z,this.size=0}var R=m;function O(Y){var ve=this.__data__,se=ve.delete(Y);return this.size=ve.size,se}var D=O;function _(Y){return this.__data__.get(Y)}var j=_;function $(Y){return this.__data__.has(Y)}var I=$,J=l(38896),z=l(43703),ee=200;function te(Y,ve){var se=this.__data__;if(se instanceof o.Z){var me=se.__data__;if(!J.Z||me.length<ee-1)return me.push([Y,ve]),this.size=++se.size,this;se=this.__data__=new z.Z(me)}return se.set(Y,ve),this.size=se.size,this}var oe=te;function ye(Y){var ve=this.__data__=new o.Z(Y);this.size=ve.size}ye.prototype.clear=R,ye.prototype.delete=D,ye.prototype.get=j,ye.prototype.has=I,ye.prototype.set=oe;var F=ye},187:function(Te,S,l){"use strict";var o=l(93221),m=o.Z.Symbol;S.Z=m},88282:function(Te,S,l){"use strict";var o=l(93221),m=o.Z.Uint8Array;S.Z=m},45423:function(Te,S,l){"use strict";var o=l(19510),m=l(7720),R=l(97885),O=l(74975),D=l(66401),_=l(98127),j=Object.prototype,$=j.hasOwnProperty;function I(J,z){var ee=(0,R.Z)(J),te=!ee&&(0,m.Z)(J),oe=!ee&&!te&&(0,O.Z)(J),ye=!ee&&!te&&!oe&&(0,_.Z)(J),F=ee||te||oe||ye,Y=F?(0,o.Z)(J.length,String):[],ve=Y.length;for(var se in J)(z||$.call(J,se))&&!(F&&(se=="length"||oe&&(se=="offset"||se=="parent")||ye&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||(0,D.Z)(se,ve)))&&Y.push(se);return Y}S.Z=I},95598:function(Te,S){"use strict";function l(o,m){for(var R=-1,O=o==null?0:o.length,D=Array(O);++R<O;)D[R]=m(o[R],R,o);return D}S.Z=l},15589:function(Te,S){"use strict";function l(o,m){for(var R=-1,O=m.length,D=o.length;++R<O;)o[D+R]=m[R];return o}S.Z=l},16299:function(Te,S,l){"use strict";var o=l(40905),m=l(78804),R=Object.prototype,O=R.hasOwnProperty;function D(_,j,$){var I=_[j];(!(O.call(_,j)&&(0,m.Z)(I,$))||$===void 0&&!(j in _))&&(0,o.Z)(_,j,$)}S.Z=D},40905:function(Te,S,l){"use strict";var o=l(75088);function m(R,O,D){O=="__proto__"&&o.Z?(0,o.Z)(R,O,{configurable:!0,enumerable:!0,value:D,writable:!0}):R[O]=D}S.Z=m},72764:function(Te,S,l){"use strict";l.d(S,{Z:function(){return Mo}});var o=l(46218);function m(Jt,be){for(var N=-1,X=Jt==null?0:Jt.length;++N<X&&be(Jt[N],N,Jt)!==!1;);return Jt}var R=m,O=l(16299),D=l(82436),_=l(20649);function j(Jt,be){return Jt&&(0,D.Z)(be,(0,_.Z)(be),Jt)}var $=j,I=l(47477);function J(Jt,be){return Jt&&(0,D.Z)(be,(0,I.Z)(be),Jt)}var z=J,ee=l(93221),te=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oe=te&&typeof module=="object"&&module&&!module.nodeType&&module,ye=oe&&oe.exports===te,F=ye?ee.Z.Buffer:void 0,Y=F?F.allocUnsafe:void 0;function ve(Jt,be){if(be)return Jt.slice();var N=Jt.length,X=Y?Y(N):new Jt.constructor(N);return Jt.copy(X),X}var se=ve,me=l(31162),xe=l(46808);function re(Jt,be){return(0,D.Z)(Jt,(0,xe.Z)(Jt),be)}var M=re,Ee=l(98390);function Ne(Jt,be){return(0,D.Z)(Jt,(0,Ee.Z)(Jt),be)}var Ce=Ne,ze=l(37245),Ge=l(9878),ht=l(57210),st=Object.prototype,Ye=st.hasOwnProperty;function Et(Jt){var be=Jt.length,N=new Jt.constructor(be);return be&&typeof Jt[0]=="string"&&Ye.call(Jt,"index")&&(N.index=Jt.index,N.input=Jt.input),N}var rr=Et,mt=l(88282);function Mt(Jt){var be=new Jt.constructor(Jt.byteLength);return new mt.Z(be).set(new mt.Z(Jt)),be}var gt=Mt;function Ze(Jt,be){var N=be?gt(Jt.buffer):Jt.buffer;return new Jt.constructor(N,Jt.byteOffset,Jt.byteLength)}var bt=Ze,et=/\w*$/;function he(Jt){var be=new Jt.constructor(Jt.source,et.exec(Jt));return be.lastIndex=Jt.lastIndex,be}var Ie=he,ft=l(187),_t=ft.Z?ft.Z.prototype:void 0,Vt=_t?_t.valueOf:void 0;function Cr(Jt){return Vt?Object(Vt.call(Jt)):{}}var Ue=Cr;function K(Jt,be){var N=be?gt(Jt.buffer):Jt.buffer;return new Jt.constructor(N,Jt.byteOffset,Jt.length)}var Z=K,Q="[object Boolean]",ne="[object Date]",_e="[object Map]",Xe="[object Number]",lt="[object RegExp]",kt="[object Set]",Qt="[object String]",Yt="[object Symbol]",Ht="[object ArrayBuffer]",Xt="[object DataView]",rt="[object Float32Array]",xt="[object Float64Array]",jt="[object Int8Array]",fr="[object Int16Array]",Or="[object Int32Array]",xr="[object Uint8Array]",ar="[object Uint8ClampedArray]",Rt="[object Uint16Array]",jr="[object Uint32Array]";function yr(Jt,be,N){var X=Jt.constructor;switch(be){case Ht:return gt(Jt);case Q:case ne:return new X(+Jt);case Xt:return bt(Jt,N);case rt:case xt:case jt:case fr:case Or:case xr:case ar:case Rt:case jr:return Z(Jt,N);case _e:return new X;case Xe:case Qt:return new X(Jt);case lt:return Ie(Jt);case kt:return new X;case Yt:return Ue(Jt)}}var dr=yr,pr=l(93122),cr=Object.create,Wr=function(){function Jt(){}return function(be){if(!(0,pr.Z)(be))return{};if(cr)return cr(be);Jt.prototype=be;var N=new Jt;return Jt.prototype=void 0,N}}(),Tr=Wr,Le=l(29552),Gt=l(15441);function ir(Jt){return typeof Jt.constructor=="function"&&!(0,Gt.Z)(Jt)?Tr((0,Le.Z)(Jt)):{}}var lr=ir,Sr=l(97885),_r=l(74975),Er=l(43391),Zr="[object Map]";function Ir(Jt){return(0,Er.Z)(Jt)&&(0,ht.Z)(Jt)==Zr}var Rr=Ir,Xr=l(93225),fn=l(37755),Nr=fn.Z&&fn.Z.isMap,ln=Nr?(0,Xr.Z)(Nr):Rr,mn=ln,vn="[object Set]";function gn(Jt){return(0,Er.Z)(Jt)&&(0,ht.Z)(Jt)==vn}var un=gn,cn=fn.Z&&fn.Z.isSet,Yr=cn?(0,Xr.Z)(cn):un,yn=Yr,sn=1,Qr=2,En=4,bn="[object Arguments]",oi="[object Array]",Ki="[object Boolean]",Pe="[object Date]",y="[object Error]",T="[object Function]",V="[object GeneratorFunction]",q="[object Map]",we="[object Number]",ge="[object Object]",Ve="[object RegExp]",je="[object Set]",At="[object String]",Ft="[object Symbol]",Wt="[object WeakMap]",Pr="[object ArrayBuffer]",mr="[object DataView]",On="[object Float32Array]",Mn="[object Float64Array]",zn="[object Int8Array]",Mi="[object Int16Array]",$i="[object Int32Array]",Cn="[object Uint8Array]",Zo="[object Uint8ClampedArray]",So="[object Uint16Array]",ko="[object Uint32Array]",$n={};$n[bn]=$n[oi]=$n[Pr]=$n[mr]=$n[Ki]=$n[Pe]=$n[On]=$n[Mn]=$n[zn]=$n[Mi]=$n[$i]=$n[q]=$n[we]=$n[ge]=$n[Ve]=$n[je]=$n[At]=$n[Ft]=$n[Cn]=$n[Zo]=$n[So]=$n[ko]=!0,$n[y]=$n[T]=$n[Wt]=!1;function Ii(Jt,be,N,X,Me,Fe){var nt,ct=be&sn,Bt=be&Qr,Nt=be&En;if(N&&(nt=Me?N(Jt,X,Me,Fe):N(Jt)),nt!==void 0)return nt;if(!(0,pr.Z)(Jt))return Jt;var Lr=(0,Sr.Z)(Jt);if(Lr){if(nt=rr(Jt),!ct)return(0,me.Z)(Jt,nt)}else{var Kr=(0,ht.Z)(Jt),In=Kr==T||Kr==V;if((0,_r.Z)(Jt))return se(Jt,ct);if(Kr==ge||Kr==bn||In&&!Me){if(nt=Bt||In?{}:lr(Jt),!ct)return Bt?Ce(Jt,z(nt,Jt)):M(Jt,$(nt,Jt))}else{if(!$n[Kr])return Me?Jt:{};nt=dr(Jt,Kr,ct)}}Fe||(Fe=new o.Z);var wi=Fe.get(Jt);if(wi)return wi;Fe.set(Jt,nt),yn(Jt)?Jt.forEach(function(Si){nt.add(Ii(Si,be,N,Si,Jt,Fe))}):mn(Jt)&&Jt.forEach(function(Si,zi){nt.set(zi,Ii(Si,be,N,zi,Jt,Fe))});var Ci=Nt?Bt?Ge.Z:ze.Z:Bt?I.Z:_.Z,si=Lr?void 0:Ci(Jt);return R(si||Jt,function(Si,zi){si&&(zi=Si,Si=Jt[zi]),(0,O.Z)(nt,zi,Ii(Si,be,N,zi,Jt,Fe))}),nt}var Mo=Ii},53338:function(Te,S,l){"use strict";l.d(S,{Z:function(){return I}});var o=l(15589),m=l(187),R=l(7720),O=l(97885),D=m.Z?m.Z.isConcatSpreadable:void 0;function _(J){return(0,O.Z)(J)||(0,R.Z)(J)||!!(D&&J&&J[D])}var j=_;function $(J,z,ee,te,oe){var ye=-1,F=J.length;for(ee||(ee=j),oe||(oe=[]);++ye<F;){var Y=J[ye];z>0&&ee(Y)?z>1?$(Y,z-1,ee,te,oe):(0,o.Z)(oe,Y):te||(oe[oe.length]=Y)}return oe}var I=$},89523:function(Te,S,l){"use strict";var o=l(42082),m=l(57969);function R(O,D){D=(0,o.Z)(D,O);for(var _=0,j=D.length;O!=null&&_<j;)O=O[(0,m.Z)(D[_++])];return _&&_==j?O:void 0}S.Z=R},52938:function(Te,S,l){"use strict";var o=l(15589),m=l(97885);function R(O,D,_){var j=D(O);return(0,m.Z)(O)?j:(0,o.Z)(j,_(O))}S.Z=R},99001:function(Te,S,l){"use strict";l.d(S,{Z:function(){return F}});var o=l(187),m=Object.prototype,R=m.hasOwnProperty,O=m.toString,D=o.Z?o.Z.toStringTag:void 0;function _(Y){var ve=R.call(Y,D),se=Y[D];try{Y[D]=void 0;var me=!0}catch{}var xe=O.call(Y);return me&&(ve?Y[D]=se:delete Y[D]),xe}var j=_,$=Object.prototype,I=$.toString;function J(Y){return I.call(Y)}var z=J,ee="[object Null]",te="[object Undefined]",oe=o.Z?o.Z.toStringTag:void 0;function ye(Y){return Y==null?Y===void 0?te:ee:oe&&oe in Object(Y)?j(Y):z(Y)}var F=ye},93917:function(Te,S,l){"use strict";l.d(S,{Z:function(){return $}});var o=l(15441),m=l(76048),R=(0,m.Z)(Object.keys,Object),O=R,D=Object.prototype,_=D.hasOwnProperty;function j(I){if(!(0,o.Z)(I))return O(I);var J=[];for(var z in Object(I))_.call(I,z)&&z!="constructor"&&J.push(z);return J}var $=j},64187:function(Te,S,l){"use strict";var o=l(16299),m=l(42082),R=l(66401),O=l(93122),D=l(57969);function _(j,$,I,J){if(!(0,O.Z)(j))return j;$=(0,m.Z)($,j);for(var z=-1,ee=$.length,te=ee-1,oe=j;oe!=null&&++z<ee;){var ye=(0,D.Z)($[z]),F=I;if(ye==="__proto__"||ye==="constructor"||ye==="prototype")return j;if(z!=te){var Y=oe[ye];F=J?J(Y,ye,oe):void 0,F===void 0&&(F=(0,O.Z)(Y)?Y:(0,R.Z)($[z+1])?[]:{})}(0,o.Z)(oe,ye,F),oe=oe[ye]}return j}S.Z=_},19510:function(Te,S){"use strict";function l(o,m){for(var R=-1,O=Array(o);++R<o;)O[R]=m(R);return O}S.Z=l},93225:function(Te,S){"use strict";function l(o){return function(m){return o(m)}}S.Z=l},56764:function(Te,S,l){"use strict";l.d(S,{Z:function(){return z}});var o=l(42082);function m(ee){var te=ee==null?0:ee.length;return te?ee[te-1]:void 0}var R=m,O=l(89523);function D(ee,te,oe){var ye=-1,F=ee.length;te<0&&(te=-te>F?0:F+te),oe=oe>F?F:oe,oe<0&&(oe+=F),F=te>oe?0:oe-te>>>0,te>>>=0;for(var Y=Array(F);++ye<F;)Y[ye]=ee[ye+te];return Y}var _=D;function j(ee,te){return te.length<2?ee:(0,O.Z)(ee,_(te,0,-1))}var $=j,I=l(57969);function J(ee,te){return te=(0,o.Z)(te,ee),ee=$(ee,te),ee==null||delete ee[(0,I.Z)(R(te))]}var z=J},42082:function(Te,S,l){"use strict";var o=l(97885),m=l(23502),R=l(32540),O=l(33523);function D(_,j){return(0,o.Z)(_)?_:(0,m.Z)(_,j)?[_]:(0,R.Z)((0,O.Z)(_))}S.Z=D},31162:function(Te,S){"use strict";function l(o,m){var R=-1,O=o.length;for(m||(m=Array(O));++R<O;)m[R]=o[R];return m}S.Z=l},82436:function(Te,S,l){"use strict";var o=l(16299),m=l(40905);function R(O,D,_,j){var $=!_;_||(_={});for(var I=-1,J=D.length;++I<J;){var z=D[I],ee=j?j(_[z],O[z],z,_,O):void 0;ee===void 0&&(ee=O[z]),$?(0,m.Z)(_,z,ee):(0,o.Z)(_,z,ee)}return _}S.Z=R},75088:function(Te,S,l){"use strict";var o=l(95546),m=function(){try{var R=(0,o.Z)(Object,"defineProperty");return R({},"",{}),R}catch{}}();S.Z=m},5255:function(Te,S,l){"use strict";l.d(S,{Z:function(){return j}});var o=l(53338);function m($){var I=$==null?0:$.length;return I?(0,o.Z)($,1):[]}var R=m,O=l(91130),D=l(19603);function _($){return(0,D.Z)((0,O.Z)($,void 0,R),$+"")}var j=_},93854:function(Te,S){"use strict";var l=typeof global=="object"&&global&&global.Object===Object&&global;S.Z=l},37245:function(Te,S,l){"use strict";var o=l(52938),m=l(46808),R=l(20649);function O(D){return(0,o.Z)(D,R.Z,m.Z)}S.Z=O},9878:function(Te,S,l){"use strict";var o=l(52938),m=l(98390),R=l(47477);function O(D){return(0,o.Z)(D,R.Z,m.Z)}S.Z=O},95546:function(Te,S,l){"use strict";l.d(S,{Z:function(){return re}});var o=l(8936),m=l(93221),R=m.Z["__core-js_shared__"],O=R,D=function(){var M=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}();function _(M){return!!D&&D in M}var j=_,$=l(93122),I=l(19696),J=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,ee=Function.prototype,te=Object.prototype,oe=ee.toString,ye=te.hasOwnProperty,F=RegExp("^"+oe.call(ye).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y(M){if(!(0,$.Z)(M)||j(M))return!1;var Ee=(0,o.Z)(M)?F:z;return Ee.test((0,I.Z)(M))}var ve=Y;function se(M,Ee){return M==null?void 0:M[Ee]}var me=se;function xe(M,Ee){var Ne=me(M,Ee);return ve(Ne)?Ne:void 0}var re=xe},29552:function(Te,S,l){"use strict";var o=l(76048),m=(0,o.Z)(Object.getPrototypeOf,Object);S.Z=m},46808:function(Te,S,l){"use strict";l.d(S,{Z:function(){return $}});function o(I,J){for(var z=-1,ee=I==null?0:I.length,te=0,oe=[];++z<ee;){var ye=I[z];J(ye,z,I)&&(oe[te++]=ye)}return oe}var m=o,R=l(70813),O=Object.prototype,D=O.propertyIsEnumerable,_=Object.getOwnPropertySymbols,j=_?function(I){return I==null?[]:(I=Object(I),m(_(I),function(J){return D.call(I,J)}))}:R.Z,$=j},98390:function(Te,S,l){"use strict";var o=l(15589),m=l(29552),R=l(46808),O=l(70813),D=Object.getOwnPropertySymbols,_=D?function(j){for(var $=[];j;)(0,o.Z)($,(0,R.Z)(j)),j=(0,m.Z)(j);return $}:O.Z;S.Z=_},57210:function(Te,S,l){"use strict";l.d(S,{Z:function(){return Ne}});var o=l(95546),m=l(93221),R=(0,o.Z)(m.Z,"DataView"),O=R,D=l(38896),_=(0,o.Z)(m.Z,"Promise"),j=_,$=l(87459),I=(0,o.Z)(m.Z,"WeakMap"),J=I,z=l(99001),ee=l(19696),te="[object Map]",oe="[object Object]",ye="[object Promise]",F="[object Set]",Y="[object WeakMap]",ve="[object DataView]",se=(0,ee.Z)(O),me=(0,ee.Z)(D.Z),xe=(0,ee.Z)(j),re=(0,ee.Z)($.Z),M=(0,ee.Z)(J),Ee=z.Z;(O&&Ee(new O(new ArrayBuffer(1)))!=ve||D.Z&&Ee(new D.Z)!=te||j&&Ee(j.resolve())!=ye||$.Z&&Ee(new $.Z)!=F||J&&Ee(new J)!=Y)&&(Ee=function(Ce){var ze=(0,z.Z)(Ce),Ge=ze==oe?Ce.constructor:void 0,ht=Ge?(0,ee.Z)(Ge):"";if(ht)switch(ht){case se:return ve;case me:return te;case xe:return ye;case re:return F;case M:return Y}return ze});var Ne=Ee},8693:function(Te,S,l){"use strict";var o=l(42082),m=l(7720),R=l(97885),O=l(66401),D=l(61164),_=l(57969);function j($,I,J){I=(0,o.Z)(I,$);for(var z=-1,ee=I.length,te=!1;++z<ee;){var oe=(0,_.Z)(I[z]);if(!(te=$!=null&&J($,oe)))break;$=$[oe]}return te||++z!=ee?te:(ee=$==null?0:$.length,!!ee&&(0,D.Z)(ee)&&(0,O.Z)(oe,ee)&&((0,R.Z)($)||(0,m.Z)($)))}S.Z=j},66401:function(Te,S){"use strict";var l=9007199254740991,o=/^(?:0|[1-9]\d*)$/;function m(R,O){var D=typeof R;return O=O==null?l:O,!!O&&(D=="number"||D!="symbol"&&o.test(R))&&R>-1&&R%1==0&&R<O}S.Z=m},23502:function(Te,S,l){"use strict";var o=l(97885),m=l(22758),R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;function D(_,j){if((0,o.Z)(_))return!1;var $=typeof _;return $=="number"||$=="symbol"||$=="boolean"||_==null||(0,m.Z)(_)?!0:O.test(_)||!R.test(_)||j!=null&&_ in Object(j)}S.Z=D},15441:function(Te,S){"use strict";var l=Object.prototype;function o(m){var R=m&&m.constructor,O=typeof R=="function"&&R.prototype||l;return m===O}S.Z=o},37755:function(Te,S,l){"use strict";var o=l(93854),m=typeof exports=="object"&&exports&&!exports.nodeType&&exports,R=m&&typeof module=="object"&&module&&!module.nodeType&&module,O=R&&R.exports===m,D=O&&o.Z.process,_=function(){try{var j=R&&R.require&&R.require("util").types;return j||D&&D.binding&&D.binding("util")}catch{}}();S.Z=_},76048:function(Te,S){"use strict";function l(o,m){return function(R){return o(m(R))}}S.Z=l},91130:function(Te,S,l){"use strict";l.d(S,{Z:function(){return D}});function o(_,j,$){switch($.length){case 0:return _.call(j);case 1:return _.call(j,$[0]);case 2:return _.call(j,$[0],$[1]);case 3:return _.call(j,$[0],$[1],$[2])}return _.apply(j,$)}var m=o,R=Math.max;function O(_,j,$){return j=R(j===void 0?_.length-1:j,0),function(){for(var I=arguments,J=-1,z=R(I.length-j,0),ee=Array(z);++J<z;)ee[J]=I[j+J];J=-1;for(var te=Array(j+1);++J<j;)te[J]=I[J];return te[j]=$(ee),m(_,this,te)}}var D=O},93221:function(Te,S,l){"use strict";var o=l(93854),m=typeof self=="object"&&self&&self.Object===Object&&self,R=o.Z||m||Function("return this")();S.Z=R},19603:function(Te,S,l){"use strict";l.d(S,{Z:function(){return te}});function o(oe){return function(){return oe}}var m=o,R=l(75088),O=l(89930),D=R.Z?function(oe,ye){return(0,R.Z)(oe,"toString",{configurable:!0,enumerable:!1,value:m(ye),writable:!0})}:O.Z,_=D,j=800,$=16,I=Date.now;function J(oe){var ye=0,F=0;return function(){var Y=I(),ve=$-(Y-F);if(F=Y,ve>0){if(++ye>=j)return arguments[0]}else ye=0;return oe.apply(void 0,arguments)}}var z=J,ee=z(_),te=ee},32540:function(Te,S,l){"use strict";l.d(S,{Z:function(){return z}});var o=l(43703),m="Expected a function";function R(ee,te){if(typeof ee!="function"||te!=null&&typeof te!="function")throw new TypeError(m);var oe=function(){var ye=arguments,F=te?te.apply(this,ye):ye[0],Y=oe.cache;if(Y.has(F))return Y.get(F);var ve=ee.apply(this,ye);return oe.cache=Y.set(F,ve)||Y,ve};return oe.cache=new(R.Cache||o.Z),oe}R.Cache=o.Z;var O=R,D=500;function _(ee){var te=O(ee,function(ye){return oe.size===D&&oe.clear(),ye}),oe=te.cache;return te}var j=_,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,J=j(function(ee){var te=[];return ee.charCodeAt(0)===46&&te.push(""),ee.replace($,function(oe,ye,F,Y){te.push(F?Y.replace(I,"$1"):ye||oe)}),te}),z=J},57969:function(Te,S,l){"use strict";var o=l(22758),m=1/0;function R(O){if(typeof O=="string"||(0,o.Z)(O))return O;var D=O+"";return D=="0"&&1/O==-m?"-0":D}S.Z=R},19696:function(Te,S){"use strict";var l=Function.prototype,o=l.toString;function m(R){if(R!=null){try{return o.call(R)}catch{}try{return R+""}catch{}}return""}S.Z=m},7921:function(Te,S,l){"use strict";var o=l(72764),m=1,R=4;function O(D){return(0,o.Z)(D,m|R)}S.Z=O},78804:function(Te,S){"use strict";function l(o,m){return o===m||o!==o&&m!==m}S.Z=l},90772:function(Te,S,l){"use strict";var o=l(89523);function m(R,O,D){var _=R==null?void 0:(0,o.Z)(R,O);return _===void 0?D:_}S.Z=m},6279:function(Te,S,l){"use strict";l.d(S,{Z:function(){return j}});var o=Object.prototype,m=o.hasOwnProperty;function R($,I){return $!=null&&m.call($,I)}var O=R,D=l(8693);function _($,I){return $!=null&&(0,D.Z)($,I,O)}var j=_},12930:function(Te,S,l){"use strict";l.d(S,{Z:function(){return D}});function o(_,j){return _!=null&&j in Object(_)}var m=o,R=l(8693);function O(_,j){return _!=null&&(0,R.Z)(_,j,m)}var D=O},89930:function(Te,S){"use strict";function l(o){return o}S.Z=l},7720:function(Te,S,l){"use strict";l.d(S,{Z:function(){return J}});var o=l(99001),m=l(43391),R="[object Arguments]";function O(z){return(0,m.Z)(z)&&(0,o.Z)(z)==R}var D=O,_=Object.prototype,j=_.hasOwnProperty,$=_.propertyIsEnumerable,I=D(function(){return arguments}())?D:function(z){return(0,m.Z)(z)&&j.call(z,"callee")&&!$.call(z,"callee")},J=I},97885:function(Te,S){"use strict";var l=Array.isArray;S.Z=l},63282:function(Te,S,l){"use strict";var o=l(8936),m=l(61164);function R(O){return O!=null&&(0,m.Z)(O.length)&&!(0,o.Z)(O)}S.Z=R},74975:function(Te,S,l){"use strict";l.d(S,{Z:function(){return J}});var o=l(93221);function m(){return!1}var R=m,O=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D=O&&typeof module=="object"&&module&&!module.nodeType&&module,_=D&&D.exports===O,j=_?o.Z.Buffer:void 0,$=j?j.isBuffer:void 0,I=$||R,J=I},7279:function(Te,S,l){"use strict";var o=l(93917),m=l(57210),R=l(7720),O=l(97885),D=l(63282),_=l(74975),j=l(15441),$=l(98127),I="[object Map]",J="[object Set]",z=Object.prototype,ee=z.hasOwnProperty;function te(oe){if(oe==null)return!0;if((0,D.Z)(oe)&&((0,O.Z)(oe)||typeof oe=="string"||typeof oe.splice=="function"||(0,_.Z)(oe)||(0,$.Z)(oe)||(0,R.Z)(oe)))return!oe.length;var ye=(0,m.Z)(oe);if(ye==I||ye==J)return!oe.size;if((0,j.Z)(oe))return!(0,o.Z)(oe).length;for(var F in oe)if(ee.call(oe,F))return!1;return!0}S.Z=te},8936:function(Te,S,l){"use strict";var o=l(99001),m=l(93122),R="[object AsyncFunction]",O="[object Function]",D="[object GeneratorFunction]",_="[object Proxy]";function j($){if(!(0,m.Z)($))return!1;var I=(0,o.Z)($);return I==O||I==D||I==R||I==_}S.Z=j},61164:function(Te,S){"use strict";var l=9007199254740991;function o(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=l}S.Z=o},93122:function(Te,S){"use strict";function l(o){var m=typeof o;return o!=null&&(m=="object"||m=="function")}S.Z=l},43391:function(Te,S){"use strict";function l(o){return o!=null&&typeof o=="object"}S.Z=l},65255:function(Te,S,l){"use strict";var o=l(99001),m=l(29552),R=l(43391),O="[object Object]",D=Function.prototype,_=Object.prototype,j=D.toString,$=_.hasOwnProperty,I=j.call(Object);function J(z){if(!(0,R.Z)(z)||(0,o.Z)(z)!=O)return!1;var ee=(0,m.Z)(z);if(ee===null)return!0;var te=$.call(ee,"constructor")&&ee.constructor;return typeof te=="function"&&te instanceof te&&j.call(te)==I}S.Z=J},1284:function(Te,S,l){"use strict";var o=l(99001),m=l(97885),R=l(43391),O="[object String]";function D(_){return typeof _=="string"||!(0,m.Z)(_)&&(0,R.Z)(_)&&(0,o.Z)(_)==O}S.Z=D},22758:function(Te,S,l){"use strict";var o=l(99001),m=l(43391),R="[object Symbol]";function O(D){return typeof D=="symbol"||(0,m.Z)(D)&&(0,o.Z)(D)==R}S.Z=O},98127:function(Te,S,l){"use strict";l.d(S,{Z:function(){return Mt}});var o=l(99001),m=l(61164),R=l(43391),O="[object Arguments]",D="[object Array]",_="[object Boolean]",j="[object Date]",$="[object Error]",I="[object Function]",J="[object Map]",z="[object Number]",ee="[object Object]",te="[object RegExp]",oe="[object Set]",ye="[object String]",F="[object WeakMap]",Y="[object ArrayBuffer]",ve="[object DataView]",se="[object Float32Array]",me="[object Float64Array]",xe="[object Int8Array]",re="[object Int16Array]",M="[object Int32Array]",Ee="[object Uint8Array]",Ne="[object Uint8ClampedArray]",Ce="[object Uint16Array]",ze="[object Uint32Array]",Ge={};Ge[se]=Ge[me]=Ge[xe]=Ge[re]=Ge[M]=Ge[Ee]=Ge[Ne]=Ge[Ce]=Ge[ze]=!0,Ge[O]=Ge[D]=Ge[Y]=Ge[_]=Ge[ve]=Ge[j]=Ge[$]=Ge[I]=Ge[J]=Ge[z]=Ge[ee]=Ge[te]=Ge[oe]=Ge[ye]=Ge[F]=!1;function ht(gt){return(0,R.Z)(gt)&&(0,m.Z)(gt.length)&&!!Ge[(0,o.Z)(gt)]}var st=ht,Ye=l(93225),Et=l(37755),rr=Et.Z&&Et.Z.isTypedArray,mt=rr?(0,Ye.Z)(rr):st,Mt=mt},20649:function(Te,S,l){"use strict";var o=l(45423),m=l(93917),R=l(63282);function O(D){return(0,R.Z)(D)?(0,o.Z)(D):(0,m.Z)(D)}S.Z=O},47477:function(Te,S,l){"use strict";l.d(S,{Z:function(){return ee}});var o=l(45423),m=l(93122),R=l(15441);function O(te){var oe=[];if(te!=null)for(var ye in Object(te))oe.push(ye);return oe}var D=O,_=Object.prototype,j=_.hasOwnProperty;function $(te){if(!(0,m.Z)(te))return D(te);var oe=(0,R.Z)(te),ye=[];for(var F in te)F=="constructor"&&(oe||!j.call(te,F))||ye.push(F);return ye}var I=$,J=l(63282);function z(te){return(0,J.Z)(te)?(0,o.Z)(te,!0):I(te)}var ee=z},39075:function(Te,S,l){"use strict";l.d(S,{Z:function(){return ye}});var o=l(95598),m=l(72764),R=l(56764),O=l(42082),D=l(82436),_=l(65255);function j(F){return(0,_.Z)(F)?void 0:F}var $=j,I=l(5255),J=l(9878),z=1,ee=2,te=4,oe=(0,I.Z)(function(F,Y){var ve={};if(F==null)return ve;var se=!1;Y=(0,o.Z)(Y,function(xe){return xe=(0,O.Z)(xe,F),se||(se=xe.length>1),xe}),(0,D.Z)(F,(0,J.Z)(F),ve),se&&(ve=(0,m.Z)(ve,z|ee|te,$));for(var me=Y.length;me--;)(0,R.Z)(ve,Y[me]);return ve}),ye=oe},25513:function(Te,S,l){"use strict";var o=l(64187);function m(R,O,D){return R==null?R:(0,o.Z)(R,O,D)}S.Z=m},70813:function(Te,S){"use strict";function l(){return[]}S.Z=l},55487:function(Te,S,l){"use strict";var o=l(95598),m=l(31162),R=l(97885),O=l(22758),D=l(32540),_=l(57969),j=l(33523);function $(I){return(0,R.Z)(I)?(0,o.Z)(I,_.Z):(0,O.Z)(I)?[I]:(0,m.Z)((0,D.Z)((0,j.Z)(I)))}S.Z=$},33523:function(Te,S,l){"use strict";l.d(S,{Z:function(){return z}});var o=l(187),m=l(95598),R=l(97885),O=l(22758),D=1/0,_=o.Z?o.Z.prototype:void 0,j=_?_.toString:void 0;function $(ee){if(typeof ee=="string")return ee;if((0,R.Z)(ee))return(0,m.Z)(ee,$)+"";if((0,O.Z)(ee))return j?j.call(ee):"";var te=ee+"";return te=="0"&&1/ee==-D?"-0":te}var I=$;function J(ee){return ee==null?"":I(ee)}var z=J},37164:function(Te,S,l){"use strict";l.d(S,{x0:function(){return O}});let o=D=>crypto.getRandomValues(new Uint8Array(D)),m=(D,_,j)=>{let $=(2<<Math.log(D.length-1)/Math.LN2)-1,I=-~(1.6*$*_/D.length);return(J=_)=>{let z="";for(;;){let ee=j(I),te=I;for(;te--;)if(z+=D[ee[te]&$]||"",z.length===J)return z}}},R=(D,_=21)=>m(D,_,o),O=(D=21)=>crypto.getRandomValues(new Uint8Array(D)).reduce((_,j)=>(j&=63,j<36?_+=j.toString(36):j<62?_+=(j-26).toString(36).toUpperCase():j>62?_+="-":_+="_",_),"")},37207:function(Te,S,l){"use strict";l.d(S,{V:function(){return D}});const o="\u037C",m=typeof Symbol=="undefined"?"__"+o:Symbol.for(o),R=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),O=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class D{constructor(I,J){this.rules=[];let{finish:z}=J||{};function ee(oe){return/^@/.test(oe)?[oe]:oe.split(/,\s*/)}function te(oe,ye,F,Y){let ve=[],se=/^@(\w+)\b/.exec(oe[0]),me=se&&se[1]=="keyframes";if(se&&ye==null)return F.push(oe[0]+";");for(let xe in ye){let re=ye[xe];if(/&/.test(xe))te(xe.split(/,\s*/).map(M=>oe.map(Ee=>M.replace(/&/,Ee))).reduce((M,Ee)=>M.concat(Ee)),re,F);else if(re&&typeof re=="object"){if(!se)throw new RangeError("The value of a property ("+xe+") should be a primitive value.");te(ee(xe),re,ve,me)}else re!=null&&ve.push(xe.replace(/_.*/,"").replace(/[A-Z]/g,M=>"-"+M.toLowerCase())+": "+re+";")}(ve.length||me)&&F.push((z&&!se&&!Y?oe.map(z):oe).join(", ")+" {"+ve.join(" ")+"}")}for(let oe in I)te(ee(oe),I[oe],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let I=O[m]||1;return O[m]=I+1,o+I.toString(36)}static mount(I,J){(I[R]||new j(I)).mount(Array.isArray(J)?J:[J])}}let _=new Map;class j{constructor(I){let J=I.ownerDocument||I,z=J.defaultView;if(!I.head&&I.adoptedStyleSheets&&z.CSSStyleSheet){let ee=_.get(J);if(ee)return I.adoptedStyleSheets=[ee.sheet,...I.adoptedStyleSheets],I[R]=ee;this.sheet=new z.CSSStyleSheet,I.adoptedStyleSheets=[this.sheet,...I.adoptedStyleSheets],_.set(J,this)}else{this.styleTag=J.createElement("style");let ee=I.head||I;ee.insertBefore(this.styleTag,ee.firstChild)}this.modules=[],I[R]=this}mount(I){let J=this.sheet,z=0,ee=0;for(let te=0;te<I.length;te++){let oe=I[te],ye=this.modules.indexOf(oe);if(ye<ee&&ye>-1&&(this.modules.splice(ye,1),ee--,ye=-1),ye==-1){if(this.modules.splice(ee++,0,oe),J)for(let F=0;F<oe.rules.length;F++)J.insertRule(oe.rules[F],z++)}else{for(;ee<ye;)z+=this.modules[ee++].rules.length;z+=oe.rules.length,ee++}}if(!J){let te="";for(let oe=0;oe<this.modules.length;oe++)te+=this.modules[oe].getRules()+`
`;this.styleTag.textContent=te}}}},75758:function(Te){"use strict";Te.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},22396:function(Te){"use strict";Te.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}])});Hu();})();

//# sourceMappingURL=4288.557b5033.chunk.js.map